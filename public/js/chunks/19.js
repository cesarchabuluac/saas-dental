/*! For license information please see 19.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+TAz":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("rePB"),i=(n("BIHw"),n("QGkA"),n("B6y2"),n("XuX8")),s=n.n(i),o=n("bEKI");s.a.use(o.default,{position:"bottom-right"});var a=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CheckIcon",i=(t={type:"success",icon:n,showCloseButton:!0,hideProgressBar:!1,closeButton:"button"},Object(r.a)(t,"icon",!0),Object(r.a)(t,"rtl",!1),t);s.a.prototype.$toast.success(e,i)},c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"XIcon",i=(t={type:"error",icon:n,showCloseButton:!0,hideProgressBar:!1,closeButton:"button"},Object(r.a)(t,"icon",!0),Object(r.a)(t,"rtl",!1),t);s.a.prototype.$toast.error(e,i)},u=function(e){var t,n,i=(t={type:"error",icon:"error",showCloseButton:!0,hideProgressBar:!1,closeButton:"button"},Object(r.a)(t,"icon",!0),Object(r.a)(t,"rtl",!1),t),o=e.message;if(console.log(o),e.response){var a=e.response.status,c=(n=e,console.log(n),n.response.data.errors?Object.values(n.response.data.errors).flat()[0]||null:n.response.data.message);switch(a){case 401:case 403:case 404:case 405:case 422:case 500:o=c||"Error en la solicitud."}}s.a.prototype.$toast.error(o,i)}},"+Y03":function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/flags/es.png"},"+okE":function(e,t,n){"use strict";n("Eprd")},"/akj":function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-5.jpg"},"0AAM":function(e,t,n){"use strict";n("fbCW"),n("07d7"),n("sMBO"),n("TeQF"),n("FNk8"),n("x0AG"),n("pDQq");var r=n("BCuY"),i=n("RxEo"),s=n("tK4P"),o=n("7eWi"),a=n("R5cT"),c=n("nqqA"),u=n("nWMH"),l=n.n(u),h=n("Cib9"),d=n("7Ql6"),f=n("fx5J"),p=n("tvh2"),m=n("werY"),g={components:{BNavbarNav:r.a,BNavItem:i.a,BTooltip:s.a,BNavItemDropdown:o.a,BFormInput:a.a,VuePerfectScrollbar:l.a,BDropdownItem:c.a},setup:function(){var e=Object(d.ref)(m.a.pages),t=Object(d.ref)(m.a.pages.data.filter((function(e){return e.isBookmarked&&(t=e.permission,n=p.a.getters["auth/getPermissions"],!!_.find(n,(function(e){return e.name===t})));var t,n}))),n=Object(d.ref)(-1),r=Object(h.a)({data:{pages:e.value},searchLimit:6}),i=r.searchQuery,s=r.resetsearchQuery,o=r.filteredData;Object(d.watch)(i,(function(e){p.a.commit("app/TOGGLE_OVERLAY",Boolean(e))})),Object(d.watch)(o,(function(e){n.value=e.pages&&!e.pages.length?-1:0}));return{bookmarks:t,perfectScrollbarSettings:{maxScrollbarLength:60},currentSelected:n,suggestionSelected:function(){var e=o.value.pages[n.value];f.a.push(e.route).catch((function(){})),s()},toggleBookmarked:function(e){var n=t.value.findIndex((function(t){return t.route===e.route}));n>-1?(t.value[n].isBookmarked=!1,t.value.splice(n,1)):(t.value.push(e),t.value[t.value.length-1].isBookmarked=!0)},searchQuery:i,resetsearchQuery:s,filteredData:o}}},v=(n("mMZB"),n("KHd+")),b=Object(v.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar-nav",{staticClass:"nav"},e._l(e.bookmarks,(function(t,r){return n("b-nav-item",{key:r,attrs:{id:"bookmark-"+r,to:t.route}},[n("feather-icon",{attrs:{icon:t.icon,size:"21"}}),e._v(" "),n("b-tooltip",{attrs:{triggers:"hover",target:"bookmark-"+r,title:e.$t(t.title),delay:{show:1e3,hide:50}}})],1)})),1)}),[],!1,null,"e755d08a",null);t.a=b.exports},"0LlZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("L3ns"),i=n("xjcK"),s=n("pyNs"),o=n("Io6r"),a=n("kGy3"),c=n("ex6f"),u=n("z3V6"),l=n("jBgq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Object(u.d)({fixed:Object(u.c)(s.u),print:Object(u.c)(s.g,!1),sticky:Object(u.c)(s.g,!1),tag:Object(u.c)(s.u,"nav"),toggleable:Object(u.c)(s.j,!1),type:Object(u.c)(s.u,"light"),variant:Object(u.c)(s.u)},i.jb),f=Object(r.c)({name:i.jb,mixins:[l.a],provide:function(){var e=this;return{getBvNavbar:function(){return e}}},props:d,computed:{breakpointClass:function(){var e=this.toggleable,t=Object(o.a)()[0],n=null;return e&&Object(c.n)(e)&&e!==t?n="navbar-expand-".concat(e):!1===e&&(n="navbar-expand"),n}},render:function(e){var t,n=this.tag,r=this.type,i=this.variant,s=this.fixed;return e(n,{staticClass:"navbar",class:[(t={"d-print":this.print,"sticky-top":this.sticky},h(t,"navbar-".concat(r),r),h(t,"bg-".concat(i),i),h(t,"fixed-".concat(s),s),t),this.breakpointClass],attrs:{role:Object(a.t)(n,"nav")?null:"navigation"}},[this.normalizeSlot()])}})},"0ySa":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n("1OyB"),i=n("vuIU"),s=(n("ma9I"),n("vDqi")),o=n.n(s),a=function(){function t(){Object(r.a)(this,t)}return Object(i.a)(t,[{key:"index",value:function(e){return o.a.get("/api/users",{params:e})}},{key:"permissions",value:function(){return o.a.get("api/permissions")}},{key:"store",value:function(e){return o.a.post("/api/users",e)}},{key:"update",value:function(e,t){return o.a.put("/api/users/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}})}},{key:"getUserDetail",value:function(e,t){return o.a.get("/api/users/".concat(e),{params:t})}},{key:"destroy",value:function(e){return o.a.delete("/api/users/".concat(e))}},{key:"getList",value:function(e){return o.a.get("/api/users",{params:e})}},{key:"activeUser",value:function(t,n,r){return o.a.post("".concat(e.env.API_URL,"/contacts/").concat(t,"/user/").concat(n),r)}},{key:"passwordChange",value:function(e){return o.a.put("api/change-password",e)}},{key:"getUserByCriteria",value:function(e){return o.a.get("/api/users/criteria",{params:{criteria:e}})}}]),t}()}).call(this,n("8oxB"))},"1z+X":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("1OyB"),i=n("vuIU"),s=n("vDqi"),o=n.n(s),a=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"fetch",value:function(){return o.a.get("/api/notifications")}},{key:"update",value:function(e,t){return o.a.put("/api/notifications/".concat(e),t)}},{key:"storeDeviceToken",value:function(e){return o.a.post("api/store-token",{token:e})}}]),e}()},"2AM2":function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-25.jpg"},"2fXf":function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),s=n("xluM"),o=n("4zBA"),a=n("xDBR"),c=n("g6v/"),u=n("BPiQ"),l=n("0Dky"),h=n("Gi26"),d=n("OpvP"),f=n("glrk"),p=n("/GqU"),m=n("oEtG"),g=n("V37c"),v=n("XGwC"),b=n("fHMY"),y=n("33Wh"),w=n("JBy8"),_=n("BX/b"),k=n("dBg+"),I=n("Bs8V"),O=n("m/L8"),T=n("N+g0"),S=n("0eef"),E=n("yy0I"),C=n("7dAM"),j=n("VpIT"),A=n("93I0"),x=n("0BK2"),R=n("kOOl"),D=n("tiKp"),N=n("5Tg+"),P=n("4GWN"),L=n("V7lt"),M=n("1E5z"),B=n("afO8"),F=n("tycR").forEach,U=A("hidden"),V=B.set,q=B.getterFor("Symbol"),H=Object.prototype,z=i.Symbol,$=z&&z.prototype,W=i.TypeError,K=i.QObject,G=I.f,Y=O.f,X=_.f,Q=S.f,J=o([].push),Z=j("symbols"),ee=j("op-symbols"),te=j("wks"),ne=!K||!K.prototype||!K.prototype.findChild,re=c&&l((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=G(H,t);r&&delete H[t],Y(e,t,n),r&&e!==H&&Y(H,t,r)}:Y,ie=function(e,t){var n=Z[e]=b($);return V(n,{type:"Symbol",tag:e,description:t}),c||(n.description=t),n},se=function(e,t,n){e===H&&se(ee,t,n),f(e);var r=m(t);return f(n),h(Z,r)?(n.enumerable?(h(e,U)&&e[U][r]&&(e[U][r]=!1),n=b(n,{enumerable:v(0,!1)})):(h(e,U)||Y(e,U,v(1,{})),e[U][r]=!0),re(e,r,n)):Y(e,r,n)},oe=function(e,t){f(e);var n=p(t),r=y(n).concat(le(n));return F(r,(function(t){c&&!s(ae,n,t)||se(e,t,n[t])})),e},ae=function(e){var t=m(e),n=s(Q,this,t);return!(this===H&&h(Z,t)&&!h(ee,t))&&(!(n||!h(this,t)||!h(Z,t)||h(this,U)&&this[U][t])||n)},ce=function(e,t){var n=p(e),r=m(t);if(n!==H||!h(Z,r)||h(ee,r)){var i=G(n,r);return!i||!h(Z,r)||h(n,U)&&n[U][r]||(i.enumerable=!0),i}},ue=function(e){var t=X(p(e)),n=[];return F(t,(function(e){h(Z,e)||h(x,e)||J(n,e)})),n},le=function(e){var t=e===H,n=X(t?ee:p(e)),r=[];return F(n,(function(e){!h(Z,e)||t&&!h(H,e)||J(r,Z[e])})),r};u||(E($=(z=function(){if(d($,this))throw W("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=R(e),n=function(e){this===H&&s(n,ee,e),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),re(this,t,v(1,e))};return c&&ne&&re(H,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return q(this).tag})),E(z,"withoutSetter",(function(e){return ie(R(e),e)})),S.f=ae,O.f=se,T.f=oe,I.f=ce,w.f=_.f=ue,k.f=le,N.f=function(e){return ie(D(e),e)},c&&(C($,"description",{configurable:!0,get:function(){return q(this).description}}),a||E(H,"propertyIsEnumerable",ae,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),F(y(te),(function(e){P(e)})),r({target:"Symbol",stat:!0,forced:!u},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?b(e):oe(b(e),t)},defineProperty:se,defineProperties:oe,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),L(),M(z,"Symbol"),x[U]=!0},"3Zo4":function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return w}));var r=n("L3ns"),i=n("xjcK"),s=n("pyNs"),o=n("m3aq"),a=n("Iyau"),c=n("hpAl"),u=n("z3V6"),l=n("+nMp"),h=n("la6Y"),d=n("kO/s"),f=n("jBgq"),p=n("GUe+"),m=n("2C+6");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Object(u.d)(Object(m.m)(v(v(v({},d.b),h.b),{},{block:Object(u.c)(s.g,!1),html:Object(u.c)(s.u),lazy:Object(u.c)(s.g,!1),menuClass:Object(u.c)(s.e),noCaret:Object(u.c)(s.g,!1),role:Object(u.c)(s.u,"menu"),size:Object(u.c)(s.u),split:Object(u.c)(s.g,!1),splitButtonType:Object(u.c)(s.u,"button",(function(e){return Object(a.a)(["button","submit","reset"],e)})),splitClass:Object(u.c)(s.e),splitHref:Object(u.c)(s.u),splitTo:Object(u.c)(s.s),splitVariant:Object(u.c)(s.u),text:Object(u.c)(s.u),toggleAttrs:Object(u.c)(s.q,{}),toggleClass:Object(u.c)(s.e),toggleTag:Object(u.c)(s.u,"button"),toggleText:Object(u.c)(s.u,"Toggle dropdown"),variant:Object(u.c)(s.u,"secondary")})),i.w),w=Object(r.c)({name:i.w,mixins:[d.a,h.a,f.a],props:y,computed:{dropdownClasses:function(){var e=this.block,t=this.split;return[this.directionClass,this.boundaryClass,{show:this.visible,"btn-group":t||!e,"d-flex":e&&t}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){var e=this.split;return[this.toggleClass,{"dropdown-toggle-split":e,"dropdown-toggle-no-caret":this.noCaret&&!e}]}},render:function(e){var t=this.visible,n=this.variant,r=this.size,i=this.block,s=this.disabled,a=this.split,u=this.role,h=this.hide,d=this.toggle,f={variant:n,size:r,block:i,disabled:s},m=this.normalizeSlot(o.f),g=this.hasNormalizedSlot(o.f)?{}:Object(c.a)(this.html,this.text),b=e();if(a){var y=this.splitTo,w=this.splitHref,_=this.splitButtonType,k=v(v({},f),{},{variant:this.splitVariant||n});y?k.to=y:w?k.href=w:_&&(k.type=_),b=e(p.a,{class:this.splitClass,attrs:{id:this.safeId("_BV_button_")},props:k,domProps:g,on:{click:this.onSplitClick},ref:"button"},m),m=[e("span",{class:["sr-only"]},[this.toggleText])],g={}}var I=e(p.a,{staticClass:"dropdown-toggle",class:this.toggleClasses,attrs:v(v({},this.toggleAttrs),{},{id:this.safeId("_BV_toggle_"),"aria-haspopup":["menu","listbox","tree","grid","dialog"].includes(u)?u:"false","aria-expanded":Object(l.g)(t)}),props:v(v({},f),{},{tag:this.toggleTag,block:i&&!a}),domProps:g,on:{mousedown:this.onMousedown,click:d,keydown:d},ref:"toggle"},m),O=e("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{role:u,tabindex:"-1","aria-labelledby":this.safeId(a?"_BV_button_":"_BV_toggle_")},on:{keydown:this.onKeydown},ref:"menu"},[!this.lazy||t?this.normalizeSlot(o.i,{hide:h}):e()]);return e("div",{staticClass:"dropdown b-dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[b,I,O])}})},"400d":function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/logo/SoftDental.png"},"4Brf":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),s=n("2oRo"),o=n("4zBA"),a=n("Gi26"),c=n("Fib7"),u=n("OpvP"),l=n("V37c"),h=n("7dAM"),d=n("6JNq"),f=s.Symbol,p=f&&f.prototype;if(i&&c(f)&&(!("description"in p)||void 0!==f().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};d(g,f),g.prototype=p,p.constructor=g;var v="Symbol(test)"==String(f("test")),b=o(p.valueOf),y=o(p.toString),w=/^Symbol\((.*)\)[^)]+$/,_=o("".replace),k=o("".slice);h(p,"description",{configurable:!0,get:function(){var e=b(this);if(a(m,e))return"";var t=y(e),n=v?k(t,7,-1):_(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},"4GWN":function(e,t,n){var r=n("Qo9l"),i=n("Gi26"),s=n("5Tg+"),o=n("m/L8").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:s.f(e)})}},"5Al2":function(e,t,n){"use strict";n("7Ig+")},"5Tg+":function(e,t,n){var r=n("tiKp");t.f=r},"5pEQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return h}));const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},"6DYs":function(e,t,n){var r=n("Jf6p");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(e.exports=r.locals)},"6Ytq":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("2C+6"),c=n("z3V6"),u=n("Sjgb"),l=n("qlm0");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=Object(a.j)(l.b,["event","routerTag"]);delete p.href.default,delete p.to.default;var m=Object(c.d)(Object(a.m)(d(d({},p),{},{pill:Object(c.c)(o.g,!1),tag:Object(c.c)(o.u,"span"),variant:Object(c.c)(o.u,"secondary")})),s.d),g=Object(r.c)({name:s.d,functional:!0,props:m,render:function(e,t){var n=t.props,r=t.data,s=t.children,o=n.active,a=n.disabled,h=Object(u.d)(n),d=h?l.a:n.tag,f=n.variant||"secondary";return e(d,Object(i.a)(r,{staticClass:"badge",class:["badge-".concat(f),{"badge-pill":n.pill,active:o,disabled:a}],props:h?Object(c.e)(p,n):{}}),s)}})},"7Ig+":function(e,t,n){var r=n("iGPo");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(e.exports=r.locals)},"7eWi":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("L3ns"),i=n("xjcK"),s=n("m3aq"),o=n("hpAl"),a=n("2C+6"),c=n("z3V6"),u=n("la6Y"),l=n("kO/s"),h=n("jBgq"),d=n("3Zo4"),f=n("qlm0");function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b,y=Object(c.d)(Object(a.m)(g(g({},l.b),Object(a.k)(d.b,[].concat(function(e){if(Array.isArray(e))return p(e)}(b=Object(a.h)(u.b))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(b)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["html","lazy","menuClass","noCaret","role","text","toggleClass"])))),i.nb),w=Object(r.c)({name:i.nb,mixins:[l.a,u.a,h.a],props:y,computed:{toggleId:function(){return this.safeId("_BV_toggle_")},menuId:function(){return this.safeId("_BV_toggle_menu_")},dropdownClasses:function(){return[this.directionClass,this.boundaryClass,{show:this.visible}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){return[this.toggleClass,{"dropdown-toggle-no-caret":this.noCaret}]}},render:function(e){var t=this.toggleId,n=this.menuId,r=this.visible,i=this.hide,a=e(f.a,{staticClass:"nav-link dropdown-toggle",class:this.toggleClasses,props:{href:"#".concat(this.id||""),disabled:this.disabled},attrs:{id:t,role:"button","aria-haspopup":"true","aria-expanded":r?"true":"false","aria-controls":n},on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle},ref:"toggle"},[this.normalizeSlot([s.f,s.S])||e("span",{domProps:Object(o.a)(this.html,this.text)})]),c=e("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{tabindex:"-1","aria-labelledby":t,id:n},on:{keydown:this.onKeydown},ref:"menu"},!this.lazy||r?this.normalizeSlot(s.i,{hide:i}):[e()]);return e("li",{staticClass:"nav-item b-nav-dropdown dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[a,c])}})},"7hmi":function(e,t,n){"use strict";var r=n("x+uP"),i=n("VTBJ"),s=n("HaE+"),o=n("W51F"),a=n("7Ql6"),c=n("RxEo"),u=n("tvh2"),l=new(n("0ySa").a),h={components:{BNavItem:c.a},setup:function(){var e=Object(o.a)().skin,t=Object(a.computed)((function(){return"dark"===e.value})),n=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var n,s,o,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.a.state.auth.user,s=Object(i.a)({isSettings:!0,theme:t.value?"dark":"light"},n),e.next=4,l.update(n.id,s);case 4:o=e.sent,a=o.data,console.log(a),a.success&&u.a.commit("auth/SET_CURRENT_USER",Object(i.a)({},a.data));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.watch)([t],(function(e){u.a.commit("auth/SET_THEME",e?"dark":"light"),n()})),{skin:e,isDark:t}}},d=n("KHd+"),f=Object(d.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav-item",{on:{click:function(t){e.skin=e.isDark?"light":"dark"}}},[n("feather-icon",{attrs:{size:"21",icon:(e.isDark?"Sun":"Moon")+"Icon"}})],1)}),[],!1,null,null,null);t.a=f.exports},"8H4s":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){}},"8y4F":function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return P}));var r,i=n("L3ns"),s=n("pyNs"),o=n("m3aq"),a=n("hpAl"),c=n("PCFI"),u=n("WPLV"),l=n("2C+6"),h=n("z3V6"),d=n("w+YJ"),f=n("nhTo"),p=n("3ec0"),m=n("qVMd"),g=n("qHSZ"),v=n("ex6f"),b=n("aGvM"),y=Object(h.d)({disabledField:Object(h.c)(s.u,"disabled"),htmlField:Object(h.c)(s.u,"html"),options:Object(h.c)(s.d,[]),textField:Object(h.c)(s.u,"text"),valueField:Object(h.c)(s.u,"value")},"formOptionControls"),w=Object(i.c)({props:y,computed:{formOptions:function(){return this.normalizeOptions(this.options)}},methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(v.k)(e)){var n=Object(g.a)(e,this.valueField),r=Object(g.a)(e,this.textField);return{value:Object(v.o)(n)?t||r:n,text:Object(a.b)(String(Object(v.o)(r)?t:r)),html:Object(g.a)(e,this.htmlField),disabled:Boolean(Object(g.a)(e,this.disabledField))}}return{value:t||e,text:Object(a.b)(String(e)),disabled:!1}},normalizeOptions:function(e){var t=this;return Object(v.a)(e)?e.map((function(e){return t.normalizeOption(e)})):Object(v.k)(e)?(Object(b.a)('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),Object(l.h)(e).map((function(n){return t.normalizeOption(e[n]||{},n)}))):[]}}}),_=n("rUdO"),k=n("1SAT"),I=n("kO/s"),O=n("jBgq");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=["aria-describedby","aria-labelledby"],j=Object(u.a)("checked"),A=j.mixin,x=j.props,R=j.prop,D=j.event,N=Object(h.d)(Object(l.m)(S(S(S(S(S(S(S(S({},I.b),x),p.b),y),_.b),k.b),m.b),{},{ariaInvalid:Object(h.c)(s.j,!1),buttonVariant:Object(h.c)(s.u),buttons:Object(h.c)(s.g,!1),stacked:Object(h.c)(s.g,!1),validated:Object(h.c)(s.g,!1)})),"formRadioCheckGroups"),P=Object(i.c)({mixins:[I.a,A,O.a,p.a,w,_.a,k.a,m.a],inheritAttrs:!1,props:N,data:function(){return{localChecked:this[R]}},computed:{inline:function(){return!this.stacked},groupName:function(){return this.name||this.safeId()},groupClasses:function(){var e=this.inline,t=this.size,n={"was-validated":this.validated};return this.buttons&&(n=[n,"btn-group-toggle",E({"btn-group":e,"btn-group-vertical":!e},"btn-group-".concat(t),t)]),n}},watch:(r={},E(r,R,(function(e){Object(c.a)(e,this.localChecked)||(this.localChecked=e)})),E(r,"localChecked",(function(e,t){Object(c.a)(e,t)||this.$emit(D,e)})),r),render:function(e){var t=this,n=this.isRadioGroup,r=Object(l.k)(this.$attrs,C),i=n?f.a:d.a,s=this.formOptions.map((function(n,s){var o="BV_option_".concat(s);return e(i,{props:{disabled:n.disabled||!1,id:t.safeId(o),value:n.value},attrs:r,key:o},[e("span",{domProps:Object(a.a)(n.html,n.text)})])}));return e("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:S(S({},Object(l.j)(this.$attrs,C)),{},{"aria-invalid":this.computedAriaInvalid,"aria-required":this.required?"true":null,id:this.safeId(),role:n?"radiogroup":"group",tabindex:"-1"})},[this.normalizeSlot(o.q),s,this.normalizeSlot()])}})},"9HyH":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("z3V6"),c=n("2C+6");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Object(a.d)({tag:Object(a.c)(o.u,"hr")},s.x),f=Object(r.c)({name:s.x,functional:!0,props:d,render:function(e,t){var n=t.props,r=t.data;return e("li",Object(i.a)(Object(c.j)(r,["attrs"]),{attrs:{role:"presentation"}}),[e(n.tag,{staticClass:"dropdown-divider",attrs:l(l({},r.attrs||{}),{},{role:"separator","aria-orientation":"horizontal"}),ref:"divider"})])}})},"9NeD":function(e,t,n){"use strict";var r=n("uFwe");var i=n("BsWD");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=n("x+uP"),a=n("HaE+"),c=(n("tkto"),n("FNk8"),n("07d7"),n("B6y2"),n("3bBZ"),n("T63A"),n("ma9I"),n("qePV"),n("LvDl")),u=n.n(c),l=n("R5cT"),h=n("qlm0"),d=n("SRip"),f=n("6KOa"),p=n("GUe+"),m=n("giZP"),g=n("O5lY"),v=n("w+YJ"),b=n("sove"),y=n("oVt+"),w=n("XhI9"),_=n("NlY+"),k=n("3Zo4"),I=n("nqqA"),O=n("mwM1"),T=n("AeMN"),S=n("aqyy"),E=n("5scn"),C=n("IF94"),j=n("NLYf"),A=n("6Ytq"),x=n("7Ql6"),R=n("nWMH"),D=n.n(R),N=n("Cib9"),P=n("x3S0"),L=n("fx5J"),M=n("tvh2"),B=n("werY"),F=new(n("ByUh").a),U={components:{BFormInput:l.a,BLink:h.a,BImg:d.a,BAvatar:f.a,BButton:p.a,BFormGroup:m.a,BFormCheckboxGroup:g.a,BFormCheckbox:v.a,BCol:b.a,BRow:y.a,BInputGroup:w.a,BInputGroupPrepend:_.a,BDropdown:k.a,BDropdownItem:I.a,BOverlay:O.a,BSpinner:T.a,BModal:S.a,VBModal:E.a,BCard:C.a,BMedia:j.a,BBadge:A.a,VuePerfectScrollbar:D.a},methods:{},setup:function(){var e=Object(x.ref)(!1),t=Object(x.ref)(!1),n=Object(x.ref)(""),i=Object(x.ref)([]),c=function(){var e=Object(a.a)(Object(o.a)().mark((function e(){var n,r,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.value=[],!(""==d.value||null==d.value&&d.value.length<3)){e.next=3;break}return e.abrupt("return",!1);case 3:return t.value=!0,n={search:d.value,sortBy:"name",sortDesc:"asc",perPage:10},i.value=[],e.next=8,F.nextAppointment(n);case 8:r=e.sent,s=r.data,t.value=!1,s.success&&(i.value=s.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=u.a.debounce(c,300),h=Object(N.a)({data:[],searchLimit:4}),d=h.searchQuery,f=h.resetsearchQuery,p=h.filteredData;Object(x.watch)(n,function(){var e=Object(a.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x.watch)(d,function(){var e=Object(a.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.a.commit("app/TOGGLE_OVERLAY",Boolean(t)),l();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var m=Object(x.ref)(-1);Object(x.watch)(p,(function(e){if(Object.values(e).some((function(e){return e.length}))){var t,n=null,i=Object(r.a)(Object.values(e).entries());try{for(i.s();!(t=i.n()).done;){var o=s(t.value,2),a=o[0];if(o[1].length){n=a;break}}}catch(e){i.e(e)}finally{i.f()}null!==n&&(m.value="".concat(n,".0"))}else m.value=-1}));return{loading:t,showSearchBar:e,perfectScrollbarSettings:{maxScrollbarLength:60},searchAndBookmarkData:B.a,title:P.d,suggestionSelected:function(t,n){if(!n&&-1!==m.value){var r=s(m.value.split("."),2),i=r[0],o=r[1];t=Object.keys(p.value)[i],n=p.value[t][o]}"pages"===t&&L.a.push(n.route).catch((function(){})),f(),e.value=!1},currentSelected:m,increaseIndex:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Object.values(p.value).some((function(e){return e.length}))){var t=m.value.split("."),n=s(t,2),r=n[0],i=n[1],o=Object.entries(p.value),a=o[r][1].length;if(e){if(a-1>i)m.value="".concat(r,".").concat(Number(i)+1);else if(r<o.length-1)for(var c=Number(r)+1;c<o.length;c++)if(o[c][1].length>0){m.value="".concat(Number(c),".0");break}}else if(Number(i))m.value="".concat(r,".").concat(Number(i)-1);else if(Number(r))for(var u=Number(r)-1;u>=0;u--)if(o[u][1].length>0){m.value="".concat(u,".").concat(o[u][1].length-1);break}}},nextAppointments:i,searchPatient:n,searchQuery:d,resetsearchQuery:f,filteredData:p}}},V=(n("z39Y"),n("KHd+")),q=Object(V.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"nav-item nav-search"},[n("a",{staticClass:"nav-link nav-link-search",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.showSearchBar=!0}}},[n("feather-icon",{attrs:{icon:"SearchIcon",size:"21"}})],1),e._v(" "),n("div",{staticClass:"search-input",class:{open:e.showSearchBar}},[n("div",{staticClass:"search-input-icon"},[n("feather-icon",{attrs:{icon:"SearchIcon"}})],1),e._v(" "),e.showSearchBar?n("b-form-input",{attrs:{placeholder:e.$t("appointments.input_next_search"),autofocus:"",autocomplete:"off"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.increaseIndex(!1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.increaseIndex(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showSearchBar=!1,e.resetsearchQuery()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.suggestionSelected(t)}],blur:function(t){t.stopPropagation(),e.showSearchBar=!1,e.resetsearchQuery()}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}):e._e(),e._v(" "),n("div",{staticClass:"search-input-close",on:{click:function(t){e.showSearchBar=!1,e.resetsearchQuery()}}},[n("feather-icon",{attrs:{icon:"XIcon"}})],1),e._v(" "),n("vue-perfect-scrollbar",{staticClass:"search-list search-list-main scroll-area overflow-hidden",class:{show:e.searchQuery},attrs:{settings:e.perfectScrollbarSettings,tagname:"ul"}},[n("li",[n("p",{staticClass:"suggestion-group-title"},[n("span",[e._v(e._s(e.$t("appointments.modal_next_title")))])])]),e._v(" "),n("li",[n("ul",[n("li",[n("b-overlay",{attrs:{show:e.loading,blur:"2px",variant:"transparent",rounded:"lg",opacity:"0.85"}},[n("ul",e._l(e.nextAppointments,(function(t,r){return n("li",{key:r,staticClass:"suggestions-groups-list"},[n("ul",[n("li",{staticClass:"suggestion-group-suggestion cursor-pointer"},[n("p",[n("strong",[e._v(e._s(e.$t("appointments.appointment"))+" "+e._s(t.custom_date_diff_humans))]),e._v(" "),n("small",{staticClass:"text-muted text-capitalize"},[e._v(e._s(e.dateTimeFormat(t.date)))])]),e._v(" "),n("div",{staticClass:"d-flex flex-sm-row flex-column flex-wrap justify-content-between mb-1 mb-sm-0"},[n("p",[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(t.full_name)),n("br"),e._v(" "),n("small",{staticClass:"text-secondary"},[n("feather-icon",{attrs:{icon:"TerminalIcon",size:"16"}}),e._v(e._s(t.document_type)+": "+e._s(t.rut))],1),n("br"),e._v(" "),n("small",{staticClass:"text-secondary"},[n("feather-icon",{attrs:{icon:"MailIcon",size:"16"}}),e._v(" "+e._s(t.email))],1),n("br"),e._v(" "),n("small",{staticClass:"text-secondary"},[n("feather-icon",{attrs:{icon:"PhoneIcon",size:"16"}}),e._v(" "+e._s(t.phone))],1),n("br"),e._v(" "),n("small",[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.$t("appointments.state"))+":\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),n("b-badge",{attrs:{variant:""+e.resolveStateAppointmentColor(t.state)}},[e._v(e._s(e.resolveStateAppointment(t.state)))])],1)])]),e._v(" "),n("small",[e._v(e._s(e.$t("appointments.table_observations"))+": "+e._s(t.intern_observation))]),e._v(" "),n("b-media",{staticClass:"mt-1",scopedSlots:e._u([{key:"aside",fn:function(){return[n("b-avatar",{attrs:{size:"24",src:null,text:e.avatarText(t.name)}})]},proxy:!0}],null,!0)},[e._v(" "),n("small",[e._v(e._s(e.$t("appointments.doctor_will_assist_you").replace(":doctor",t.name)))])])],1)])])})),0)])],1)])]),e._v(" "),!e.nextAppointments.length&&e.searchQuery?n("li",{staticClass:"suggestion-group-suggestion no-results"},[n("p",[e._v(e._s(e.$t("no_results_found")))])]):e._e()])],1)])}),[],!1,null,"ddee06e4",null);t.a=q.exports},"9s6g":function(e,t,n){"use strict";var r=n("s9/m"),i=n("W51F"),s={components:{AppBreadcrumb:r.a},setup:function(){var e=Object(i.a)();return{routerTransition:e.routerTransition,contentWidth:e.contentWidth}}},o=n("KHd+"),a=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-content content",class:[{"show-overlay":e.$store.state.app.shallShowOverlay},e.$route.meta.contentClass]},[n("div",{staticClass:"content-overlay"}),e._v(" "),n("div",{staticClass:"header-navbar-shadow"}),e._v(" "),n("transition",{attrs:{name:e.routerTransition,mode:"out-in"}},[n("div",{staticClass:"content-wrapper clearfix",class:"boxed"===e.contentWidth?"container p-0":null},[e._t("breadcrumb",[n("app-breadcrumb")]),e._v(" "),n("div",{staticClass:"content-detached content-right"},[n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-body"},[e._t("default")],2)])]),e._v(" "),n("portal-target",{attrs:{name:"content-renderer-sidebar-detached-left",slim:""}})],2)])],1)}),[],!1,null,null,null);t.a=a.exports},"9x99":function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-7.jpg"},ANFy:function(e,t,n){"use strict";var r=n("x+uP"),i=n("HaE+"),s=(n("ma9I"),n("2B1R"),n("TeQF"),n("07d7"),n("pNMO"),n("4Brf"),n("LvDl")),o=n.n(s),a=n("tvh2"),c=n("SYAB"),u=n("7eWi"),l=n("6Ytq"),h=n("NLYf"),d=n("qlm0"),f=n("6KOa"),p=n("GUe+"),m=n("w+YJ"),g=n("mwM1"),v=n("AeMN"),b=n("nWMH"),y=n.n(b),w=n("4AkS"),_=(n("+TAz"),n("1z+X")),k=n("7Ql6"),I=new _.a,O={components:{BNavItemDropdown:u.a,BBadge:l.a,BMedia:h.a,BLink:d.a,BAvatar:f.a,VuePerfectScrollbar:y.a,BButton:p.a,BFormCheckbox:m.a,BOverlay:g.a,BSpinner:v.a},directives:{Ripple:w.a},created:function(){},mounted:function(){},methods:{getRegToken:function(e){c.b.getToken().then((function(e){e?saveToken(e):this.danger("No Instance ID token available. Request permission to generate one.","Error","AlertCircleIcon")})).catch((function(e){this.danger("An error occurred while retrieving token.","Error","AlertCircleIcon"),console.log("An error occurred while retrieving token. ",e)}))},saveToken:function(e){I.storeDeviceToken(e)},checkTokenDevice:function(e){var t=this;"Notification"in window&&c.a.messaging.isSupported()&&(e||c.a.messaging().getToken({vapidKey:localStorage.getItem("vapid_key")}).then((function(e){e?t.saveToken(e):console.warn("Failed to get token.")})))},listenNotifications:function(){var e=this;window.Echo.private("App.Models.User.".concat(a.a.getters["auth/getUserId"])).notification((function(t){"Notification"in window?Notification.requestPermission((function(n){e.fetchNotifications();new Notification("Soft-Dental",{body:"".concat(t.title,", ").concat(t.message),icon:localStorage.getItem("logo")})})):alert("Web Notification is not supported")})).error((function(e){console.error("Error en la suscripción de Pusher:",e)}))}},setup:function(){var e=Object(k.ref)(!1),t=Object(k.ref)([]),n=function(){var n=Object(i.a)(Object(r.a)().mark((function n(){var i,s;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.value=!0,n.next=3,I.fetch();case 3:i=n.sent,s=i.data,e.value=!1,t.value=s.map((function(e){var t,n;return{id:e.id,title:e.data.title,icon:null===(t=e.data.data)||void 0===t?void 0:t.iconTask,subtitle:e.data.message,type:null===(n=e.data.data)||void 0===n?void 0:n.typeTask}}));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(k.onMounted)(Object(i.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))));var s=function(){var n=Object(i.a)(Object(r.a)().mark((function n(i){return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.value=!0,n.next=3,I.update(i.id,{read_at:!0});case 3:e.value=!1,t.value=t.value.filter((function(e){return e.id!==i.id}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),a=function(){var n=Object(i.a)(Object(r.a)().mark((function n(){var i,s,a;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.value=!0,i=o.a.first(t.value),n.next=4,I.update(i.id,{read_all:!0});case 4:s=n.sent,a=s.data,e.value=!1,t.value=a.data.map((function(e){return{id:e.id,title:e.data.title,icon:e.data.task.iconTask,subtitle:e.data.task.description,type:e.data.task.typeTask}}));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{loading:e,notifications:t,systemNotifications:[],perfectScrollbarSettings:{maxScrollbarLength:60,wheelPropagation:!1},onRead:s,onReadAll:a}}},T=n("KHd+"),S=Object(T.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav-item-dropdown",{staticClass:"dropdown-notification mr-25",attrs:{"menu-class":"dropdown-menu-media",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("feather-icon",{staticClass:"text-body",attrs:{badge:e.notifications.length,"badge-classes":"bg-danger",icon:"BellIcon",size:"21"}})]},proxy:!0}])},[e._v(" "),n("li",{staticClass:"dropdown-menu-header"},[n("div",{staticClass:"dropdown-header d-flex"},[n("h4",{staticClass:"notification-title mb-0 mr-auto"},[e._v(e._s(e.$t("notifications.plural")))]),e._v(" "),n("b-badge",{attrs:{pill:"",variant:"light-primary"}},[e._v(" "+e._s(e.$t("new_notifications").replace(":quantity",e.notifications.length))+" ")])],1)]),e._v(" "),n("vue-perfect-scrollbar",{staticClass:"scrollable-container media-list scroll-area",attrs:{settings:e.perfectScrollbarSettings,tagname:"li"}},[n("b-overlay",{attrs:{show:e.loading,blur:"2px",variant:"transparent",rounded:"lg",opacity:"0.85"},scopedSlots:e._u([{key:"overlay",fn:function(){return[n("div",{staticClass:"d-flex align-items-center"},[n("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),e._v(" "),n("b-spinner",{attrs:{type:"grow",variant:"dark"}}),e._v(" "),n("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}})],1)]},proxy:!0}])},[e._v(" "),e._l(e.notifications,(function(t,r){return n("b-link",{key:r+t.id,on:{click:function(n){return e.onRead(t)}}},[n("b-media",{scopedSlots:e._u([{key:"aside",fn:function(){return[n("b-avatar",{attrs:{size:"32",variant:t.type}},[n("feather-icon",{attrs:{icon:t.icon}})],1)]},proxy:!0}],null,!0)},[e._v(" "),n("p",{staticClass:"media-heading"},[n("span",{staticClass:"font-weight-bolder"},[e._v("\n                            "+e._s(t.title)+"\n                        ")])]),e._v(" "),n("small",{staticClass:"notification-text_ font-weight-bolder",domProps:{innerHTML:e._s(t.subtitle)}})])],1)}))],2)],1),e._v(" "),e.notifications.length>0?n("li",{staticClass:"dropdown-menu-footer"},[n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{disabled:e.loading,variant:"primary",block:""},on:{click:e.onReadAll}},[e._v(e._s(e.$t("notifications.read_all")))])],1):e._e()],1)}),[],!1,null,null,null);t.a=S.exports},AeMN:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("m3aq"),c=n("Nlw7"),u=n("z3V6");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=Object(u.d)({label:Object(u.c)(o.u),role:Object(u.c)(o.u,"status"),small:Object(u.c)(o.g,!1),tag:Object(u.c)(o.u,"span"),type:Object(u.c)(o.u,"border"),variant:Object(u.c)(o.u)},s.wb),d=Object(r.c)({name:s.wb,functional:!0,props:h,render:function(e,t){var n,r=t.props,s=t.data,o=t.slots,u=t.scopedSlots,h=o(),d=u||{},f=Object(c.b)(a.x,{},d,h)||r.label;return f&&(f=e("span",{staticClass:"sr-only"},f)),e(r.tag,Object(i.a)(s,{attrs:{role:f?r.role||"status":null,"aria-hidden":f?null:"true"},class:(n={},l(n,"spinner-".concat(r.type),r.type),l(n,"spinner-".concat(r.type,"-sm"),r.small),l(n,"text-".concat(r.variant),r.variant),n)}),[f||e()])}})},B2Qx:function(e,t,n){var r=n("NXXv");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(e.exports=r.locals)},BCuY:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("2C+6"),a=n("z3V6"),c=n("Wfsh");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=Object(a.d)(Object(o.k)(c.b,["tag","fill","justified","align","small"]),s.kb),h=Object(r.c)({name:s.kb,functional:!0,props:l,render:function(e,t){var n,r,s=t.props,o=t.data,a=t.children,c=s.align;return e(s.tag,Object(i.a)(o,{staticClass:"navbar-nav",class:(n={"nav-fill":s.fill,"nav-justified":s.justified},u(n,(r=c,"justify-content-".concat(r="left"===r?"start":"right"===r?"end":r)),c),u(n,"small",s.small),n)}),a)}})},"BX/b":function(e,t,n){var r=n("xrYK"),i=n("/GqU"),s=n("JBy8").f,o=n("Ta7t"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==r(e)?function(e){try{return s(e)}catch(e){return o(a)}}(e):s(i(e))}},ByUh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("1OyB"),i=n("vuIU"),s=n("vDqi"),o=n.n(s),a=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"index",value:function(e){return o.a.get("/api/patients",{params:e})}},{key:"save",value:function(e){return o.a.post("/api/patients",e)}},{key:"update",value:function(e,t){return o.a.put("/api/patients/".concat(e),t)}},{key:"getPatientDetail",value:function(e,t){return o.a.get("/api/patients/".concat(e),{params:t})}},{key:"show",value:function(e,t){return t.isPdf||t.isPrint?o.a.get("/api/patients/".concat(e),{params:t,responseType:"arraybuffer"}):o.a.get("/api/patients/".concat(e),{params:t})}},{key:"deletePatient",value:function(e){return o.a.delete("/api/patients/".concat(e))}},{key:"getList",value:function(e){return o.a.get("/api/patients",{params:e})}},{key:"find",value:function(e){return o.a.get("/api/patients/".concat(e))}},{key:"filterList",value:function(){return o.a.get("/api/patients/filter")}},{key:"search",value:function(e){return o.a.get("/api/patients/search",{params:e})}},{key:"nextAppointment",value:function(e){return o.a.get("/api/patients/next-appointment",{params:e})}}]),e}()},C0Od:function(e,t,n){var r=n("BPiQ");e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},CCl1:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return cu})),n.d(t,"b",(function(){return ic})),n.d(t,"c",(function(){return Ha})),n.d(t,"d",(function(){return Ra})),n.d(t,"e",(function(){return Mc})),n.d(t,"f",(function(){return rc})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return oc})),n.d(t,"i",(function(){return Bc})),n.d(t,"j",(function(){return Fc})),n.d(t,"k",(function(){return F})),n.d(t,"l",(function(){return hu})),n.d(t,"m",(function(){return wa})),n.d(t,"n",(function(){return oe})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return Ea})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return Y})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return Ia})),n.d(t,"u",(function(){return Iu})),n.d(t,"v",(function(){return Du})),n.d(t,"w",(function(){return Ru})),n.d(t,"x",(function(){return Xa})),n.d(t,"y",(function(){return Pa})),n.d(t,"z",(function(){return La})),n.d(t,"A",(function(){return xa})),n.d(t,"B",(function(){return ku})),n.d(t,"C",(function(){return Au})),n.d(t,"D",(function(){return Za})),n.d(t,"E",(function(){return Ma})),n.d(t,"F",(function(){return Ka})),n.d(t,"G",(function(){return Ga})),n.d(t,"H",(function(){return Ja})),n.d(t,"I",(function(){return ru})),n.d(t,"J",(function(){return nu})),n.d(t,"K",(function(){return $a})),n.d(t,"L",(function(){return Su})),n.d(t,"M",(function(){return fu})),n.d(t,"N",(function(){return mu})),n.d(t,"O",(function(){return gu})),n.d(t,"P",(function(){return vu})),n.d(t,"Q",(function(){return bu})),n.d(t,"R",(function(){return yu})),n.d(t,"S",(function(){return Nu})),n.d(t,"T",(function(){return Xc})),n.d(t,"U",(function(){return Qc})),n.d(t,"V",(function(){return ec})),n.d(t,"W",(function(){return tc})),n.d(t,"X",(function(){return Ou})),n.d(t,"Y",(function(){return Tu})),n.d(t,"Z",(function(){return Gc})),n.d(t,"ab",(function(){return zc})),n.d(t,"bb",(function(){return Fa})),n.d(t,"cb",(function(){return Ba})),n.d(t,"db",(function(){return ju})),n.d(t,"eb",(function(){return xu})),n.d(t,"fb",(function(){return wu})),n.d(t,"gb",(function(){return f})),n.d(t,"hb",(function(){return Vc})),n.d(t,"ib",(function(){return eu})),n.d(t,"jb",(function(){return Zc})),n.d(t,"kb",(function(){return _u})),n.d(t,"lb",(function(){return Qa})),n.d(t,"mb",(function(){return Wc}));var r=n("WJvL"),i=n("IuUc"),s=n("5pEQ"),o=n("H9WU"),a=n("j2t6");const c="@firebase/firestore";class u{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}u.UNAUTHENTICATED=new u(null),u.GOOGLE_CREDENTIALS=new u("google-credentials-uid"),u.FIRST_PARTY=new u("first-party-uid"),u.MOCK_USER=new u("mock-user");let l="9.6.1";const h=new s.b("@firebase/firestore");function d(){return h.logLevel}function f(e){h.setLogLevel(e)}function p(e,...t){if(h.logLevel<=s.a.DEBUG){const n=t.map(v);h.debug(`Firestore (${l}): ${e}`,...n)}}function m(e,...t){if(h.logLevel<=s.a.ERROR){const n=t.map(v);h.error(`Firestore (${l}): ${e}`,...n)}}function g(e,...t){if(h.logLevel<=s.a.WARN){const n=t.map(v);h.warn(`Firestore (${l}): ${e}`,...n)}}function v(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function b(e="Unexpected state"){const t=`FIRESTORE (${l}) INTERNAL ASSERTION FAILED: `+e;throw m(t),new Error(t)}function y(e,t){e||b()}function w(e,t){e||b()}function _(e,t){return e}const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class I extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class O{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(u.UNAUTHENTICATED))}shutdown(){}}class E{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class C{constructor(e){this.t=e,this.currentUser=u.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new O;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new O,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new O)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(y("string"==typeof t.accessToken),new T(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return y(null===e||"string"==typeof e),new u(e)}}class j{constructor(e,t,n){this.type="FirstParty",this.user=u.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class A{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new j(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(u.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable(()=>(e=>(null!=e.error&&p("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: "+e.error.message),t(e.token)))(n))};const n=e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(y("string"==typeof e.token),new x(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class D{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function N(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}D.I=-1;class P{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=N(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function L(e,t){return e<t?-1:e>t?1:0}function M(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function B(e){return e+"\0"}class F{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new I(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new I(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new I(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new I(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return F.fromMillis(Date.now())}static fromDate(e){return F.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new F(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?L(this.nanoseconds,e.nanoseconds):L(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new F(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function V(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function q(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function H(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class z{constructor(e,t,n){void 0===t?t=0:t>e.length&&b(),void 0===n?n=e.length-t:n>e.length-t&&b(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===z.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof z?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $ extends z{construct(e,t,n){return new $(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new I(k.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new $(t)}static emptyPath(){return new $([])}}const W=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class K extends z{construct(e,t,n){return new K(e,t,n)}static isValidIdentifier(e){return W.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),K.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new K(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new I(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new I(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new I(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new I(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new K(t)}static emptyPath(){return new K([])}}class G{constructor(e){this.fields=e,e.sort(K.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return M(this.fields,e.fields,(e,t)=>e.isEqual(t))}}function Y(){return"undefined"!=typeof atob}class X{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new X(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new X(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return L(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}X.EMPTY_BYTE_STRING=new X("");const Q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function J(e){if(y(!!e),"string"==typeof e){let t=0;const n=Q.exec(e);if(y(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Z(e.seconds),nanos:Z(e.nanos)}}function Z(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ee(e){return"string"==typeof e?X.fromBase64String(e):X.fromUint8Array(e)}function te(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ne(e){const t=J(e.mapValue.fields.__local_write_time__.timestampValue);return new F(t.seconds,t.nanos)}function re(e){return null==e}function ie(e){return 0===e&&1/e==-1/0}function se(e){return"number"==typeof e&&Number.isInteger(e)&&!ie(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class oe{constructor(e){this.path=e}static fromPath(e){return new oe($.fromString(e))}static fromName(e){return new oe($.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===$.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new $(e.slice()))}}function ae(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?te(e)?4:10:b()}function ce(e,t){const n=ae(e);if(n!==ae(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ne(e).isEqual(ne(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=J(e.timestampValue),r=J(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ee(e.bytesValue).isEqual(ee(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Z(e.geoPointValue.latitude)===Z(t.geoPointValue.latitude)&&Z(e.geoPointValue.longitude)===Z(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Z(e.integerValue)===Z(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Z(e.doubleValue),r=Z(t.doubleValue);return n===r?ie(n)===ie(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return M(e.arrayValue.values||[],t.arrayValue.values||[],ce);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(V(n)!==V(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!ce(n[e],r[e])))return!1;return!0}(e,t);default:return b()}}function ue(e,t){return void 0!==(e.values||[]).find(e=>ce(e,t))}function le(e,t){const n=ae(e),r=ae(t);if(n!==r)return L(n,r);switch(n){case 0:return 0;case 1:return L(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Z(e.integerValue||e.doubleValue),r=Z(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return he(e.timestampValue,t.timestampValue);case 4:return he(ne(e),ne(t));case 5:return L(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ee(e),r=ee(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=L(n[e],r[e]);if(0!==t)return t}return L(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=L(Z(e.latitude),Z(t.latitude));return 0!==n?n:L(Z(e.longitude),Z(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=le(n[e],r[e]);if(t)return t}return L(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=L(r[e],s[e]);if(0!==t)return t;const o=le(n[r[e]],i[s[e]]);if(0!==o)return o}return L(r.length,s.length)}(e.mapValue,t.mapValue);default:throw b()}}function he(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return L(e,t);const n=J(e),r=J(t),i=L(n.seconds,r.seconds);return 0!==i?i:L(n.nanos,r.nanos)}function de(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const t=J(e);return`time(${t.seconds},${t.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ee(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,oe.fromName(r).toString()):"geoPointValue"in t?`geo(${(n=t.geoPointValue).latitude},${n.longitude})`:"arrayValue"in t?function(t){let n="[",r=!0;for(const i of t.values||[])r?r=!1:n+=",",n+=e(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",i=!0;for(const s of n)i?i=!1:r+=",",r+=`${s}:${e(t.fields[s])}`;return r+"}"}(t.mapValue):b();var n,r}(e)}function fe(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function pe(e){return!!e&&"integerValue"in e}function me(e){return!!e&&"arrayValue"in e}function ge(e){return!!e&&"nullValue"in e}function ve(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function be(e){return!!e&&"mapValue"in e}function ye(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return q(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ye(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ye(e.arrayValue.values[n]);return t}return Object.assign({},e)}class we{constructor(e){this.value=e}static empty(){return new we({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!be(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ye(t)}setAll(e){let t=K.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ye(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());be(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ce(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];be(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){q(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new we(ye(this.value))}}function _e(e){const t=[];return q(e.fields,(e,n)=>{const r=new K([e]);if(be(n)){const e=_e(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new G(t)}class ke{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new ke(e,0,U.min(),we.empty(),0)}static newFoundDocument(e,t,n){return new ke(e,1,t,n,0)}static newNoDocument(e,t){return new ke(e,2,t,we.empty(),0)}static newUnknownDocument(e,t){return new ke(e,3,t,we.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=we.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=we.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new ke(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ie{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.R=null}}function Oe(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Ie(e,t,n,r,i,s,o)}function Te(e){const t=_(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+de(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),re(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Be(t.startAt)),t.endAt&&(e+="|ub:",e+=Be(t.endAt)),t.R=e}return t.R}function Se(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ue(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!ce(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qe(e.startAt,t.startAt)&&qe(e.endAt,t.endAt)}function Ee(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ce extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new je(e,t,n):"array-contains"===t?new De(e,n):"in"===t?new Ne(e,n):"not-in"===t?new Pe(e,n):"array-contains-any"===t?new Le(e,n):new Ce(e,t,n)}static P(e,t,n){return"in"===t?new Ae(e,n):new xe(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(le(t,this.value)):null!==t&&ae(this.value)===ae(t)&&this.v(le(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return b()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class je extends Ce{constructor(e,t,n){super(e,t,n),this.key=oe.fromName(n.referenceValue)}matches(e){const t=oe.comparator(e.key,this.key);return this.v(t)}}class Ae extends Ce{constructor(e,t){super(e,"in",t),this.keys=Re("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xe extends Ce{constructor(e,t){super(e,"not-in",t),this.keys=Re("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Re(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>oe.fromName(e.referenceValue))}class De extends Ce{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return me(t)&&ue(t.arrayValue,this.value)}}class Ne extends Ce{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ue(this.value.arrayValue,t)}}class Pe extends Ce{constructor(e,t){super(e,"not-in",t)}matches(e){if(ue(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ue(this.value.arrayValue,t)}}class Le extends Ce{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!me(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ue(this.value.arrayValue,e))}}class Me{constructor(e,t){this.position=e,this.before=t}}function Be(e){return`${e.before?"b":"a"}:${e.position.map(e=>de(e)).join(",")}`}class Fe{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ue(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ve(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?oe.comparator(oe.fromName(o.referenceValue),n.key):le(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function qe(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ce(e.position[n],t.position[n]))return!1;return!0}class He{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function ze(e,t,n,r,i,s,o,a){return new He(e,t,n,r,i,s,o,a)}function $e(e){return new He(e)}function We(e){return!re(e.limit)&&"F"===e.limitType}function Ke(e){return!re(e.limit)&&"L"===e.limitType}function Ge(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ye(e){for(const t of e.filters)if(t.V())return t.field;return null}function Xe(e){return null!==e.collectionGroup}function Qe(e){const t=_(e);if(null===t.S){t.S=[];const e=Ye(t),n=Ge(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new Fe(e)),t.S.push(new Fe(K.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Fe(K.keyField(),e))}}}return t.S}function Je(e){const t=_(e);if(!t.D)if("F"===t.limitType)t.D=Oe(t.path,t.collectionGroup,Qe(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Qe(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Fe(n.field,t))}const n=t.endAt?new Me(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Me(t.startAt.position,!t.startAt.before):null;t.D=Oe(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function Ze(e,t,n){return new He(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function et(e,t){return Se(Je(e),Je(t))&&e.limitType===t.limitType}function tt(e){return`${Te(Je(e))}|lt:${e.limitType}`}function nt(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${de(t.value)}`;var t}).join(", ")}]`),re(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+Be(e.startAt)),e.endAt&&(t+=", endAt: "+Be(e.endAt)),`Target(${t})`}(Je(e))}; limitType=${e.limitType})`}function rt(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oe.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ve(e.startAt,Qe(e),t))&&(!e.endAt||!Ve(e.endAt,Qe(e),t))}(e,t)}function it(e){return(t,n)=>{let r=!1;for(const i of Qe(e)){const e=st(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function st(e,t,n){const r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?le(r,i):b()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return b()}}function ot(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ie(t)?"-0":t}}function at(e){return{integerValue:""+e}}function ct(e,t){return se(t)?at(t):ot(e,t)}class ut{constructor(){this._=void 0}}function lt(e,t,n){return e instanceof ft?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pt?mt(e,t):e instanceof gt?vt(e,t):function(e,t){const n=dt(e,t),r=yt(n)+yt(e.N);return pe(n)&&pe(e.N)?at(r):ot(e.k,r)}(e,t)}function ht(e,t,n){return e instanceof pt?mt(e,t):e instanceof gt?vt(e,t):n}function dt(e,t){return e instanceof bt?pe(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ft extends ut{}class pt extends ut{constructor(e){super(),this.elements=e}}function mt(e,t){const n=wt(t);for(const t of e.elements)n.some(e=>ce(e,t))||n.push(t);return{arrayValue:{values:n}}}class gt extends ut{constructor(e){super(),this.elements=e}}function vt(e,t){let n=wt(t);for(const t of e.elements)n=n.filter(e=>!ce(e,t));return{arrayValue:{values:n}}}class bt extends ut{constructor(e,t){super(),this.k=e,this.N=t}}function yt(e){return Z(e.integerValue||e.doubleValue)}function wt(e){return me(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class _t{constructor(e,t){this.field=e,this.transform=t}}class kt{constructor(e,t){this.version=e,this.transformResults=t}}class It{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new It}static exists(e){return new It(void 0,e)}static updateTime(e){return new It(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ot(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Tt{}function St(e,t,n){e instanceof xt?function(e,t,n){const r=e.value.clone(),i=Nt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Rt?function(e,t,n){if(!Ot(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Nt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Et(e,t,n){e instanceof xt?function(e,t,n){if(!Ot(e.precondition,t))return;const r=e.value.clone(),i=Pt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(At(t),r).setHasLocalMutations()}(e,t,n):e instanceof Rt?function(e,t,n){if(!Ot(e.precondition,t))return;const r=Pt(e.fieldTransforms,n,t),i=t.data;i.setAll(Dt(e)),i.setAll(r),t.convertToFoundDocument(At(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Ot(e.precondition,t)&&t.convertToNoDocument(U.min())}(e,t)}function Ct(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=dt(r.transform,e||null);null!=i&&(null==n&&(n=we.empty()),n.set(r.field,i))}return n||null}function jt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&M(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pt&&t instanceof pt||e instanceof gt&&t instanceof gt?M(e.elements,t.elements,ce):e instanceof bt&&t instanceof bt?ce(e.N,t.N):e instanceof ft&&t instanceof ft}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function At(e){return e.isFoundDocument()?e.version:U.min()}class xt extends Tt{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Rt extends Tt{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Dt(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Nt(e,t,n){const r=new Map;y(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ht(o,a,n[i]))}return r}function Pt(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,lt(e,s,t))}return r}class Lt extends Tt{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Mt extends Tt{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Bt{constructor(e){this.count=e}}var Ft,Ut;function Vt(e){switch(e){default:return b();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function qt(e){if(void 0===e)return m("GRPC error has no .code"),k.UNKNOWN;switch(e){case Ft.OK:return k.OK;case Ft.CANCELLED:return k.CANCELLED;case Ft.UNKNOWN:return k.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return k.INTERNAL;case Ft.UNAVAILABLE:return k.UNAVAILABLE;case Ft.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ft.NOT_FOUND:return k.NOT_FOUND;case Ft.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ft.ABORTED:return k.ABORTED;case Ft.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ft.DATA_LOSS:return k.DATA_LOSS;default:return b()}}(Ut=Ft||(Ft={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";class Ht{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zt(this.root,e,this.comparator,!1)}getReverseIterator(){return new zt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zt(this.root,e,this.comparator,!0)}}class zt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:$t.RED,this.left=null!=r?r:$t.EMPTY,this.right=null!=i?i:$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new $t(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $t.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw b();if(this.right.isRed())throw b();const e=this.left.check();if(e!==this.right.check())throw b();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1,$t.EMPTY=new class{constructor(){this.size=0}get key(){throw b()}get value(){throw b()}get color(){throw b()}get left(){throw b()}get right(){throw b()}copy(e,t,n,r,i){return this}insert(e,t,n){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kt(this.data.getIterator())}getIteratorFrom(e){return new Kt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Wt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class Kt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Gt=new Ht(oe.comparator);function Yt(){return Gt}const Xt=new Ht(oe.comparator);function Qt(){return Xt}const Jt=new Ht(oe.comparator);function Zt(){return Jt}const en=new Wt(oe.comparator);function tn(...e){let t=en;for(const n of e)t=t.add(n);return t}const nn=new Wt(L);function rn(){return nn}class sn{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,on.createSynthesizedTargetChangeForCurrentChange(e,t)),new sn(U.min(),n,rn(),Yt(),tn())}}class on{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new on(X.EMPTY_BYTE_STRING,t,tn(),tn(),tn())}}class an{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.F=r}}class cn{constructor(e,t){this.targetId=e,this.O=t}}class un{constructor(e,t,n=X.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ln{constructor(){this.M=0,this.L=fn(),this.B=X.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=tn(),t=tn(),n=tn();return this.L.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:b()}}),new on(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=fn()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class hn{constructor(e){this.et=e,this.nt=new Map,this.st=Yt(),this.it=dn(),this.rt=new Wt(L)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:b()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((e,n)=>{this.lt(n)&&t(n)})}dt(e){const t=e.targetId,n=e.O.count,r=this.wt(t);if(r){const e=r.target;if(Ee(e))if(0===n){const n=new oe(e.path);this.ct(t,n,ke.newNoDocument(n,U.min()))}else y(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Ee(i.target)){const t=new oe(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.ct(r,t,ke.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}});let n=tn();this.it.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new sn(e,t,this.rt,this.st,n);return this.st=Yt(),this.it=dn(),this.rt=new Wt(L),r}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new ln,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Wt(L),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new ln),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function dn(){return new Ht(oe.comparator)}function fn(){return new Ht(oe.comparator)}const pn={asc:"ASCENDING",desc:"DESCENDING"},mn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gn{constructor(e,t){this.databaseId=e,this.C=t}}function vn(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bn(e,t){return e.C?t.toBase64():t.toUint8Array()}function yn(e,t){return vn(e,t.toTimestamp())}function wn(e){return y(!!e),U.fromTimestamp(function(e){const t=J(e);return new F(t.seconds,t.nanos)}(e))}function _n(e,t){return function(e){return new $(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function kn(e){const t=$.fromString(e);return y($n(t)),t}function In(e,t){return _n(e.databaseId,t.path)}function On(e,t){const n=kn(t);if(n.get(1)!==e.databaseId.projectId)throw new I(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new I(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(Cn(n))}function Tn(e,t){return _n(e.databaseId,t)}function Sn(e){const t=kn(e);return 4===t.length?$.emptyPath():Cn(t)}function En(e){return new $(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cn(e){return y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jn(e,t,n){return{name:In(e,t),fields:n.value.mapValue.fields}}function An(e,t,n){const r=On(e,t.name),i=wn(t.updateTime),s=new we({mapValue:{fields:t.fields}}),o=ke.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function xn(e,t){let n;if(t instanceof xt)n={update:jn(e,t.key,t.value)};else if(t instanceof Lt)n={delete:In(e,t.key)};else if(t instanceof Rt)n={update:jn(e,t.key,t.data),updateMask:zn(t.fieldMask)};else{if(!(t instanceof Mt))return b();n={verify:In(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ft)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pt)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bt)return{fieldPath:t.field.canonicalString(),increment:n.N};throw b()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:b()}(e,t.precondition)),n}function Rn(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?It.updateTime(wn(e.updateTime)):void 0!==e.exists?It.exists(e.exists):It.none()}(t.currentDocument):It.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue),n=new ft;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new pt(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new gt(e)}else"increment"in t?n=new bt(e,t.increment):b();const r=K.fromServerFormat(t.fieldPath);return new _t(r,n)}(e,t)):[];if(t.update){t.update.name;const i=On(e,t.update.name),s=new we({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new G(t.map(e=>K.fromServerFormat(e)))}(t.updateMask);return new Rt(i,s,e,n,r)}return new xt(i,s,n,r)}if(t.delete){const r=On(e,t.delete);return new Lt(r,n)}if(t.verify){const r=On(e,t.verify);return new Mt(r,n)}return b()}function Dn(e,t){return{documents:[Tn(e,t.path)]}}function Nn(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Tn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Tn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(ve(e.value))return{unaryFilter:{field:Un(e.field),op:"IS_NAN"}};if(ge(e.value))return{unaryFilter:{field:Un(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ve(e.value))return{unaryFilter:{field:Un(e.field),op:"IS_NOT_NAN"}};if(ge(e.value))return{unaryFilter:{field:Un(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Un(e.field),op:Fn(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Un(e.field),direction:Bn(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.C||re(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Ln(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ln(t.endAt)),n}function Pn(e){let t=Sn(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){y(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function e(t){return t?void 0!==t.unaryFilter?[Hn(t)]:void 0!==t.fieldFilter?[qn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(t=>e(t)).reduce((e,t)=>e.concat(t)):b():[]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new Fe(Vn(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,re(t)?null:t}(n.limit));let c=null;n.startAt&&(c=Mn(n.startAt));let u=null;return n.endAt&&(u=Mn(n.endAt)),ze(t,i,o,s,a,"F",c,u)}function Ln(e){return{before:e.before,values:e.position}}function Mn(e){const t=!!e.before,n=e.values||[];return new Me(n,t)}function Bn(e){return pn[e]}function Fn(e){return mn[e]}function Un(e){return{fieldPath:e.canonicalString()}}function Vn(e){return K.fromServerFormat(e.fieldPath)}function qn(e){return Ce.create(Vn(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return b()}}(e.fieldFilter.op),e.fieldFilter.value)}function Hn(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vn(e.unaryFilter.field);return Ce.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vn(e.unaryFilter.field);return Ce.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vn(e.unaryFilter.field);return Ce.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vn(e.unaryFilter.field);return Ce.create(i,"!=",{nullValue:"NULL_VALUE"});default:return b()}}function zn(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $n(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Wn(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Gn(t)),t=Kn(e.get(n),t);return Gn(t)}function Kn(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Gn(e){return e+""}function Yn(e){const t=e.length;if(y(t>=2),2===t)return y(""===e.charAt(0)&&""===e.charAt(1)),$.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&b(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:b()}s=t+2}return new $(r)}class Xn{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Qn{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Qn.store="owner",Qn.key="owner";class Jn{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Jn.store="mutationQueues",Jn.keyPath="userId";class Zn{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Zn.store="mutations",Zn.keyPath="batchId",Zn.userMutationsIndex="userMutationsIndex",Zn.userMutationsKeyPath=["userId","batchId"];class er{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Wn(t)]}static key(e,t,n){return[e,Wn(t),n]}}er.store="documentMutations",er.PLACEHOLDER=new er;class tr{constructor(e,t){this.path=e,this.readTime=t}}class nr{constructor(e,t){this.path=e,this.version=t}}class rr{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}rr.store="remoteDocuments",rr.readTimeIndex="readTimeIndex",rr.readTimeIndexPath="readTime",rr.collectionReadTimeIndex="collectionReadTimeIndex",rr.collectionReadTimeIndexPath=["parentPath","readTime"];class ir{constructor(e){this.byteSize=e}}ir.store="remoteDocumentGlobal",ir.key="remoteDocumentGlobalKey";class sr{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}sr.store="targets",sr.keyPath="targetId",sr.queryTargetsIndexName="queryTargetsIndex",sr.queryTargetsKeyPath=["canonicalId","targetId"];class or{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}or.store="targetDocuments",or.keyPath=["targetId","path"],or.documentTargetsIndex="documentTargetsIndex",or.documentTargetsKeyPath=["path","targetId"];class ar{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}ar.key="targetGlobalKey",ar.store="targetGlobal";class cr{constructor(e,t){this.collectionId=e,this.parent=t}}cr.store="collectionParents",cr.keyPath=["collectionId","parent"];class ur{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}ur.store="clientMetadata",ur.keyPath="clientId";class lr{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}lr.store="bundles",lr.keyPath="bundleId";class hr{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}hr.store="namedQueries",hr.keyPath="name";const dr=[Jn.store,Zn.store,er.store,rr.store,sr.store,Qn.store,ar.store,or.store,ur.store,ir.store,cr.store,lr.store,hr.store],fr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class mr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&b(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mr((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mr?t:mr.resolve(t)}catch(e){return mr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mr.reject(t)}static resolve(e){return new mr((t,n)=>{t(e)})}static reject(e){return new mr((t,n)=>{n(e)})}static waitFor(e){return new mr((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=mr.resolve(!1);for(const n of e)t=t.next(e=>e?mr.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class gr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new O,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new yr(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=Or(t.target.error);this.It.reject(new yr(e,n))}}static open(e,t,n,r){try{return new gr(t,e.transaction(r,n))}catch(e){throw new yr(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new _r(t)}}class vr{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===vr.Pt(Object(o.m)())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return p("SimpleDb","Removing database:",e),kr(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!Object(o.s)())return!1;if(vr.vt())return!0;const e=Object(o.m)(),t=vr.Pt(e),n=0<t&&t<10,r=vr.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var t;return void 0!==e&&"YES"===(null===(t=e.env)||void 0===t?void 0:t.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new yr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new I(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new I(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new yr(e,r))},r.onupgradeneeded=e=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next(()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Ct(e);const t=gr.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch(e=>(t.abort(e),mr.reject(e))).toPromise();return s.catch(()=>{}),await t.At,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(p("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class br{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return kr(this.$t.delete())}}class yr extends I{constructor(e,t){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wr(e){return"IndexedDbTransactionError"===e.name}class _r{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),kr(n)}add(e){return p("SimpleDb","ADD",this.store.name,e,e),kr(this.store.add(e))}get(e){return kr(this.store.get(e)).next(t=>(void 0===t&&(t=null),p("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return p("SimpleDb","DELETE",this.store.name,e),kr(this.store.delete(e))}count(){return p("SimpleDb","COUNT",this.store.name),kr(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(e,t)=>{r.push(t)}).next(()=>r)}qt(e,t){p("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,(e,t,n)=>n.delete())}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new mr((n,r)=>{t.onerror=e=>{const t=Or(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Ut(e,t){const n=[];return new mr((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new br(i),o=t(i.primaryKey,i.value,s);if(o instanceof mr){const e=o.catch(e=>(s.done(),mr.reject(e)));n.push(e)}s.isDone?r():null===s.Mt?i.continue():i.continue(s.Mt)}}).next(()=>mr.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function kr(e){return new mr((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Or(e.target.error);n(t)}})}let Ir=!1;function Or(e){const t=vr.Pt(Object(o.m)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new I("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ir||(Ir=!0,setTimeout(()=>{throw e},0)),e}}return e}class Tr extends pr{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Sr(e,t){const n=_(e);return vr.Dt(n.Wt,t)}class Er{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&St(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Et(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Et(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(U.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&M(this.mutations,e.mutations,(e,t)=>jt(e,t))&&M(this.baseMutations,e.baseMutations,(e,t)=>jt(e,t))}}class Cr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){y(e.mutations.length===n.length);let r=Zt();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Cr(e,t,n,r)}}class jr{constructor(e,t,n,r,i=U.min(),s=U.min(),o=X.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ar{constructor(e){this.Gt=e}}function xr(e,t){if(t.document)return An(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=oe.fromSegments(t.noDocument.path),n=Lr(t.noDocument.readTime),r=ke.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=oe.fromSegments(t.unknownDocument.path),n=Lr(t.unknownDocument.version);return ke.newUnknownDocument(e,n)}return b()}function Rr(e,t,n){const r=Dr(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:In(e,t.key),fields:t.data.value.mapValue.fields,updateTime:vn(e,t.version.toTimestamp())}}(e.Gt,t),s=t.hasCommittedMutations;return new rr(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Pr(t.version),s=t.hasCommittedMutations;return new rr(null,new tr(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Pr(t.version);return new rr(new nr(e,n),null,null,!0,r,i)}return b()}function Dr(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nr(e){const t=new F(e[0],e[1]);return U.fromTimestamp(t)}function Pr(e){const t=e.toTimestamp();return new Xn(t.seconds,t.nanoseconds)}function Lr(e){const t=new F(e.seconds,e.nanoseconds);return U.fromTimestamp(t)}function Mr(e,t){const n=(t.baseMutations||[]).map(t=>Rn(e.Gt,t));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map(t=>Rn(e.Gt,t)),i=F.fromMillis(t.localWriteTimeMs);return new Er(t.batchId,i,n,r)}function Br(e){const t=Lr(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Lr(e.lastLimboFreeSnapshotVersion):U.min();let r;var i;return void 0!==e.query.documents?(y(1===(i=e.query).documents.length),r=Je($e(Sn(i.documents[0])))):r=function(e){return Je(Pn(e))}(e.query),new jr(r,e.targetId,0,e.lastListenSequenceNumber,t,n,X.fromBase64String(e.resumeToken))}function Fr(e,t){const n=Pr(t.snapshotVersion),r=Pr(t.lastLimboFreeSnapshotVersion);let i;i=Ee(t.target)?Dn(e.Gt,t.target):Nn(e.Gt,t.target);const s=t.resumeToken.toBase64();return new sr(t.targetId,Te(t.target),n,s,t.sequenceNumber,r,i)}function Ur(e){const t=Pn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ze(t,t.limit,"L"):t}class Vr{getBundleMetadata(e,t){return qr(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Lr(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return qr(e).put({bundleId:(n=t).id,createTime:Pr(wn(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Hr(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Ur(t.bundledQuery),readTime:Lr(t.readTime)};var t})}saveNamedQuery(e,t){return Hr(e).put(function(e){return{name:e.name,readTime:Pr(wn(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function qr(e){return Sr(e,lr.store)}function Hr(e){return Sr(e,hr.store)}class zr{constructor(){this.zt=new $r}addToCollectionParentIndex(e,t){return this.zt.add(t),mr.resolve()}getCollectionParents(e,t){return mr.resolve(this.zt.getEntries(t))}}class $r{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wt($.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Wt($.comparator)).toArray()}}class Wr{constructor(){this.Ht=new $r}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const i={collectionId:n,parent:Wn(r)};return Kr(e).put(i)}return mr.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[B(t),""],!1,!0);return Kr(e).Bt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Yn(r.parent))}return n})}}function Kr(e){return Sr(e,cr.store)}const Gr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yr{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Yr(e,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xr(e,t,n){const r=e.store(Zn.store),i=e.store(er.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.jt({range:o},(e,t,n)=>(a++,n.delete()));s.push(c.next(()=>{y(1===a)}));const u=[];for(const e of n.mutations){const r=er.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return mr.waitFor(s).next(()=>u)}function Qr(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw b();t=e.noDocument}return JSON.stringify(t).length}Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(41943040,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);class Jr{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){y(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Jr(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ei(e).jt({index:Zn.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=ti(e),s=ei(e);return s.add({}).next(o=>{y("number"==typeof o);const a=new Er(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>xn(e.Gt,t)),i=n.mutations.map(t=>xn(e.Gt,t));return new Zn(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),u=[];let l=new Wt((e,t)=>L(e.canonicalString(),t.canonicalString()));for(const e of r){const t=er.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(i.put(t,er.PLACEHOLDER))}return l.forEach(t=>{u.push(this.Jt.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Yt[o]=a.keys()}),mr.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return ei(e).get(t).next(e=>e?(y(e.userId===this.userId),Mr(this.k,e)):null)}Zt(e,t){return this.Yt[t]?mr.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ei(e).jt({index:Zn.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(y(t.batchId>=n),i=Mr(this.k,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ei(e).jt({index:Zn.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ei(e).Bt(Zn.userMutationsIndex,t).next(e=>e.map(e=>Mr(this.k,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=er.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ti(e).jt({range:r},(n,r,s)=>{const[o,a,c]=n,u=Yn(a);if(o===this.userId&&t.path.isEqual(u))return ei(e).get(c).next(e=>{if(!e)throw b();y(e.userId===this.userId),i.push(Mr(this.k,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wt(L);const r=[];return t.forEach(t=>{const i=er.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=ti(e).jt({range:s},(e,r,i)=>{const[s,o,a]=e,c=Yn(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(o)}),mr.waitFor(r).next(()=>this.te(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=er.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Wt(L);return ti(e).jt({range:s},(e,t,i)=>{const[s,a,c]=e,u=Yn(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()}).next(()=>this.te(e,o))}te(e,t){const n=[],r=[];return t.forEach(t=>{r.push(ei(e).get(t).next(e=>{if(null===e)throw b();y(e.userId===this.userId),n.push(Mr(this.k,e))}))}),mr.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Xr(e.Wt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),mr.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return mr.resolve();const n=IDBKeyRange.lowerBound(er.prefixForUser(this.userId)),r=[];return ti(e).jt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Yn(e[1]);r.push(t)}else n.done()}).next(()=>{y(0===r.length)})})}containsKey(e,t){return Zr(e,this.userId,t)}ne(e){return ni(e).get(this.userId).next(e=>e||new Jn(this.userId,-1,""))}}function Zr(e,t,n){const r=er.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ti(e).jt({range:s,Kt:!0},(e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function ei(e){return Sr(e,Zn.store)}function ti(e){return Sr(e,er.store)}function ni(e){return Sr(e,Jn.store)}class ri{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ri(0)}static re(){return new ri(-1)}}class ii{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const n=new ri(t.highestTargetId);return t.highestTargetId=n.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(e=>U.fromTimestamp(new F(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.oe(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ae(e,r)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(n=>(n.targetCount+=1,this.ue(t,n),this.ae(e,n))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>si(e).delete(t.targetId)).next(()=>this.oe(e)).next(t=>(y(t.targetCount>0),t.targetCount-=1,this.ae(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return si(e).jt((s,o)=>{const a=Br(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>mr.waitFor(i)).next(()=>r)}forEachTarget(e,t){return si(e).jt((e,n)=>{const r=Br(n);t(r)})}oe(e){return oi(e).get(ar.key).next(e=>(y(null!==e),e))}ae(e,t){return oi(e).put(ar.key,t)}ce(e,t){return si(e).put(Fr(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Te(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return si(e).jt({range:r,index:sr.queryTargetsIndexName},(e,n,r)=>{const s=Br(n);Se(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=ai(e);return t.forEach(t=>{const s=Wn(t.path);r.push(i.put(new or(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),mr.waitFor(r)}removeMatchingKeys(e,t,n){const r=ai(e);return mr.forEach(t,t=>{const i=Wn(t.path);return mr.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=ai(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ai(e);let i=tn();return r.jt({range:n,Kt:!0},(e,t,n)=>{const r=Yn(e[1]),s=new oe(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Wn(t.path),r=IDBKeyRange.bound([n],[B(n)],!1,!0);let i=0;return ai(e).jt({index:or.documentTargetsIndex,Kt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return si(e).get(t).next(e=>e?Br(e):null)}}function si(e){return Sr(e,sr.store)}function oi(e){return Sr(e,ar.store)}function ai(e){return Sr(e,or.store)}async function ci(e){if(e.code!==k.FAILED_PRECONDITION||e.message!==fr)throw e;p("LocalStore","Unexpectedly lost primary lease")}function ui([e,t],[n,r]){const i=L(e,n);return 0===i?L(t,r):i}class li{constructor(e){this.he=e,this.buffer=new Wt(ui),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ui(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hi{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;p("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){wr(e)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ci(e)}await this.me(e)})}}class di{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return mr.resolve(D.I);const n=new li(t);return this.ge.forEachTarget(e,e=>n.de(e.sequenceNumber)).next(()=>this.ge.pe(e,e=>n.de(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),mr.resolve(Gr)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gr):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,o,a,c,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),d()<=s.a.DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(c-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-c)+"ms\n"+`Total Duration: ${u-l}ms`),mr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class fi{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new di(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.pe(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(e,n)=>t(n))}addReference(e,t,n){return pi(e,n)}removeReference(e,t,n){return pi(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return pi(e,t)}Ae(e,t){return function(e,t){let n=!1;return ni(e).Qt(r=>Zr(e,r,t).next(e=>(e&&(n=!0),mr.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,(s,o)=>{if(o<=t){const t=this.Ae(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),ai(e).delete([0,Wn(s.path)])))});r.push(t)}}).next(()=>mr.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return pi(e,t)}Ie(e,t){const n=ai(e);let r,i=D.I;return n.jt({index:or.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==D.I&&t(new oe(Yn(r)),i),i=o,r=s):i=D.I}).next(()=>{i!==D.I&&t(new oe(Yn(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pi(e,t){return ai(e).put(function(e,t){return new or(0,Wn(e.path),t)}(t,e.currentSequenceNumber))}class mi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){q(this.inner,(t,n)=>{for(const[t,r]of n)e(t,r)})}isEmpty(){return H(this.inner)}}class gi{constructor(){this.changes=new mi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:U.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:ke.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?mr.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vi{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return wi(e).put(_i(t),n)}removeEntry(e,t){const n=wi(e),r=_i(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Re(e,n)))}getEntry(e,t){return wi(e).get(_i(t)).next(e=>this.Pe(t,e))}be(e,t){return wi(e).get(_i(t)).next(e=>({document:this.Pe(t,e),size:Qr(e)}))}getEntries(e,t){let n=Yt();return this.ve(e,t,(e,t)=>{const r=this.Pe(e,t);n=n.insert(e,r)}).next(()=>n)}Ve(e,t){let n=Yt(),r=new Ht(oe.comparator);return this.ve(e,t,(e,t)=>{const i=this.Pe(e,t);n=n.insert(e,i),r=r.insert(e,Qr(t))}).next(()=>({documents:n,Se:r}))}ve(e,t,n){if(t.isEmpty())return mr.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return wi(e).jt({range:r},(e,t,r)=>{const o=oe.fromSegments(e);for(;s&&oe.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Lt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=Yt();const i=t.path.length+1,s={};if(n.isEqual(U.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Dr(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=rr.collectionReadTimeIndex}return wi(e).jt(s,(e,n,s)=>{if(e.length!==i)return;const o=xr(this.k,n);t.path.isPrefixOf(o.key.path)?rt(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new bi(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return yi(e).get(ir.key).next(e=>(y(!!e),e))}Re(e,t){return yi(e).put(ir.key,t)}Pe(e,t){if(t){const e=xr(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(U.min()))return e}return ke.newInvalidDocument(e)}}class bi extends gi{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new mi(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Wt((e,t)=>L(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Ce.get(i);if(s.document.isValidDocument()){const a=Rr(this.De.k,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const c=Qr(a);n+=c-o,t.push(this.De.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Rr(this.De.k,ke.newNoDocument(i,U.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))}),r.forEach(n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))}),t.push(this.De.updateMetadata(e,n)),mr.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(e=>(this.Ce.set(t,e.size),e.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:e,Se:t})=>(t.forEach((e,t)=>{this.Ce.set(e,t)}),e))}}function yi(e){return Sr(e,ir.store)}function wi(e){return Sr(e,rr.store)}function _i(e){return e.path.toArray()}class ki{constructor(e){this.k=e}Nt(e,t,n,r){y(n<r&&n>=0&&r<=11);const i=new gr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Qn.store)}(e),function(e){e.createObjectStore(Jn.store,{keyPath:Jn.keyPath}),e.createObjectStore(Zn.store,{keyPath:Zn.keyPath,autoIncrement:!0}).createIndex(Zn.userMutationsIndex,Zn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(er.store)}(e),Ii(e),function(e){e.createObjectStore(rr.store)}(e));let s=mr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(or.store),e.deleteObjectStore(sr.store),e.deleteObjectStore(ar.store)}(e),Ii(e)),s=s.next(()=>function(e){const t=e.store(ar.store),n=new ar(0,0,U.min().toTimestamp(),0);return t.put(ar.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(Zn.store).Bt().next(n=>{e.deleteObjectStore(Zn.store),e.createObjectStore(Zn.store,{keyPath:Zn.keyPath,autoIncrement:!0}).createIndex(Zn.userMutationsIndex,Zn.userMutationsKeyPath,{unique:!0});const r=t.store(Zn.store),i=n.map(e=>r.put(e));return mr.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(ur.store,{keyPath:ur.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ne(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(ir.store)}(e),this.ke(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.$e(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(rr.store);t.createIndex(rr.readTimeIndex,rr.readTimeIndexPath,{unique:!1}),t.createIndex(rr.collectionReadTimeIndex,rr.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.Fe(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(lr.store,{keyPath:lr.keyPath})}(e),function(e){e.createObjectStore(hr.store,{keyPath:hr.keyPath})}(e)})),s}ke(e){let t=0;return e.store(rr.store).jt((e,n)=>{t+=Qr(n)}).next(()=>{const n=new ir(t);return e.store(ir.store).put(ir.key,n)})}Ne(e){const t=e.store(Jn.store),n=e.store(Zn.store);return t.Bt().next(t=>mr.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(Zn.userMutationsIndex,r).next(n=>mr.forEach(n,n=>{y(n.userId===t.userId);const r=Mr(this.k,n);return Xr(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(or.store),n=e.store(rr.store);return e.store(ar.store).get(ar.key).next(e=>{const r=[];return n.jt((n,i)=>{const s=new $(n),o=function(e){return[0,Wn(e)]}(s);r.push(t.get(o).next(n=>n?mr.resolve():(n=>t.put(new or(0,Wn(n),e.highestListenSequenceNumber)))(s)))}).next(()=>mr.waitFor(r))})}$e(e,t){e.createObjectStore(cr.store,{keyPath:cr.keyPath});const n=t.store(cr.store),r=new $r,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Wn(r)})}};return t.store(rr.store).jt({Kt:!0},(e,t)=>{const n=new $(e);return i(n.popLast())}).next(()=>t.store(er.store).jt({Kt:!0},([e,t,n],r)=>{const s=Yn(t);return i(s.popLast())}))}Fe(e){const t=e.store(sr.store);return t.jt((e,n)=>{const r=Br(n),i=Fr(this.k,r);return t.put(i)})}}function Ii(e){e.createObjectStore(or.store,{keyPath:or.keyPath}).createIndex(or.documentTargetsIndex,or.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(sr.store,{keyPath:sr.keyPath}).createIndex(sr.queryTargetsIndexName,sr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ar.store)}const Oi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ti{constructor(e,t,n,r,i,s,o,a,c,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Me=c,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Ti.bt())throw new I(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fi(this,r),this.Ge=t+"main",this.k=new Ar(a),this.ze=new vr(this.Ge,11,new ki(this.k)),this.He=new ii(this.referenceDelegate,this.k),this.Jt=new Wr,this.Je=function(e,t){return new vi(e,t)}(this.k,this.Jt),this.Ye=new Vr,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new I(k.FAILED_PRECONDITION,Oi);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new D(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(async()=>{this.started&&await this.Ze()}))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ei(e).put(new ur(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(wr(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Si(e).get(Qn.key).next(e=>mr.resolve(this.un(e)))}hn(e){return Ei(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Sr(e,ur.store);return t.Bt().next(e=>{const n=this.dn(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return mr.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?mr.resolve(!0):Si(e).get(Qn.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new I(k.FAILED_PRECONDITION,Oi);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ei(e).Bt().next(e=>void 0===this.dn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&p("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[Qn.store,ur.store],e=>{const t=new Tr(e,D.I);return this.an(t).next(()=>this.hn(t))}),this.ze.close(),this.pn()}dn(e,t){return e.filter(e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Ei(e).Bt().next(e=>this.dn(e,18e5).map(e=>e.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Jr.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){p("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.ze.runTransaction(e,r,dr,r=>(i=new Tr(r,this.Be?this.Be.next():D.I),"readwrite-primary"===t?this.rn(i).next(e=>!!e||this.on(i)).next(t=>{if(!t)throw m(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new I(k.FAILED_PRECONDITION,fr);return n(i)}).next(e=>this.cn(i).next(()=>e)):this.En(i).next(()=>n(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}En(e){return Si(e).get(Qn.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new I(k.FAILED_PRECONDITION,Oi)})}cn(e){const t=new Qn(this.clientId,this.allowTabSynchronization,Date.now());return Si(e).put(Qn.key,t)}static bt(){return vr.bt()}an(e){const t=Si(e);return t.get(Qn.key).next(e=>this.un(e)?(p("IndexedDbPersistence","Releasing primary lease."),t.delete(Qn.key)):mr.resolve())}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(m(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),Object(o.w)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return p("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return m("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Si(e){return Sr(e,Qn.store)}function Ei(e){return Sr(e,ur.store)}function Ci(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class ji{constructor(e,t){this.progress=e,this.In=t}}class Ai{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Pn(e,t,n))}Pn(e,t,n){return this.Je.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const e of t)e.applyToLocalView(n)})}vn(e,t){return this.Je.getEntries(e,t).next(t=>this.Vn(e,t).next(()=>t))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Xe(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new oe(t)).next(e=>{let t=Qt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Dn(e,t,n){const r=t.collectionGroup;let i=Qt();return this.Jt.getCollectionParents(e,r).next(s=>mr.forEach(s,s=>{const o=function(e,t){return new He(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Cn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Nn(e,i,r).next(e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=ke.newInvalidDocument(n),r=r.insert(n,i)),Et(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{rt(t,n)||(r=r.remove(e))}),r))}Nn(e,t,n){let r=tn();for(const e of t)for(const t of e.mutations)t instanceof Rt&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class xi{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=tn(),r=tn();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new xi(e,t.fromCache,n,r)}}class Ri{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(U.min())?this.Mn(e,t):this.On.vn(e,r).next(i=>{const o=this.Ln(t,i);return(We(t)||Ke(t))&&this.Bn(t.limitType,o,r,n)?this.Mn(e,t):(d()<=s.a.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),nt(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(o.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Ln(e,t){let n=new Wt(it(e));return t.forEach((t,r)=>{rt(e,r)&&(n=n.add(r))}),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(e,t){return d()<=s.a.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",nt(t)),this.On.getDocumentsMatchingQuery(e,t,U.min())}}class Di{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new Ht(L),this.Kn=new mi(e=>Te(e),Se),this.jn=U.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Ai(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function Ni(e,t,n,r){return new Di(e,t,n,r)}async function Pi(e,t){const n=_(e);let r=n.An,i=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.An.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Ai(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=tn();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.vn(e,o).next(e=>({Gn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}function Li(e){const t=_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function Mi(e,t,n,r,i){let s=tn();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=Yt();return n.forEach((n,o)=>{const a=e.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(U.min())?(t.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,c),s=s.insert(n,o)):p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Bi(e,t){const n=_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)))}function Fi(e,t){const n=_(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.He.getTargetData(e,t).next(i=>i?(r=i,mr.resolve(r)):n.He.allocateTargetId(e).next(i=>(r=new jr(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e})}async function Ui(e,t,n){const r=_(e),i=r.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!wr(e))throw e;p("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function Vi(e,t,n){const r=_(e);let i=U.min(),s=tn();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=_(e),i=r.Kn.get(n);return void 0!==i?mr.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Je(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:U.min(),n?s:tn())).next(e=>({documents:e,zn:s})))}function qi(e,t){const n=_(e),r=_(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function Hi(e){const t=_(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=_(e);let i=Yt(),s=Dr(n);const o=wi(t),a=IDBKeyRange.lowerBound(s,!0);return o.jt({index:rr.readTimeIndex,range:a},(e,t)=>{const n=xr(r.k,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({In:i,readTime:Nr(s)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:n})=>(t.jn=n,e))}async function zi(e,t,n=tn()){const r=await Fi(e,Je(Ur(t.bundledQuery))),i=_(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=wn(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ye.saveNamedQuery(e,t);const o=r.withResumeToken(X.EMPTY_BYTE_STRING,s);return i.qn=i.qn.insert(o.targetId,o),i.He.updateTargetData(e,o).next(()=>i.He.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.He.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ye.saveNamedQuery(e,t))})}class $i{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return mr.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:wn(n.createTime)}),mr.resolve()}getNamedQuery(e,t){return mr.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Ur(e.bundledQuery),readTime:wn(e.readTime)}}(t)),mr.resolve()}}class Wi{constructor(){this.ts=new Wt(Ki.es),this.ns=new Wt(Ki.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new Ki(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.os(new Ki(e,t))}cs(e,t){e.forEach(e=>this.removeReference(e,t))}us(e){const t=new oe(new $([])),n=new Ki(t,e),r=new Ki(t,e+1),i=[];return this.ns.forEachInRange([n,r],e=>{this.os(e),i.push(e.key)}),i}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new oe(new $([])),n=new Ki(t,e),r=new Ki(t,e+1);let i=tn();return this.ns.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ki(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ki{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return oe.comparator(e.key,t.key)||L(e.fs,t.fs)}static ss(e,t){return L(e.fs,t.fs)||oe.comparator(e.key,t.key)}}class Gi{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Wt(Ki.es)}checkEmpty(e){return mr.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const s=new Er(i,t,n,r);this.An.push(s);for(const t of r)this.ws=this.ws.add(new Ki(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return mr.resolve(s)}lookupMutationBatch(e,t){return mr.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return mr.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return mr.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return mr.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ki(t,0),r=new Ki(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],e=>{const t=this._s(e.fs);i.push(t)}),mr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wt(L);return t.forEach(e=>{const t=new Ki(e,0),r=new Ki(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],e=>{n=n.add(e.fs)})}),mr.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;oe.isDocumentKey(i)||(i=i.child(""));const s=new Ki(new oe(i),0);let o=new Wt(L);return this.ws.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)},s),mr.resolve(this.ys(o))}ys(e){const t=[];return e.forEach(e=>{const n=this._s(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){y(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return mr.forEach(t.mutations,r=>{const i=new Ki(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=n})}ee(e){}containsKey(e,t){const n=new Ki(t,0),r=this.ws.firstAfterOrEqual(n);return mr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,mr.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class Yi{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Ht(oe.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return mr.resolve(n?n.document.clone():ke.newInvalidDocument(t))}getEntries(e,t){let n=Yt();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():ke.newInvalidDocument(e))}),mr.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Yt();const i=new oe(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||rt(t,i)&&(r=r.insert(i.key,i.clone()))}return mr.resolve(r)}Es(e,t){return mr.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Xi(this)}getSize(e){return mr.resolve(this.size)}}class Xi extends gi{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)}),mr.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class Qi{constructor(e){this.persistence=e,this.Is=new mi(e=>Te(e),Se),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.As=0,this.Rs=new Wi,this.targetCount=0,this.Ps=ri.ie()}forEachTarget(e,t){return this.Is.forEach((e,n)=>t(n)),mr.resolve()}getLastRemoteSnapshotVersion(e){return mr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mr.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),mr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),mr.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new ri(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,mr.resolve()}updateTargetData(e,t){return this.ce(t),mr.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,mr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),mr.waitFor(i).next(()=>r)}getTargetCount(e){return mr.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return mr.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),mr.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),mr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),mr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return mr.resolve(n)}containsKey(e,t){return mr.resolve(this.Rs.containsKey(t))}}class Ji{constructor(e,t){this.bs={},this.Be=new D(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Qi(this),this.Jt=new zr,this.Je=function(e,t){return new Yi(e,t)}(this.Jt,e=>this.referenceDelegate.vs(e)),this.k=new Ar(t),this.Ye=new $i(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Gi(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const r=new Zi(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(e=>this.referenceDelegate.Ss(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ds(e,t){return mr.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class Zi extends pr{constructor(e){super(),this.currentSequenceNumber=e}}class es{constructor(e){this.persistence=e,this.Cs=new Wi,this.Ns=null}static ks(e){return new es(e)}get xs(){if(this.Ns)return this.Ns;throw b()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),mr.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),mr.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),mr.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mr.forEach(this.xs,n=>{const r=oe.fromPath(n);return this.$s(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return mr.or([()=>mr.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function ts(e,t){return`firestore_clients_${e}_${t}`}function ns(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+="_"+t.uid),r}function rs(e,t){return`firestore_targets_${e}_${t}`}class is{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Fs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new I(r.error.code,r.error.message))),s?new is(e,t,r.state,i):(m("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ss{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new I(n.error.code,n.error.message))),i?new ss(e,n.state,r):(m("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class os{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=rn();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=se(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new os(e,i):(m("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class as{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new as(t.clientId,t.onlineState):(m("SharedClientState","Failed to parse online state: "+e),null)}}class cs{constructor(){this.activeTargetIds=rn()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class us{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ht(L),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=ts(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new cs),this.Gs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Js=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const t of e){if(t===this.Bs)continue;const e=this.getItem(ts(this.persistenceKey,t));if(e){const n=os.Fs(t,e);n&&(this.Ks=this.Ks.insert(n.clientId,n))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const e of this.js)this.qs(e);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(rs(this.persistenceKey,e));if(n){const r=ss.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rs(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.si(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t}setItem(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ci(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=D.I;if(null!=e)try{const n=JSON.parse(e);y("number"==typeof n),t=n}catch(e){m("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==D.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)})}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,n){const r=new is(this.currentUser,e,t,n),i=ns(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}si(e){const t=ns(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const r=rs(this.persistenceKey,e),i=new ss(e,t,n);this.setItem(r,i.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ci(e);return os.Fs(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return is.Fs(new u(i),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return ss.Fs(r,t)}Zs(e){return as.Fs(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);p("SharedClientState","Ignoring mutation for non-active user "+e.user.uid)}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.yi(s,o).then(()=>{this.Ks=n})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=rn();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class ls{constructor(){this.pi=new cs,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new cs,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class hs{Ei(e){}shutdown(){}}class ds{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ps{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class ms extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const s=this.Ui(e,t);p("RestConnection","Sending: ",s,n);const o={};return this.qi(o,r,i),this.Ki(e,s,o,n).then(e=>(p("RestConnection","Received: ",e),e),t=>{throw g("RestConnection",e+" failed with error: ",t,"url: ",s,"request:",n),t})}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Ui(e,t){const n=fs[e];return`${this.Mi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise((i,s)=>{const o=new a.g;o.listenOnce(a.c.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case a.a.NO_ERROR:const t=o.getResponseJson();p("Connection","XHR received:",JSON.stringify(t)),i(t);break;case a.a.TIMEOUT:p("Connection",'RPC "'+e+'" timed out'),s(new I(k.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:const n=o.getStatus();if(p("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(t)>=0?t:k.UNKNOWN}(e.status);s(new I(t,e.message))}else s(new I(k.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new I(k.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{p("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(r);o.send(t,"POST",c,n,15)})}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(a.h)(),s=Object(a.i)(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new a.d({})),this.qi(c.initMessageHeaders,t,n),Object(o.t)()||Object(o.v)()||Object(o.p)()||Object(o.r)()||Object(o.x)()||Object(o.o)()||(c.httpHeadersOverwriteParam="$httpHeaders");const u=r.join("");p("Connection","Creating WebChannel: "+u,c);const l=i.createWebChannel(u,c);let h=!1,d=!1;const f=new ps({Vi:e=>{d?p("Connection","Not sending because WebChannel is closed:",e):(h||(p("Connection","Opening WebChannel transport."),l.open(),h=!0),p("Connection","WebChannel sending:",e),l.send(e))},Si:()=>l.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(l,a.f.EventType.OPEN,()=>{d||p("Connection","WebChannel transport opened.")}),m(l,a.f.EventType.CLOSE,()=>{d||(d=!0,p("Connection","WebChannel transport closed"),f.Fi())}),m(l,a.f.EventType.ERROR,e=>{d||(d=!0,g("Connection","WebChannel transport errored:",e),f.Fi(new I(k.UNAVAILABLE,"The operation could not be completed")))}),m(l,a.f.EventType.MESSAGE,e=>{var t;if(!d){const n=e.data[0];y(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){p("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Ft[e];if(void 0!==t)return qt(t)}(e),n=i.message;void 0===t&&(t=k.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),d=!0,f.Fi(new I(t,n)),l.close()}else p("Connection","WebChannel received:",n),f.Oi(n)}}),m(s,a.b.STAT_EVENT,e=>{e.stat===a.e.PROXY?p("Connection","Detected buffering proxy"):e.stat===a.e.NOPROXY&&p("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.$i()},0),f}}function gs(){return"undefined"!=typeof window?window:null}function vs(){return"undefined"!=typeof document?document:null}function bs(e){return new gn(e,!0)}class ys{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&p("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class ws{constructor(e,t,n,r,i,s,o,a){this.Oe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new ys(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===k.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.rr===t&&this.Ir(e,n)},t=>{e(()=>{const e=new I(k.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)})})}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(e=>{n(()=>this.Ar(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(e){return p("PersistentStream","close with error: "+e),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _s extends ws{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:b()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.C?(y(void 0===t||"string"==typeof t),X.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array),X.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?k.UNKNOWN:qt(e.code);return new I(t,e.message||"")}(o);n=new un(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=On(e,r.document.name),s=wn(r.document.updateTime),o=new we({mapValue:{fields:r.document.fields}}),a=ke.newFoundDocument(i,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new an(c,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=On(e,r.document),s=r.readTime?wn(r.readTime):U.min(),o=ke.newNoDocument(i,s),a=r.removedTargetIds||[];n=new an([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=On(e,r.document),s=r.removedTargetIds||[];n=new an([],s,i,null)}else{if(!("filter"in t))return b();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Bt(r),s=e.targetId;n=new cn(s,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return U.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?U.min():t.readTime?wn(t.readTime):U.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=En(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Ee(r)?{documents:Dn(e,r)}:{query:Nn(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=bn(e,t.resumeToken):t.snapshotVersion.compareTo(U.min())>0&&(n.readTime=vn(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=En(this.k),t.removeTarget=e,this.gr(t)}}class ks extends ws{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(y(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?wn(e.updateTime):wn(t);return n.isEqual(U.min())&&(n=wn(t)),new kt(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=wn(e.commitTime);return this.listener.Cr(n,t)}return y(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=En(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>xn(this.k,e))};this.gr(t)}}class Is extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new I(k.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.Bi(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(k.UNKNOWN,e.toString())})}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.ji(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(k.UNKNOWN,e.toString())})}terminate(){this.$r=!0}}class Os{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: "+e.toString()),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(m(t),this.Lr=!1):p("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Ts{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei(e=>{n.enqueueAndForget(async()=>{Ns(this)&&(p("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=_(e);t.Gr.add(4),await Es(t),t.Jr.set("Unknown"),t.Gr.delete(4),await Ss(t)}(this))})}),this.Jr=new Os(n,r)}}async function Ss(e){if(Ns(e))for(const t of e.zr)await t(!0)}async function Es(e){for(const t of e.zr)await t(!1)}function Cs(e,t){const n=_(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Ds(n)?Rs(n):Qs(n).lr()&&As(n,t))}function js(e,t){const n=_(e),r=Qs(n);n.Wr.delete(t),r.lr()&&xs(n,t),0===n.Wr.size&&(r.lr()?r._r():Ns(n)&&n.Jr.set("Unknown"))}function As(e,t){e.Yr.X(t.targetId),Qs(e).br(t)}function xs(e,t){e.Yr.X(t),Qs(e).vr(t)}function Rs(e){e.Yr=new hn({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),Qs(e).start(),e.Jr.Br()}function Ds(e){return Ns(e)&&!Qs(e).hr()&&e.Wr.size>0}function Ns(e){return 0===_(e).Gr.size}function Ps(e){e.Yr=void 0}async function Ls(e){e.Wr.forEach((t,n)=>{As(e,t)})}async function Ms(e,t){Ps(e),Ds(e)?(e.Jr.Kr(t),Rs(e)):e.Jr.set("Unknown")}async function Bs(e,t,n){if(e.Jr.set("Online"),t instanceof un&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fs(e,n)}else if(t instanceof an?e.Yr.ot(t):t instanceof cn?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(U.min()))try{const t=await Li(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(X.EMPTY_BYTE_STRING,n.snapshotVersion)),xs(e,t);const r=new jr(n.target,t,1,n.sequenceNumber);As(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){p("RemoteStore","Failed to raise snapshot:",t),await Fs(e,t)}}async function Fs(e,t,n){if(!wr(t))throw t;e.Gr.add(1),await Es(e),e.Jr.set("Offline"),n||(n=()=>Li(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{p("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await Ss(e)})}function Us(e,t){return t().catch(n=>Fs(e,n,t))}async function Vs(e){const t=_(e),n=Js(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;qs(t);)try{const e=await Bi(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,Hs(t,e)}catch(e){await Fs(t,e)}zs(t)&&$s(t)}function qs(e){return Ns(e)&&e.Qr.length<10}function Hs(e,t){e.Qr.push(t);const n=Js(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function zs(e){return Ns(e)&&!Js(e).hr()&&e.Qr.length>0}function $s(e){Js(e).start()}async function Ws(e){Js(e).kr()}async function Ks(e){const t=Js(e);for(const n of e.Qr)t.Dr(n.mutations)}async function Gs(e,t,n){const r=e.Qr.shift(),i=Cr.from(r,t,n);await Us(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Vs(e)}async function Ys(e,t){t&&Js(e).Sr&&await async function(e,t){if(Vt(n=t.code)&&n!==k.ABORTED){const n=e.Qr.shift();Js(e).wr(),await Us(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Vs(e)}var n}(e,t),zs(e)&&$s(e)}async function Xs(e,t){const n=_(e);t?(n.Gr.delete(2),await Ss(n)):t||(n.Gr.add(2),await Es(n),n.Jr.set("Unknown"))}function Qs(e){return e.Xr||(e.Xr=function(e,t,n){const r=_(e);return r.Fr(),new _s(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Ls.bind(null,e),Ni:Ms.bind(null,e),Pr:Bs.bind(null,e)}),e.zr.push(async t=>{t?(e.Xr.wr(),Ds(e)?Rs(e):e.Jr.set("Unknown")):(await e.Xr.stop(),Ps(e))})),e.Xr}function Js(e){return e.Zr||(e.Zr=function(e,t,n){const r=_(e);return r.Fr(),new ks(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Ws.bind(null,e),Ni:Ys.bind(null,e),Nr:Ks.bind(null,e),Cr:Gs.bind(null,e)}),e.zr.push(async t=>{t?(e.Zr.wr(),await Vs(e)):(await e.Zr.stop(),e.Qr.length>0&&(p("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))})),e.Zr}class Zs{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new O,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Zs(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new I(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eo(e,t){if(m("AsyncQueue",`${t}: ${e}`),wr(e))return new I(k.UNAVAILABLE,`${t}: ${e}`);throw e}class to{constructor(e){this.comparator=e?(t,n)=>e(t,n)||oe.comparator(t.key,n.key):(e,t)=>oe.comparator(e.key,t.key),this.keyedMap=Qt(),this.sortedSet=new Ht(this.comparator)}static emptySet(e){return new to(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof to))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new to;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class no{constructor(){this.eo=new Ht(oe.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):b():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,n)=>{e.push(n)}),e}}class ro{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new ro(e,t,to.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&et(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class io{constructor(){this.so=void 0,this.listeners=[]}}class so{constructor(){this.queries=new mi(e=>tt(e),et),this.onlineState="Unknown",this.io=new Set}}async function oo(e,t){const n=_(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new io),i)try{s.so=await n.onListen(r)}catch(e){const n=eo(e,`Initialization of query '${nt(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&lo(n)}async function ao(e,t){const n=_(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function co(e,t){const n=_(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&lo(n)}function uo(e,t,n){const r=_(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function lo(e){e.io.forEach(e=>{e.next()})}class ho{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ro(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class fo{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class po{constructor(e){this.k=e}Hn(e){return On(this.k,e)}Jn(e){return e.metadata.exists?An(this.k,e.document,!1):ke.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return wn(e)}}class mo{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=go(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new po(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||tn()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=_(e);let s=tn(),o=Yt(),a=Zt();for(const e of n){const n=t.Hn(e.metadata.name);e.document&&(s=s.add(n)),o=o.insert(n,t.Jn(e)),a=a.insert(n,t.Yn(e.metadata.readTime))}const c=i.Qn.newChangeBuffer({trackRemovals:!0}),u=await Fi(i,function(e){return Je($e($.fromString("__bundle__/docs/"+e)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Mi(e,c,o,U.min(),a).next(t=>(c.apply(e),t)).next(t=>i.He.removeMatchingKeysForTargetId(e,u.targetId).next(()=>i.He.addMatchingKeys(e,s,u.targetId)).next(()=>i.Wn.Vn(e,t)).next(()=>t)))}(this.localStore,new po(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const e of this.queries)await zi(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new ji(Object.assign({},this.progress),e)}}function go(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class vo{constructor(e){this.key=e}}class bo{constructor(e){this.key=e}}class yo{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=tn(),this.mutatedKeys=tn(),this.Ao=it(e),this.Ro=new to(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new no,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=We(this.query)&&r.size===this.query.limit?r.last():null,c=Ke(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),l=rt(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Vo(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ao(l,a)>0||c&&this.Ao(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),We(this.query)||Ke(this.query))for(;s.size>this.query.limit;){const e=We(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:o,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc)),this.So(n);const s=t?this.Do():[],o=0===this.Io.size&&this.current?1:0,a=o!==this.Eo;return this.Eo=o,0!==i.length||a?{snapshot:new ro(this.query,e.Ro,r,i,e.mutatedKeys,0===o,a,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new no,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(e=>this.To=this.To.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=tn(),this.Ro.forEach(e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))});const t=[];return e.forEach(e=>{this.Io.has(e)||t.push(new bo(e))}),this.Io.forEach(n=>{e.has(n)||t.push(new vo(n))}),t}ko(e){this.To=e.zn,this.Io=tn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return ro.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class wo{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class _o{constructor(e){this.key=e,this.$o=!1}}class ko{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new mi(e=>tt(e),et),this.Mo=new Map,this.Lo=new Set,this.Bo=new Ht(oe.comparator),this.Uo=new Map,this.qo=new Wi,this.Ko={},this.jo=new Map,this.Qo=ri.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function Io(e,t){const n=Yo(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=await Fi(n.localStore,Je(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Oo(n,t,r,"current"===s),n.isPrimaryClient&&Cs(n.remoteStore,e)}return i}async function Oo(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.bo(n);i.Bn&&(i=await Vi(e.localStore,t.query,!1).then(({documents:e})=>t.view.bo(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Po(e,t.targetId,o.Co),o.snapshot}(e,t,n,r);const i=await Vi(e.localStore,t,!0),s=new yo(t,i.zn),o=s.bo(i.documents),a=on.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=s.applyChanges(o,e.isPrimaryClient,a);Po(e,n,c.Co);const u=new wo(t,n,s);return e.Oo.set(t,u),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),c.snapshot}async function To(e,t){const n=_(e),r=n.Oo.get(t),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(e=>!et(e,t))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ui(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),js(n.remoteStore,r.targetId),Do(n,r.targetId)}).catch(ci)):(Do(n,r.targetId),await Ui(n.localStore,r.targetId,!0))}async function So(e,t){const n=_(e);try{const e=await function(e,t){const n=_(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.He.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.He.addMatchingKeys(e,t.addedDocuments,s)));const c=t.resumeToken;if(c.approximateByteSize()>0){const u=a.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return y(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(a,u,t)&&o.push(n.He.updateTargetData(e,u))}});let a=Yt();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Mi(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(U.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next(t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return mr.waitFor(o).next(()=>s.apply(e)).next(()=>n.Wn.Vn(e,a)).next(()=>a)}).then(e=>(n.qn=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Uo.get(t);r&&(y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?y(r.$o):e.removedDocuments.size>0&&(y(r.$o),r.$o=!1))}),await Bo(n,e,t)}catch(e){await ci(e)}}function Eo(e,t,n){const r=_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=_(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const e of n.listeners)e.ro(t)&&(r=!0)}),r&&lo(n)}(r.eventManager,t),e.length&&r.Fo.Pr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Co(e,t,n){const r=_(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),s=i&&i.key;if(s){let e=new Ht(oe.comparator);e=e.insert(s,ke.newNoDocument(s,U.min()));const n=tn().add(s),i=new sn(U.min(),new Map,new Wt(L),e,n);await So(r,i),r.Bo=r.Bo.remove(s),r.Uo.delete(t),Mo(r)}else await Ui(r.localStore,t,!1).then(()=>Do(r,t,n)).catch(ci)}async function jo(e,t){const n=_(e),r=t.batch.batchId;try{const e=await function(e,t){const n=_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=mr.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);y(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.An.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}(n.localStore,t);Ro(n,r,null),xo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bo(n,e)}catch(e){await ci(e)}}async function Ao(e,t,n){const r=_(e);try{const e=await function(e,t){const n=_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.An.lookupMutationBatch(e,t).next(t=>(y(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t))).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}(r.localStore,t);Ro(r,t,n),xo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Bo(r,e)}catch(n){await ci(n)}}function xo(e,t){(e.jo.get(t)||[]).forEach(e=>{e.resolve()}),e.jo.delete(t)}function Ro(e,t,n){const r=_(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Do(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Mo.get(t))e.Oo.delete(r),n&&e.Fo.zo(r,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach(t=>{e.qo.containsKey(t)||No(e,t)})}function No(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(js(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Mo(e))}function Po(e,t,n){for(const r of n)r instanceof vo?(e.qo.addReference(r.key,t),Lo(e,r)):r instanceof bo?(p("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||No(e,r.key)):b()}function Lo(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(p("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Mo(e))}function Mo(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new oe($.fromString(t)),r=e.Qo.next();e.Uo.set(r,new _o(n)),e.Bo=e.Bo.insert(n,r),Cs(e.remoteStore,new jr(Je($e(n.path)),r,2,D.I))}}async function Bo(e,t,n){const r=_(e),i=[],s=[],o=[];r.Oo.isEmpty()||(r.Oo.forEach((e,a)=>{o.push(r.Go(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=xi.$n(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Fo.Pr(i),await async function(e,t){const n=_(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>mr.forEach(t,t=>mr.forEach(t.kn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>mr.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!wr(e))throw e;p("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,s))}async function Fo(e,t){const n=_(e);if(!n.currentUser.isEqual(t)){p("SyncEngine","User change. New user:",t.toKey());const e=await Pi(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach(e=>{e.forEach(e=>{e.reject(new I(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Bo(n,e.Gn)}}function Uo(e,t){const n=_(e),r=n.Uo.get(t);if(r&&r.$o)return tn().add(r.key);{let e=tn();const r=n.Mo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Po)}return e}}async function Vo(e,t){const n=_(e),r=await Vi(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&Po(n,t.targetId,i.Co),i}async function qo(e){const t=_(e);return Hi(t.localStore).then(e=>Bo(t,e))}async function Ho(e,t,n,r){const i=_(e),s=await function(e,t){const n=_(e),r=_(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Zt(e,t).next(t=>t?n.Wn.vn(e,t):mr.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?await Vs(i.remoteStore):"acknowledged"===n||"rejected"===n?(Ro(i,t,r||null),xo(i,t),function(e,t){_(_(e).An).ee(t)}(i.localStore,t)):b(),await Bo(i,s)):p("SyncEngine","Cannot apply mutation batch with id: "+t)}async function zo(e,t,n){const r=_(e),i=[],s=[];for(const e of t){let t;const n=r.Mo.get(e);if(n&&0!==n.length){t=await Fi(r.localStore,Je(n[0]));for(const e of n){const t=r.Oo.get(e),n=await Vo(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await qi(r.localStore,e);t=await Fi(r.localStore,n),await Oo(r,$o(n),e,!1)}i.push(t)}return r.Fo.Pr(s),i}function $o(e){return ze(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Wo(e){const t=_(e);return _(_(t.localStore).persistence).Tn()}async function Ko(e,t,n,r){const i=_(e);if(i.Wo)p("SyncEngine","Ignoring unexpected query state notification.");else if(i.Mo.has(t))switch(n){case"current":case"not-current":{const e=await Hi(i.localStore),r=sn.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await Bo(i,e,r);break}case"rejected":await Ui(i.localStore,t,!0),Do(i,t,r);break;default:b()}}async function Go(e,t,n){const r=Yo(e);if(r.Wo){for(const e of t){if(r.Mo.has(e)){p("SyncEngine","Adding an already active target "+e);continue}const t=await qi(r.localStore,e),n=await Fi(r.localStore,t);await Oo(r,$o(t),n.targetId,!1),Cs(r.remoteStore,n)}for(const e of n)r.Mo.has(e)&&await Ui(r.localStore,e,!1).then(()=>{js(r.remoteStore,e),Do(r,e)}).catch(ci)}}function Yo(e){const t=_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=So.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uo.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Co.bind(null,t),t.Fo.Pr=co.bind(null,t.eventManager),t.Fo.zo=uo.bind(null,t.eventManager),t}function Xo(e){const t=_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ao.bind(null,t),t}class Qo{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=bs(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return Ni(this.persistence,new Ri,e.initialUser,this.k)}Yo(e){return new Ji(es.ks,this.k)}Jo(e){return new ls}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Jo extends Qo{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=_(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=wi(e);let n=U.min();return t.jt({index:rr.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Nr(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.jn=e})}(this.localStore),await this.ta.initialize(this,e),await Xo(this.ta.syncEngine),await Vs(this.ta.remoteStore),await this.persistence.sn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Zo(e){return Ni(this.persistence,new Ri,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new hi(t,e.asyncQueue)}Yo(e){const t=Ci(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new Ti(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gs(),vs(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new ls}}class Zo extends Jo{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ta.syncEngine;this.sharedClientState instanceof us&&(this.sharedClientState.syncEngine={mi:Ho.bind(null,t),gi:Ko.bind(null,t),yi:Go.bind(null,t),Tn:Wo.bind(null,t),_i:qo.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn(async e=>{await async function(e,t){const n=_(e);if(Yo(n),Xo(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await zo(n,e.toArray());n.Wo=!0,await Xs(n.remoteStore,!0);for(const e of t)Cs(n.remoteStore,e)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Mo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Do(n,i),Ui(n.localStore,i,!0))),js(n.remoteStore,i)}),await t,await zo(n,e),function(e){const t=_(e);t.Uo.forEach((e,n)=>{js(t.remoteStore,n)}),t.qo.hs(),t.Uo=new Map,t.Bo=new Ht(oe.comparator)}(n),n.Wo=!1,await Xs(n.remoteStore,!1)}}(this.ta.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())})}Jo(e){const t=gs();if(!us.bt(t))throw new I(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ci(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new us(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class ea{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Eo(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fo.bind(null,this.syncEngine),await Xs(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new so}createDatastore(e){const t=bs(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new ms(r));var r;return function(e,t,n,r){return new Is(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Eo(this.syncEngine,e,0),s=ds.bt()?new ds:new hs,new Ts(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ko(e,t,n,r,i,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=_(e);p("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Es(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function ta(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class na{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ra{constructor(e,t){this.sa=e,this.k=t,this.metadata=new O,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},e=>this.metadata.reject(e))}close(){return this.sa.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.ra()}async ra(){const e=await this.oa();if(null===e)return null;const t=this.ia.decode(e),n=Number(t);isNaN(n)&&this.aa(`length string (${t}) is not valid number`);const r=await this.ca(n);return new fo(JSON.parse(r),e.length+n)}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async oa(){for(;this.ua()<0&&!await this.ha(););if(0===this.buffer.length)return null;const e=this.ua();e<0&&this.aa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ca(e){for(;this.buffer.length<e;)await this.ha()&&this.aa("Reached the end of bundle when more is expected.");const t=this.ia.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}aa(e){throw this.sa.cancel(),new Error("Invalid bundle format: "+e)}async ha(){const e=await this.sa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class ia{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new I(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=_(e),r=En(n.k)+"/documents",i={documents:t.map(e=>In(n.k,e))},s=await n.ji("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){y(!!t.found),t.found.name,t.found.updateTime;const n=On(e,t.found.name),r=wn(t.found.updateTime),i=new we({mapValue:{fields:t.found.fields}});return ke.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){y(!!t.missing),y(!!t.readTime);const n=On(e,t.missing),r=wn(t.readTime);return ke.newNoDocument(n,r)}(e,t):b()}(n.k,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());y(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=oe.fromPath(t);this.mutations.push(new Mt(n,this.precondition(n)))}),await async function(e,t){const n=_(e),r=En(n.k)+"/documents",i={writes:t.map(e=>xn(n.k,e))};await n.Bi("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw b();t=U.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new I(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?It.updateTime(t):It.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(U.min()))throw new I(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return It.updateTime(t)}return It.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sa{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.la=5,this.ur=new ys(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){this.ur.Zi(async()=>{const e=new ia(this.datastore),t=this.da(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.wa(e)}))}).catch(e=>{this.wa(e)})})}da(e){try{const t=this.updateFunction(e);return!re(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Vt(t)}return!1}}class oa{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=u.UNAUTHENTICATED,this.clientId=P.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{p("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,()=>Promise.resolve())}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new I(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new O;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=eo(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function aa(e,t){e.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Pi(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function ca(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ua(e);p("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=_(e);n.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials");const r=Ns(n);n.Gr.add(3),await Es(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await Ss(n)}(t.remoteStore,e)),e.onlineComponents=t}async function ua(e){return e.offlineComponents||(p("FirestoreClient","Using default OfflineComponentProvider"),await aa(e,new Qo)),e.offlineComponents}async function la(e){return e.onlineComponents||(p("FirestoreClient","Using default OnlineComponentProvider"),await ca(e,new ea)),e.onlineComponents}function ha(e){return ua(e).then(e=>e.persistence)}function da(e){return ua(e).then(e=>e.localStore)}function fa(e){return la(e).then(e=>e.remoteStore)}function pa(e){return la(e).then(e=>e.syncEngine)}async function ma(e){const t=await la(e),n=t.eventManager;return n.onListen=Io.bind(null,t.syncEngine),n.onUnlisten=To.bind(null,t.syncEngine),n}function ga(e,t,n={}){const r=new O;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new na({next:s=>{t.enqueueAndForget(()=>ao(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new I(k.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new I(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new ho($e(n.path),s,{includeMetadataChanges:!0,wo:!0});return oo(e,o)}(await ma(e),e.asyncQueue,t,n,r)),r.promise}function va(e,t,n={}){const r=new O;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new na({next:n=>{t.enqueueAndForget(()=>ao(e,o)),n.fromCache&&"server"===r.source?i.reject(new I(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new ho(n,s,{includeMetadataChanges:!0,wo:!0});return oo(e,o)}(await ma(e),e.asyncQueue,t,n,r)),r.promise}function ba(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new ra(e,t)}(function(e,t){if(e instanceof Uint8Array)return ta(e,t);if(e instanceof ArrayBuffer)return ta(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,bs(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=_(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=_(e),r=wn(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ye.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(go(r));const i=new mo(r,e.localStore,t.k);let s=await t.Ho();for(;s;){const e=await i.yo(s);e&&n._updateProgress(e),s=await t.Ho()}const o=await i.complete();await Bo(e,o.In,void 0),await function(e,t){const n=_(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ye.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){g("SyncEngine","Loading bundle failed with "+e),n._failWith(e)}})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(await pa(e),i,r)})}class ya{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}const _a=new Map;function ka(e,t,n){if(!n)throw new I(k.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Ia(e,t,n,r){if(!0===t&&!0===r)throw new I(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Oa(e){if(!oe.isDocumentKey(e))throw new I(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ta(e){if(oe.isDocumentKey(e))throw new I(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Sa(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":b()}function Ea(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new I(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sa(e);throw new I(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ca(e,t){if(t<=0)throw new I(k.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class ja{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new I(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new I(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ia("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Aa{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ja({}),this._settingsFrozen=!1,e instanceof wa?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new I(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(e.options.projectId)}(e))}get app(){if(!this._app)throw new I(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new I(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ja(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new S;switch(e.type){case"gapi":const t=e.client;return y(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new A(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new I(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_a.get(e);t&&(p("ComponentProvider","Removing Datastore"),_a.delete(e),t.terminate())}(this),Promise.resolve()}}function xa(e,t,n,r={}){var i;const s=(e=Ea(e,Aa))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&g("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=u.MOCK_USER;else{t=Object(o.g)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new I(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new u(s)}e._authCredentials=new E(new T(t,n))}}class Ra{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ra(this.firestore,e,this._key)}}class Da{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class Na extends Da{constructor(e,t,n){super(e,t,$e(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ra(this.firestore,null,new oe(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Pa(e,t,...n){if(e=Object(o.l)(e),ka("collection","path",t),e instanceof Aa){const r=$.fromString(t,...n);return Ta(r),new Na(e,null,r)}{if(!(e instanceof Ra||e instanceof Na))throw new I(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($.fromString(t,...n));return Ta(r),new Na(e.firestore,null,r)}}function La(e,t){if(e=Ea(e,Aa),ka("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new I(k.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Da(e,null,function(e){return new He($.emptyPath(),e)}(t))}function Ma(e,t,...n){if(e=Object(o.l)(e),1===arguments.length&&(t=P.A()),ka("doc","path",t),e instanceof Aa){const r=$.fromString(t,...n);return Oa(r),new Ra(e,null,new oe(r))}{if(!(e instanceof Ra||e instanceof Na))throw new I(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($.fromString(t,...n));return Oa(r),new Ra(e.firestore,e instanceof Na?e.converter:null,new oe(r))}}function Ba(e,t){return e=Object(o.l)(e),t=Object(o.l)(t),(e instanceof Ra||e instanceof Na)&&(t instanceof Ra||t instanceof Na)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fa(e,t){return e=Object(o.l)(e),t=Object(o.l)(t),e instanceof Da&&t instanceof Da&&e.firestore===t.firestore&&et(e._query,t._query)&&e.converter===t.converter}class Ua{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new ys(this,"async_queue_retry"),this.Ra=()=>{const e=vs();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=vs();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=vs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new O;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!wr(e))throw e;p("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi(()=>this.va())}}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(e=>{this.Ta=e,this.Ea=!1;throw m("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ea=!1,e))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const r=Zs.createAndSchedule(this,e,t,n,e=>this.Va(e));return this.pa.push(r),r}Pa(){this.Ta&&b()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function Va(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class qa{constructor(){this._progressObserver={},this._taskCompletionResolver=new O,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ha=-1;class za extends Aa{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Ua,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Wa(this),this._firestoreClient.terminate()}}function $a(e){return e._firestoreClient||Wa(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Wa(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new ya(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new oa(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Ka(e,t){nc(e=Ea(e,za));const n=$a(e),r=e._freezeSettings(),i=new ea;return Ya(n,i,new Jo(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Ga(e){nc(e=Ea(e,za));const t=$a(e),n=e._freezeSettings(),r=new ea;return Ya(t,r,new Zo(r,n.cacheSizeBytes))}function Ya(e,t,n){const r=new O;return e.asyncQueue.enqueue(async()=>{try{await aa(e,n),await ca(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===k.FAILED_PRECONDITION||e.code===k.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}}).then(()=>r.promise)}function Xa(e){if(e._initialized&&!e._terminated)throw new I(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new O;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!vr.bt())return Promise.resolve();const t=e+"main";await vr.delete(t)}(Ci(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}function Qa(e){return function(e){const t=new O;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=_(e);Ns(n.remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=_(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.An.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(e){const n=eo(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await pa(e),t)),t.promise}($a(e=Ea(e,za)))}function Ja(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await ha(e),n=await fa(e);return t.setNetworkEnabled(!0),function(e){const t=_(e);return t.Gr.delete(0),Ss(t)}(n)})}($a(e=Ea(e,za)))}function Za(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await ha(e),n=await fa(e);return t.setNetworkEnabled(!1),async function(e){const t=_(e);t.Gr.add(0),await Es(t),t.Jr.set("Offline")}(n)})}($a(e=Ea(e,za)))}function ec(e,t){const n=$a(e=Ea(e,za)),r=new qa;return ba(n,e._databaseId,t,r),r}function tc(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=_(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ye.getNamedQuery(e,t))}(await da(e),t))}($a(e=Ea(e,za)),t).then(t=>t?new Da(e,null,t.query):null)}function nc(e){if(e._initialized||e._terminated)throw new I(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new I(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new K(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(X.fromBase64String(e))}catch(e){throw new I(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ic(X.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sc{constructor(e){this._methodName=e}}class oc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new I(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new I(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return L(this._lat,e._lat)||L(this._long,e._long)}}const ac=/^__.*__$/;class cc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Rt(e,this.data,this.fieldMask,t,this.fieldTransforms):new xt(e,this.data,t,this.fieldTransforms)}}class uc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Rt(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}class hc{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new hc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return xc(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(lc(this.xa)&&ac.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class dc{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||bs(e)}ja(e,t,n,r=!1){return new hc({xa:e,methodName:t,Ka:n,path:K.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function fc(e){const t=e._freezeSettings(),n=bs(e._databaseId);return new dc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pc(e,t,n,r,i,s={}){const o=e.ja(s.merge||s.mergeFields?2:0,t,n,i);Ec("Data must be an object, but it was:",o,r);const a=Tc(r,o);let c,u;if(s.merge)c=new G(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Cc(t,r,n);if(!o.contains(i))throw new I(k.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Rc(e,i)||e.push(i)}c=new G(e),u=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,u=o.fieldTransforms;return new cc(new we(a),c,u)}class mc extends sc{_toFieldTransform(e){if(2!==e.xa)throw 1===e.xa?e.Ua(this._methodName+"() can only appear at the top level of your update data"):e.Ua(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mc}}function gc(e,t,n){return new hc({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class vc extends sc{_toFieldTransform(e){return new _t(e.path,new ft)}isEqual(e){return e instanceof vc}}class bc extends sc{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=gc(this,e,!0),n=this.Qa.map(e=>Oc(e,t)),r=new pt(n);return new _t(e.path,r)}isEqual(e){return this===e}}class yc extends sc{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=gc(this,e,!0),n=this.Qa.map(e=>Oc(e,t)),r=new gt(n);return new _t(e.path,r)}isEqual(e){return this===e}}class wc extends sc{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new bt(e.k,ct(e.k,this.Wa));return new _t(e.path,t)}isEqual(e){return this===e}}function _c(e,t,n,r){const i=e.ja(1,t,n);Ec("Data must be an object, but it was:",i,r);const s=[],a=we.empty();q(r,(e,r)=>{const c=Ac(t,e,n);r=Object(o.l)(r);const u=i.La(c);if(r instanceof mc)s.push(c);else{const e=Oc(r,u);null!=e&&(s.push(c),a.set(c,e))}});const c=new G(s);return new uc(a,c,i.fieldTransforms)}function kc(e,t,n,r,i,s){const a=e.ja(1,t,n),c=[Cc(t,r,n)],u=[i];if(s.length%2!=0)throw new I(k.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)c.push(Cc(t,s[e])),u.push(s[e+1]);const l=[],h=we.empty();for(let e=c.length-1;e>=0;--e)if(!Rc(l,c[e])){const t=c[e];let n=u[e];n=Object(o.l)(n);const r=a.La(t);if(n instanceof mc)l.push(t);else{const e=Oc(n,r);null!=e&&(l.push(t),h.set(t,e))}}const d=new G(l);return new uc(h,d,a.fieldTransforms)}function Ic(e,t,n,r=!1){return Oc(n,e.ja(r?4:3,t))}function Oc(e,t){if(Sc(e=Object(o.l)(e)))return Ec("Unsupported field value:",t,e),Tc(e,t);if(e instanceof sc)return function(e,t){if(!lc(t.xa))throw t.Ua(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Ua(e._methodName+"() is not currently supported inside arrays");const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Oc(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(o.l)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ct(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=F.fromDate(e);return{timestampValue:vn(t.k,n)}}if(e instanceof F){const n=new F(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vn(t.k,n)}}if(e instanceof oc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ic)return{bytesValue:bn(t.k,e._byteString)};if(e instanceof Ra){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ua(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:_n(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: "+Sa(e))}(e,t)}function Tc(e,t){const n={};return H(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):q(e,(e,r)=>{const i=Oc(r,t.Fa(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Sc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof F||e instanceof oc||e instanceof ic||e instanceof Ra||e instanceof sc)}function Ec(e,t,n){if(!Sc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Sa(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function Cc(e,t,n){if((t=Object(o.l)(t))instanceof rc)return t._internalPath;if("string"==typeof t)return Ac(e,t);throw xc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const jc=new RegExp("[~\\*/\\[\\]]");function Ac(e,t,n){if(t.search(jc)>=0)throw xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new rc(...t.split("."))._internalPath}catch(r){throw xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new I(k.INVALID_ARGUMENT,a+e+c)}function Rc(e,t){return e.some(e=>e.isEqual(t))}class Dc{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ra(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nc extends Dc{data(){return super.data()}}function Pc(e,t){return"string"==typeof t?Ac(e,t):t instanceof rc?t._internalPath:t._delegate._internalPath}class Lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mc extends Dc{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Pc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Bc extends Mc{data(e={}){return super.data(e)}}class Fc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Lc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bc(this._firestore,this._userDataWriter,n.key,n,new Lc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new I(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Bc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Lc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Bc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Uc(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Uc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function Vc(e,t){return e instanceof Mc&&t instanceof Mc?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Fc&&t instanceof Fc&&e._firestore===t._firestore&&Fa(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function qc(e){if(Ke(e)&&0===e.explicitOrderBy.length)throw new I(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hc{}function zc(e,...t){for(const n of t)e=n._apply(e);return e}class $c extends Hc{constructor(e,t,n){super(),this.Ga=e,this.za=t,this.Ha=n,this.type="where"}_apply(e){const t=fc(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new I(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){ou(o,s);const t=[];for(const n of o)t.push(su(r,e,n));a={arrayValue:{values:t}}}else a=su(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ou(o,s),a=Ic(n,"where",o,"in"===s||"not-in"===s);const c=Ce.create(i,s,a);return function(e,t){if(t.V()){const n=Ye(e);if(null!==n&&!n.isEqual(t.field))throw new I(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Ge(e);null!==r&&au(e,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new I(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new I(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Da(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new He(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function Wc(e,t,n){const r=t,i=Pc("where",e);return new $c(i,r,n)}class Kc extends Hc{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new I(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new I(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Fe(t,n);return function(e,t){if(null===Ge(e)){const n=Ye(e);null!==n&&au(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Da(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new He(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Gc(e,t="asc"){const n=t,r=Pc("orderBy",e);return new Kc(r,n)}class Yc extends Hc{constructor(e,t,n){super(),this.type=e,this.Ya=t,this.Xa=n}_apply(e){return new Da(e.firestore,e.converter,Ze(e._query,this.Ya,this.Xa))}}function Xc(e){return Ca("limit",e),new Yc("limit",e,"F")}function Qc(e){return Ca("limitToLast",e),new Yc("limitToLast",e,"L")}class Jc extends Hc{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=iu(e,this.type,this.Za,this.tc);return new Da(e.firestore,e.converter,function(e,t){return new He(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Zc(...e){return new Jc("startAt",e,!0)}function eu(...e){return new Jc("startAfter",e,!1)}class tu extends Hc{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=iu(e,this.type,this.Za,this.tc);return new Da(e.firestore,e.converter,function(e,t){return new He(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function nu(...e){return new tu("endBefore",e,!0)}function ru(...e){return new tu("endAt",e,!1)}function iu(e,t,n,r){if(n[0]=Object(o.l)(n[0]),n[0]instanceof Dc)return function(e,t,n,r,i){if(!r)throw new I(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of Qe(e))if(n.field.isKeyField())s.push(fe(t,r.key));else{const e=r.data.field(n.field);if(te(e))throw new I(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new I(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Me(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=fc(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new I(k.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new I(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!Xe(e)&&-1!==c.indexOf("/"))throw new I(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child($.fromString(c));if(!oe.isDocumentKey(n))throw new I(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new oe(n);a.push(fe(t,i))}else{const e=Ic(n,r,c);a.push(e)}}return new Me(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function su(e,t,n){if("string"==typeof(n=Object(o.l)(n))){if(""===n)throw new I(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xe(t)&&-1!==n.indexOf("/"))throw new I(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($.fromString(n));if(!oe.isDocumentKey(r))throw new I(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fe(e,new oe(r))}if(n instanceof Ra)return fe(e,n._key);throw new I(k.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sa(n)}.`)}function ou(e,t){if(!Array.isArray(e)||0===e.length)throw new I(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new I(k.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function au(e,t,n){if(!n.isEqual(t))throw new I(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cu{convertValue(e,t="none"){switch(ae(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Z(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ee(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw b()}}convertObject(e,t){const n={};return q(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new oc(Z(e.latitude),Z(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=function e(t){const n=t.mapValue.fields.__previous_value__;return te(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ne(e));default:return null}}convertTimestamp(e){const t=J(e);return new F(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$.fromString(e);y($n(n));const r=new wa(n.get(1),n.get(3)),i=new oe(n.popFirst(5));return r.isEqual(t)||m(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function uu(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lu extends cu{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ra(this.firestore,null,t)}}class hu{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fc(e)}set(e,t,n){this._verifyNotCommitted();const r=du(e,this._firestore),i=uu(r.converter,t,n),s=pc(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,It.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=du(e,this._firestore);let s;return s="string"==typeof(t=Object(o.l)(t))||t instanceof rc?kc(this._dataReader,"WriteBatch.update",i._key,t,n,r):_c(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,It.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=du(e,this._firestore);return this._mutations=this._mutations.concat(new Lt(t._key,It.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new I(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function du(e,t){if((e=Object(o.l)(e)).firestore!==t)throw new I(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function fu(e){e=Ea(e,Ra);const t=Ea(e.firestore,za);return ga($a(t),e._key).then(n=>Eu(t,e,n))}class pu extends cu{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ra(this.firestore,null,t)}}function mu(e){e=Ea(e,Ra);const t=Ea(e.firestore,za),n=$a(t),r=new pu(t);return function(e,t){const n=new O;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=_(e);return n.persistence.runTransaction("read document","readonly",e=>n.Wn.Rn(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new I(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=eo(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await da(e),t,n)),n.promise}(n,e._key).then(n=>new Mc(t,r,e._key,n,new Lc(null!==n&&n.hasLocalMutations,!0),e.converter))}function gu(e){e=Ea(e,Ra);const t=Ea(e.firestore,za);return ga($a(t),e._key,{source:"server"}).then(n=>Eu(t,e,n))}function vu(e){e=Ea(e,Da);const t=Ea(e.firestore,za),n=$a(t),r=new pu(t);return qc(e._query),va(n,e._query).then(n=>new Fc(t,r,e,n))}function bu(e){e=Ea(e,Da);const t=Ea(e.firestore,za),n=$a(t),r=new pu(t);return function(e,t){const n=new O;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await Vi(e,t,!0),i=new yo(t,r.zn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=eo(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await da(e),t,n)),n.promise}(n,e._query).then(n=>new Fc(t,r,e,n))}function yu(e){e=Ea(e,Da);const t=Ea(e.firestore,za),n=$a(t),r=new pu(t);return va(n,e._query,{source:"server"}).then(n=>new Fc(t,r,e,n))}function wu(e,t,n){e=Ea(e,Ra);const r=Ea(e.firestore,za),i=uu(e.converter,t,n);return Su(r,[pc(fc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,It.none())])}function _u(e,t,n,...r){e=Ea(e,Ra);const i=Ea(e.firestore,za),s=fc(i);let a;return a="string"==typeof(t=Object(o.l)(t))||t instanceof rc?kc(s,"updateDoc",e._key,t,n,r):_c(s,"updateDoc",e._key,t),Su(i,[a.toMutation(e._key,It.exists(!0))])}function ku(e){return Su(Ea(e.firestore,za),[new Lt(e._key,It.none())])}function Iu(e,t){const n=Ea(e.firestore,za),r=Ma(e),i=uu(e.converter,t);return Su(n,[pc(fc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,It.exists(!1))]).then(()=>r)}function Ou(e,...t){var n,r,i;e=Object(o.l)(e);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||Va(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges};if(Va(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,h;if(e instanceof Ra)l=Ea(e.firestore,za),h=$e(e._key.path),u={next:n=>{t[a]&&t[a](Eu(l,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Ea(e,Da);l=Ea(n.firestore,za),h=n._query;const r=new pu(l);u={next:e=>{t[a]&&t[a](new Fc(l,r,n,e))},error:t[a+1],complete:t[a+2]},qc(e._query)}return function(e,t,n,r){const i=new na(r),s=new ho(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>oo(await ma(e),s)),()=>{i.na(),e.asyncQueue.enqueueAndForget(async()=>ao(await ma(e),s))}}($a(l),h,c,u)}function Tu(e,t){return function(e,t){const n=new na(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){_(e).io.add(t),t.next()}(await ma(e),n)),()=>{n.na(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){_(e).io.delete(t)}(await ma(e),n))}}($a(e=Ea(e,za)),Va(t)?t:{next:t})}function Su(e,t){return function(e,t){const n=new O;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Xo(e);try{const e=await function(e,t){const n=_(e),r=F.now(),i=t.reduce((e,t)=>e.add(t.key),tn());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Wn.vn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Ct(e,s.get(e.key));null!=t&&o.push(new Rt(e.key,t,_e(t.value.mapValue),It.exists(!0)))}return n.An.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new Ht(L)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await Bo(r,e.changes),await Vs(r.remoteStore)}catch(e){const t=eo(e,"Failed to persist write");n.reject(t)}}(await pa(e),t,n)),n.promise}($a(e),t)}function Eu(e,t,n){const r=n.docs.get(t._key),i=new pu(e);return new Mc(e,i,t._key,r,new Lc(n.hasPendingWrites,n.fromCache),t.converter)}class Cu extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fc(e)}get(e){const t=du(e,this._firestore),n=new lu(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return b();const r=e[0];if(r.isFoundDocument())return new Dc(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Dc(this._firestore,n,t._key,null,t.converter);throw b()})}set(e,t,n){const r=du(e,this._firestore),i=uu(r.converter,t,n),s=pc(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=du(e,this._firestore);let s;return s="string"==typeof(t=Object(o.l)(t))||t instanceof rc?kc(this._dataReader,"Transaction.update",i._key,t,n,r):_c(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=du(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=du(e,this._firestore),n=new pu(this._firestore);return super.get(e).then(e=>new Mc(this._firestore,n,t._key,e._document,new Lc(!1,!1),t.converter))}}function ju(e,t){return function(e,t){const n=new O;return e.asyncQueue.enqueueAndForget(async()=>{const r=await function(e){return la(e).then(e=>e.datastore)}(e);new sa(e.asyncQueue,r,t,n).run()}),n.promise}($a(e=Ea(e,za)),n=>t(new Cu(e,n)))}function Au(){return new mc("deleteField")}function xu(){return new vc("serverTimestamp")}function Ru(...e){return new bc("arrayUnion",e)}function Du(...e){return new yc("arrayRemove",e)}function Nu(e){return new wc("increment",e)}!function(e,t=!0){!function(e){l=e}(r.SDK_VERSION),Object(r._registerComponent)(new i.a("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new za(r,new C(e.getProvider("auth-internal")),new R(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),Object(r.registerVersion)(c,"3.4.1",e),Object(r.registerVersion)(c,"3.4.1","esm2017")}()}).call(this,n("8oxB"))},Cib9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("TeQF"),n("07d7"),n("LKBx"),n("+2oP"),n("ma9I"),n("tkto"),n("FZtP");var r=n("7Ql6");function i(e){var t=Object(r.ref)({}),n=Object(r.ref)(""),i=function(n){if(""===n)t.value={};else{var r={},i=Object.keys(e.data);i.forEach((function(t,s){r[i[s]]=function(t,n){var r=t.data.filter((function(e){return e[t.key].toLowerCase().startsWith(n.toLowerCase())})),i=t.data.filter((function(e){return!e[t.key].toLowerCase().startsWith(n.toLowerCase())&&e[t.key].toLowerCase().indexOf(n.toLowerCase())>-1}));return r.concat(i).slice(0,e.searchLimit)}(e.data[t],n)})),t.value=r}};return Object(r.watch)(n,(function(e){return i(e)})),{searchQuery:n,resetsearchQuery:function(){n.value=""},filteredData:t}}},DOhS:function(e,t,n){var r=n("pm1w");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(e.exports=r.locals)},EnZy:function(e,t,n){"use strict";var r=n("K6Rb"),i=n("xluM"),s=n("4zBA"),o=n("14Sl"),a=n("glrk"),c=n("cjT7"),u=n("ROdP"),l=n("HYAF"),h=n("SEBh"),d=n("iqWW"),f=n("UMSQ"),p=n("V37c"),m=n("3Eq5"),g=n("Ta7t"),v=n("FMNM"),b=n("kmMV"),y=n("n3/R"),w=n("0Dky"),_=y.UNSUPPORTED_Y,k=Math.min,I=[].push,O=s(/./.exec),T=s(I),S=s("".slice);o("split",(function(e,t,n){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var s=p(l(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[s];if(!u(e))return i(t,s,e,o);for(var a,c,h,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=new RegExp(e.source,f+"g");(a=i(b,v,s))&&!((c=v.lastIndex)>m&&(T(d,S(s,m,a.index)),a.length>1&&a.index<s.length&&r(I,d,g(a,1)),h=a[0].length,m=c,d.length>=o));)v.lastIndex===a.index&&v.lastIndex++;return m===s.length?!h&&O(v,"")||T(d,""):T(d,S(s,m)),d.length>o?g(d,0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=l(this),o=c(t)?void 0:m(t,e);return o?i(o,t,r,n):i(s,p(r),t,n)},function(e,r){var i=a(this),o=p(e),c=n(s,i,o,r,s!==t);if(c.done)return c.value;var u=h(i,RegExp),l=i.unicode,m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(_?"g":"y"),g=new u(_?"^(?:"+i.source+")":i,m),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===o.length)return null===v(g,o)?[o]:[];for(var y=0,w=0,I=[];w<o.length;){g.lastIndex=_?0:w;var O,E=v(g,_?S(o,w):o);if(null===E||(O=k(f(g.lastIndex+(_?w:0)),o.length))===y)w=d(o,w,l);else{if(T(I,S(o,y,w)),I.length===b)return I;for(var C=1;C<=E.length-1;C++)if(T(I,E[C]),I.length===b)return I;w=y=O}}return T(I,S(o,y)),I}]}),!!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_)},Eprd:function(e,t,n){var r=n("ZPy1");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(e.exports=r.locals)},FLC1:function(e,t,n){"use strict";n("07d7"),n("FZtP"),n("x0AG"),n("pDQq");var r=n("7eWi"),i=n("6Ytq"),s=n("NLYf"),o=n("qlm0"),a=n("SRip"),c=n("k6qm"),u=n("GUe+"),l=n("nWMH"),h=n.n(l),d=n("4AkS"),f={components:{BNavItemDropdown:r.a,BBadge:i.a,BMedia:s.a,BLink:o.a,BImg:a.a,BFormSpinbutton:c.a,VuePerfectScrollbar:h.a,BButton:u.a},directives:{Ripple:d.a},data:function(){return{items:[],perfectScrollbarSettings:{maxScrollbarLength:60,wheelPropagation:!1}}},computed:{totalAmount:function(){var e=0;return this.items.forEach((function(t){e+=t.price})),e}},methods:{fetchItems:function(){var e=this;this.$store.dispatch("app-ecommerce/fetchCartProducts").then((function(t){e.items=t.data.products}))},removeItemFromCart:function(e){var t=this;this.$store.dispatch("app-ecommerce/removeProductFromCart",{productId:e}).then((function(){var n=t.items.findIndex((function(t){return t.id===e}));t.items.splice(n,1),t.$store.commit("app-ecommerce/UPDATE_CART_ITEMS_COUNT",t.items.length)}))}}},p=(n("myup"),n("KHd+")),m=Object(p.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav-item-dropdown",{staticClass:"dropdown-cart mr-25",attrs:{"menu-class":"dropdown-menu-media",right:""},on:{show:e.fetchItems},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("feather-icon",{staticClass:"text-body",attrs:{badge:e.$store.state["app-ecommerce"].cartItemsCount,icon:"ShoppingCartIcon",size:"21"}})]},proxy:!0}])},[e._v(" "),n("li",{staticClass:"dropdown-menu-header"},[n("div",{staticClass:"dropdown-header d-flex"},[n("h4",{staticClass:"notification-title mb-0 mr-auto"},[e._v("\n        My Cart\n      ")]),e._v(" "),n("b-badge",{attrs:{pill:"",variant:"light-primary"}},[e._v("\n        "+e._s(e.$store.state["app-ecommerce"].cartItemsCount)+" Items\n      ")])],1)]),e._v(" "),e.items.length?n("vue-perfect-scrollbar",{staticClass:"scrollable-container media-list scroll-area",attrs:{settings:e.perfectScrollbarSettings,tagname:"li"}},e._l(e.items,(function(t){return n("b-media",{key:t.name,scopedSlots:e._u([{key:"aside",fn:function(){return[n("b-img",{attrs:{src:t.image,alt:t.name,rounded:"",width:"62px"}})]},proxy:!0}],null,!0)},[e._v(" "),n("feather-icon",{staticClass:"cart-item-remove cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(n){return n.stopPropagation(),e.removeItemFromCart(t.id)}}}),e._v(" "),n("div",{staticClass:"media-heading"},[n("h6",{staticClass:"cart-item-title"},[n("b-link",{staticClass:"text-body"},[e._v("\n            "+e._s(t.name)+"\n          ")])],1),e._v(" "),n("small",{staticClass:"cart-item-by"},[e._v("By "+e._s(t.brand))])]),e._v(" "),n("div",{staticClass:"cart-item-qty ml-1"},[n("b-form-spinbutton",{attrs:{min:"1",size:"sm"},model:{value:t.qty,callback:function(n){e.$set(t,"qty",n)},expression:"item.qty"}})],1),e._v(" "),n("h5",{staticClass:"cart-item-price"},[e._v("\n        $"+e._s(t.price)+"\n      ")])],1)})),1):e._e(),e._v(" "),e.items.length?n("li",{staticClass:"dropdown-menu-footer"},[n("div",{staticClass:"d-flex justify-content-between mb-1"},[n("h6",{staticClass:"font-weight-bolder mb-0"},[e._v("\n        Total:\n      ")]),e._v(" "),n("h6",{staticClass:"text-primary font-weight-bolder mb-0"},[e._v("\n        $"+e._s(e.totalAmount)+"\n      ")])]),e._v(" "),n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"primary",block:"",to:{name:"apps-e-commerce-checkout"}}},[e._v("\n      Checkout\n    ")])],1):e._e(),e._v(" "),e.items.length?e._e():n("p",{staticClass:"m-0 p-1 text-center"},[e._v("\n    Your cart is empty\n  ")])],1)}),[],!1,null,"95ea3420",null);t.a=m.exports},H1q0:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return be})),n.d(t,"c",(function(){return Ce})),n.d(t,"d",(function(){return Re})),n.d(t,"e",(function(){return Ne})),n.d(t,"f",(function(){return De})),n.d(t,"g",(function(){return Oe})),n.d(t,"h",(function(){return xe})),n.d(t,"i",(function(){return pn})),n.d(t,"j",(function(){return ir})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return an})),n.d(t,"m",(function(){return Pe})),n.d(t,"n",(function(){return Le})),n.d(t,"o",(function(){return Me})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return fe})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return Ft})),n.d(t,"t",(function(){return T})),n.d(t,"u",(function(){return Pn})),n.d(t,"v",(function(){return Z})),n.d(t,"x",(function(){return st})),n.d(t,"y",(function(){return Pt})),n.d(t,"z",(function(){return nr})),n.d(t,"A",(function(){return Mt})),n.d(t,"B",(function(){return ot})),n.d(t,"C",(function(){return it})),n.d(t,"D",(function(){return me})),n.d(t,"F",(function(){return ct})),n.d(t,"G",(function(){return h})),n.d(t,"H",(function(){return ft})),n.d(t,"I",(function(){return St})),n.d(t,"J",(function(){return jt})),n.d(t,"K",(function(){return Nn})),n.d(t,"L",(function(){return J})),n.d(t,"M",(function(){return Xt})),n.d(t,"N",(function(){return ht})),n.d(t,"O",(function(){return Qe})),n.d(t,"P",(function(){return ln})),n.d(t,"Q",(function(){return On})),n.d(t,"R",(function(){return Dn})),n.d(t,"S",(function(){return Rt})),n.d(t,"T",(function(){return Je})),n.d(t,"U",(function(){return hn})),n.d(t,"V",(function(){return In})),n.d(t,"W",(function(){return Rn})),n.d(t,"X",(function(){return pt})),n.d(t,"Y",(function(){return rt})),n.d(t,"Z",(function(){return lt})),n.d(t,"ab",(function(){return Ve})),n.d(t,"bb",(function(){return Xe})),n.d(t,"cb",(function(){return Ze})),n.d(t,"db",(function(){return ut})),n.d(t,"eb",(function(){return dt})),n.d(t,"fb",(function(){return un})),n.d(t,"gb",(function(){return kn})),n.d(t,"hb",(function(){return xn})),n.d(t,"ib",(function(){return $e})),n.d(t,"jb",(function(){return vt})),n.d(t,"kb",(function(){return bt})),n.d(t,"lb",(function(){return fn})),n.d(t,"mb",(function(){return gt})),n.d(t,"nb",(function(){return mt})),n.d(t,"ob",(function(){return at})),n.d(t,"w",(function(){return yr})),n.d(t,"E",(function(){return vr}));var r=n("H9WU"),i=n("WJvL"),s=n("mrSG"),o=n("5pEQ"),a=n("IuUc");const c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},d=l,f=new r.b("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new o.b("@firebase/auth");function m(e,...t){p.logLevel<=o.a.ERROR&&p.error(`Auth (${i.SDK_VERSION}): ${e}`,...t)}function g(e,...t){throw w(e,...t)}function v(e,...t){return w(e,...t)}function b(e,t,n){const i=Object.assign(Object.assign({},d()),{[t]:n});return new r.b("auth","Firebase",i).create(t,{appName:e.name})}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&g(e,"argument-error"),b(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return f.create(e,...t)}function _(e,t,...n){if(!e)throw w(t,...n)}function k(e){const t="INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function I(e,t){e||k(t)}const O=new Map;function T(e){I(e instanceof Function,"Expected a class definition");let t=O.get(e);return t?(I(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,O.set(e,t),t)}function S(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){return"http:"===C()||"https:"===C()}function C(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class j{constructor(e,t){this.shortDelay=e,this.longDelay=t,I(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(r.t)()||Object(r.v)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(E()||Object(r.o)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){I(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},D=new j(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function P(e,t,n,i,s={}){return L(e,s,async()=>{let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=Object(r.y)(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),x.fetch()(B(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},s))})}async function L(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},R),t);try{const t=new F(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw U(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw U(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw U(e,"email-already-in-use",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw b(e,a,o);g(e,a)}}catch(t){if(t instanceof r.c)throw t;g(e,"network-request-failed")}}async function M(e,t,n,r,i={}){const s=await P(e,t,n,r,i);return"mfaPendingCredential"in s&&g(e,"multi-factor-auth-required",{_serverResponse:s}),s}function B(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?A(e.config,i):`${e.config.apiScheme}://${i}`}class F{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(v(this.auth,"timeout")),D.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function U(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=v(e,t,r);return i.customData._tokenResponse=n,i}function V(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function q(e){return 1e3*Number(e)}function H(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return m("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(r.e)(n);return e?JSON.parse(e):(m("Failed to decode base64 JWT payload"),null)}catch(e){return m("Caught error parsing JWT payload as JSON",e),null}}async function z(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof r.c&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class W{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function K(e){var t;const n=e.auth,r=await e.getIdToken(),i=await z(e,async function(e,t){return P(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));_(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=Object(s.c)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const c=(u=e.providerData,l=a,[...u.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var u,l;const h=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==c?void 0:c.length)),f=!!h&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new W(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_(void 0!==e.idToken,"internal-error"),_(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=H(e);return _(t,"internal-error"),_(void 0!==t.exp,"internal-error"),_(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await async function(e,t){const n=await L(e,{},async()=>{const n=Object(r.y)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=B(e,i,"/v1/token","key="+s),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",x.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new G;return n&&(_("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(_("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(_("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return k("not implemented")}}function Y(e,t){_("string"==typeof e||void 0===e,"internal-error",{appName:t})}class X{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Object(s.c)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new $(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new W(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await z(this,this.stsTokenManager.getToken(this.auth,e));return _(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Object(r.l)(e),i=await n.getIdToken(t),s=H(i);_(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:V(q(s.auth_time)),issuedAtTime:V(q(s.iat)),expirationTime:V(q(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(r.l)(e);await K(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new X(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await K(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await z(this,async function(e,t){return P(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:y,isAnonymous:w,providerData:k,stsTokenManager:I}=t;_(b&&I,e,"internal-error");const O=G.fromJSON(this.name,I);_("string"==typeof b,e,"internal-error"),Y(l,e.name),Y(h,e.name),_("boolean"==typeof y,e,"internal-error"),_("boolean"==typeof w,e,"internal-error"),Y(d,e.name),Y(f,e.name),Y(p,e.name),Y(m,e.name),Y(g,e.name),Y(v,e.name);const T=new X({uid:b,auth:e,email:h,emailVerified:y,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:O,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(T.providerData=k.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new G;r.updateFromServerResponse(t);const i=new X({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await K(i),i}}class Q{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Q.type="NONE";const J=Q;function Z(e,t,n){return`firebase:${e}:${t}:${n}`}class ee{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Z(this.userKey,r.apiKey,i),this.fullPersistenceKey=Z("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?X._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ee(T(J),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||T(J);const s=Z(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const r=X._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}})),new ee(i,e,n)):new ee(i,e,n)}}function te(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(se(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ne(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ae(t))return"Blackberry";if(ce(t))return"Webos";if(re(t))return"Safari";if((t.includes("chrome/")||ie(t))&&!t.includes("edge/"))return"Chrome";if(oe(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ne(e=Object(r.m)()){return/firefox\//i.test(e)}function re(e=Object(r.m)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ie(e=Object(r.m)()){return/crios\//i.test(e)}function se(e=Object(r.m)()){return/iemobile/i.test(e)}function oe(e=Object(r.m)()){return/android/i.test(e)}function ae(e=Object(r.m)()){return/blackberry/i.test(e)}function ce(e=Object(r.m)()){return/webos/i.test(e)}function ue(e=Object(r.m)()){return/iphone|ipad|ipod/i.test(e)}function le(e=Object(r.m)()){return ue(e)||oe(e)||ce(e)||ae(e)||/windows phone/i.test(e)||se(e)}function he(e,t=[]){let n;switch(e){case"Browser":n=te(Object(r.m)());break;case"Worker":n=`${te(Object(r.m)())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.SDK_VERSION}/${s}`}class de{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pe(this),this.idTokenSubscription=new pe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=T(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ee.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(_(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await K(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(r.l)(e):null;return t&&_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(T(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.b("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&T(e)||this._popupRedirectResolver;_(t,this,"argument-error"),this.redirectPersistenceManager=await ee.create(this,[T(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return _(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function fe(e){return Object(r.l)(e)}class pe{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(r.h)(e=>this.observer=e)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function me(e,t,n){const r=fe(e);_(r._canInitEmulator,r,"emulator-config-failed"),_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=ge(t),{host:o,port:a}=function(e){const t=ge(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ve(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ve(t)}}}(t),c=null===a?"":":"+a;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ge(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ve(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class be{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return k("not implemented")}_getIdTokenResponse(e){return k("not implemented")}_linkToIdToken(e,t){return k("not implemented")}_getReauthenticationResolver(e){return k("not implemented")}}async function ye(e,t){return P(e,"POST","/v1/accounts:resetPassword",N(e,t))}async function we(e,t){return P(e,"POST","/v1/accounts:update",t)}async function _e(e,t){return P(e,"POST","/v1/accounts:sendOobCode",N(e,t))}class ke extends be{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ke(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ke(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",N(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{email:this._email,oobCode:this._password});default:g(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return we(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:g(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ie(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",N(e,t))}class Oe extends be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Object(s.c)(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Oe(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Ie(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ie(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ie(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(r.y)(t)}return e}}const Te={USER_NOT_FOUND:"user-not-found"};class Se extends be{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Se({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Se({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await M(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw U(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Te)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Se({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ee{constructor(e){var t,n,i,s,o,a;const c=Object(r.z)(Object(r.k)(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);_(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Object(r.z)(Object(r.k)(e)).link,n=t?Object(r.z)(Object(r.k)(t)).deep_link_id:null,i=Object(r.z)(Object(r.k)(e)).deep_link_id;return(i?Object(r.z)(Object(r.k)(i)).link:null)||i||n||t||e}(e);try{return new Ee(t)}catch(e){return null}}}class Ce{constructor(){this.providerId=Ce.PROVIDER_ID}static credential(e,t){return ke._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ee.parseLink(t);return _(n,"argument-error"),ke._fromEmailAndCode(e,n.code,n.tenantId)}}Ce.PROVIDER_ID="password",Ce.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ce.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class je{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ae extends je{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xe extends Ae{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return _("providerId"in t&&"signInMethod"in t,"argument-error"),Oe._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _(e.idToken||e.accessToken,"argument-error"),Oe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return xe.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return xe.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new xe(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(e){return null}}}class Re extends Ae{constructor(){super("facebook.com")}static credential(e){return Oe._fromParams({providerId:Re.PROVIDER_ID,signInMethod:Re.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Re.credentialFromTaggedObject(e)}static credentialFromError(e){return Re.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Re.credential(e.oauthAccessToken)}catch(e){return null}}}Re.FACEBOOK_SIGN_IN_METHOD="facebook.com",Re.PROVIDER_ID="facebook.com";class De extends Ae{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oe._fromParams({providerId:De.PROVIDER_ID,signInMethod:De.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return De.credentialFromTaggedObject(e)}static credentialFromError(e){return De.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return De.credential(t,n)}catch(e){return null}}}De.GOOGLE_SIGN_IN_METHOD="google.com",De.PROVIDER_ID="google.com";class Ne extends Ae{constructor(){super("github.com")}static credential(e){return Oe._fromParams({providerId:Ne.PROVIDER_ID,signInMethod:Ne.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ne.credentialFromTaggedObject(e)}static credentialFromError(e){return Ne.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ne.credential(e.oauthAccessToken)}catch(e){return null}}}Ne.GITHUB_SIGN_IN_METHOD="github.com",Ne.PROVIDER_ID="github.com";class Pe extends be{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ie(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ie(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ie(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Pe(n,i):null}static _create(e,t){return new Pe(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Le extends je{constructor(e){_(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Le.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Le.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Pe.fromJSON(e);return _(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Pe._create(n,t)}catch(e){return null}}}class Me extends Ae{constructor(){super("twitter.com")}static credential(e,t){return Oe._fromParams({providerId:Me.PROVIDER_ID,signInMethod:Me.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Me.credentialFromTaggedObject(e)}static credentialFromError(e){return Me.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Me.credential(t,n)}catch(e){return null}}}async function Be(e,t){return M(e,"POST","/v1/accounts:signUp",N(e,t))}Me.TWITTER_SIGN_IN_METHOD="twitter.com",Me.PROVIDER_ID="twitter.com";class Fe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await X._fromIdTokenResponse(e,n,r),s=Ue(n);return new Fe({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ue(n);return new Fe({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ue(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function Ve(e){var t;const n=fe(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Fe({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Be(n,{returnSecureToken:!0}),i=await Fe._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class qe extends r.c{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,qe.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new qe(e,t,n,r)}}function He(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw qe._fromErrorAndOperation(e,n,t,r);throw n})}function ze(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function $e(e,t){const n=Object(r.l)(e);await Ke(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return P(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=ze(i||[]);return n.providerData=n.providerData.filter(e=>s.has(e.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function We(e,t,n=!1){const r=await z(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fe._forOperation(e,"link",r)}async function Ke(e,t,n){await K(t);const r=!1===e?"provider-already-linked":"no-such-provider";_(ze(t.providerData).has(n)===e,t.auth,r)}async function Ge(e,t,n=!1){const{auth:r}=e;try{const i=await z(e,He(r,"reauthenticate",t,e),n);_(i.idToken,r,"internal-error");const s=H(i.idToken);_(s,r,"internal-error");const{sub:o}=s;return _(e.uid===o,r,"user-mismatch"),Fe._forOperation(e,"reauthenticate",i)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&g(r,"user-mismatch"),e}}async function Ye(e,t,n=!1){const r=await He(e,"signIn",t),i=await Fe._fromIdTokenResponse(e,"signIn",r);return n||await e._updateCurrentUser(i.user),i}async function Xe(e,t){return Ye(fe(e),t)}async function Qe(e,t){const n=Object(r.l)(e);return await Ke(!1,n,t.providerId),We(n,t)}async function Je(e,t){return Ge(Object(r.l)(e),t)}async function Ze(e,t){const n=fe(e),r=await async function(e,t){return M(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Fe._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class et{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tt._fromServerResponse(e,t):g(e,"internal-error")}}class tt extends et{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tt(t)}}function nt(e,t,n){var r;_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function rt(e,t,n){const i=Object(r.l)(e),s={requestType:"PASSWORD_RESET",email:t};n&&nt(i,s,n),await async function(e,t){return _e(e,t)}(i,s)}async function it(e,t,n){await ye(Object(r.l)(e),{oobCode:t,newPassword:n})}async function st(e,t){await async function(e,t){return P(e,"POST","/v1/accounts:update",N(e,t))}(Object(r.l)(e),{oobCode:t})}async function ot(e,t){const n=Object(r.l)(e),i=await ye(n,{oobCode:t}),s=i.requestType;switch(_(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_(i.mfaInfo,n,"internal-error");default:_(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=et._fromServerResponse(fe(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function at(e,t){const{data:n}=await ot(Object(r.l)(e),t);return n.email}async function ct(e,t,n){const r=fe(e),i=await Be(r,{returnSecureToken:!0,email:t,password:n}),s=await Fe._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function ut(e,t,n){return Xe(Object(r.l)(e),Ce.credential(t,n))}async function lt(e,t,n){const i=Object(r.l)(e),s={requestType:"EMAIL_SIGNIN",email:t};_(n.handleCodeInApp,i,"argument-error"),n&&nt(i,s,n),await async function(e,t){return _e(e,t)}(i,s)}function ht(e,t){const n=Ee.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}async function dt(e,t,n){const i=Object(r.l)(e),s=Ce.credentialWithLink(t,n||S());return _(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Xe(i,s)}async function ft(e,t){const n={identifier:t,continueUri:E()?S():"http://localhost"},{signinMethods:i}=await async function(e,t){return P(e,"POST","/v1/accounts:createAuthUri",N(e,t))}(Object(r.l)(e),n);return i||[]}async function pt(e,t){const n=Object(r.l)(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&nt(n.auth,i,t);const{email:s}=await async function(e,t){return _e(e,t)}(n.auth,i);s!==e.email&&await e.reload()}async function mt(e,t,n){const i=Object(r.l)(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&nt(i.auth,s,n);const{email:o}=await async function(e,t){return _e(e,t)}(i.auth,s);o!==e.email&&await e.reload()}async function gt(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=Object(r.l)(e),s={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await z(i,async function(e,t){return P(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function vt(e,t){return yt(Object(r.l)(e),t,null)}function bt(e,t){return yt(Object(r.l)(e),null,t)}async function yt(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await z(e,we(r,i));await e._updateTokensIfNecessary(s,!0)}class wt{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class _t extends wt{constructor(e,t,n,r){super(e,t,n),this.username=r}}class kt extends wt{constructor(e,t){super(e,"facebook.com",t)}}class It extends _t{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Ot extends wt{constructor(e,t){super(e,"google.com",t)}}class Tt extends _t{constructor(e,t,n){super(e,"twitter.com",t,n)}}function St(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=H(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r){return new wt(s,"anonymous"!==r&&"custom"!==r?r:null)}}if(!r)return null;switch(r){case"facebook.com":return new kt(s,i);case"github.com":return new It(s,i);case"google.com":return new Ot(s,i);case"twitter.com":return new Tt(s,i,e.screenName||null);case"custom":case"anonymous":return new wt(s,null);default:return new wt(s,r,i)}}(n)}class Et{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Et("enroll",e)}static _fromMfaPendingCredential(e){return new Et("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Et._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Et._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ct{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=fe(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>et._fromServerResponse(n,e));_(r.mfaPendingCredential,n,"internal-error");const s=Et._fromMfaPendingCredential(r.mfaPendingCredential);return new Ct(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Fe._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return _(t.user,n,"internal-error"),Fe._forOperation(t.user,t.operationType,o);default:g(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function jt(e,t){var n;const i=Object(r.l)(e),s=t;return _(t.customData.operationType,i,"argument-error"),_(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Ct._fromError(i,s)}class At{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>et._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new At(e)}async getSession(){return Et._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await z(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await z(this.user,(i=this.user.auth,s={idToken:n,mfaEnrollmentId:t},P(i,"POST","/v2/accounts/mfaEnrollment:withdraw",N(i,s))));var i,s;this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const xt=new WeakMap;function Rt(e){const t=Object(r.l)(e);return xt.has(t)||xt.set(t,At._fromUser(t)),xt.get(t)}class Dt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Nt extends Dt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(r.m)();return re(e)||ue(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=le(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Object(r.r)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nt.type="LOCAL";const Pt=Nt;class Lt extends Dt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lt.type="SESSION";const Mt=Lt;class Bt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Bt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ft(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Bt.receivers=[];class Ut{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const c=Ft("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Vt(){return window}function qt(){return void 0!==Vt().WorkerGlobalScope&&"function"==typeof Vt().importScripts}const Ht="firebaseLocalStorageDb";class zt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $t(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function Wt(){const e=indexedDB.open(Ht,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains("firebaseLocalStorage")?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ht);return new zt(e).toPromise()}(),t(await Wt()))})})}async function Kt(e,t,n){const r=$t(e,!0).put({fbase_key:t,value:n});return new zt(r).toPromise()}function Gt(e,t){const n=$t(e,!0).delete(t);return new zt(n).toPromise()}class Yt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Wt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bt._getInstance(qt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ut(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wt();return await Kt(e,"__sak","1"),await Gt(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=$t(e,!1).get(t),r=await new zt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=$t(e,!1).getAll();return new zt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Yt.type="LOCAL";const Xt=Yt;function Qt(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=v("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Jt(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Zt{constructor(e){this.auth=e,this.counter=1e12,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new en(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||1e12;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||1e12;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||1e12;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class en{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;_(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tn=Jt("rcb"),nn=new j(3e4,6e4);class rn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vt().grecaptcha}load(e,t=""){return _(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Vt().grecaptcha):new Promise((n,i)=>{const s=Vt().setTimeout(()=>{i(v(e,"network-request-failed"))},nn.get());Vt()[tn]=()=>{Vt().clearTimeout(s),delete Vt()[tn];const r=Vt().grecaptcha;if(!r)return void i(v(e,"internal-error"));const o=r.render;r.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(r)};Qt("https://www.google.com/recaptcha/api.js??"+Object(r.y)({onload:tn,render:"explicit",hl:t})).catch(()=>{clearTimeout(s),i(v(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Vt().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sn{async load(e){return new Zt(e)}clearedOneInstance(){}}const on={theme:"light",type:"image"};class an{constructor(e,t=Object.assign({},on),n){this.parameters=t,this.type="recaptcha",this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fe(n),this.isInvisible="invisible"===this.parameters.size,_("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;_(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sn:new rn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_(!this.parameters.sitekey,this.auth,"argument-error"),_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Vt()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){_(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){_(E()&&!qt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await P(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);_(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return _(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Se._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function un(e,t,n){const i=fe(e),s=await dn(i,t,Object(r.l)(n));return new cn(s,e=>Xe(i,e))}async function ln(e,t,n){const i=Object(r.l)(e);await Ke(!1,i,"phone");const s=await dn(i.auth,t,Object(r.l)(n));return new cn(s,e=>Qe(i,e))}async function hn(e,t,n){const i=Object(r.l)(e),s=await dn(i.auth,t,Object(r.l)(n));return new cn(s,e=>Je(i,e))}async function dn(e,t,n){var r;const i=await n.verify();try{let s;if(_("string"==typeof i,e,"argument-error"),_("recaptcha"===n.type,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){_("enroll"===t.type,e,"internal-error");return(await function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo}{_("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;_(n,e,"missing-multi-factor-info");return(await function(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return P(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function fn(e,t){await We(Object(r.l)(e),t)}class pn{constructor(e){this.providerId=pn.PROVIDER_ID,this.auth=fe(e)}verifyPhoneNumber(e,t){return dn(this.auth,e,Object(r.l)(t))}static credential(e,t){return Se._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pn.credentialFromTaggedObject(t)}static credentialFromError(e){return pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Se._fromTokenResponse(t,n):null}}function mn(e,t){return t?T(t):(_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pn.PROVIDER_ID="phone",pn.PHONE_SIGN_IN_METHOD="phone";class gn extends be{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ie(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ie(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ie(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vn(e){return Ye(e.auth,new gn(e),e.bypassAuthState)}function bn(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),Ge(n,new gn(e),e.bypassAuthState)}async function yn(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),We(n,new gn(e),e.bypassAuthState)}class wn{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vn;case"linkViaPopup":case"linkViaRedirect":return yn;case"reauthViaPopup":case"reauthViaRedirect":return bn;default:g(this.auth,"internal-error")}}resolve(e){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _n=new j(2e3,1e4);async function kn(e,t,n){const r=fe(e);y(e,t,je);const i=mn(r,n);return new Tn(r,"signInViaPopup",t,i).executeNotNull()}async function In(e,t,n){const i=Object(r.l)(e);y(i.auth,t,je);const s=mn(i.auth,n);return new Tn(i.auth,"reauthViaPopup",t,s,i).executeNotNull()}async function On(e,t,n){const i=Object(r.l)(e);y(i.auth,t,je);const s=mn(i.auth,n);return new Tn(i.auth,"linkViaPopup",t,s,i).executeNotNull()}class Tn extends wn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Tn.currentPopupAction&&Tn.currentPopupAction.cancel(),Tn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _(e,this.auth,"internal-error"),e}async onExecution(){I(1===this.filter.length,"Popup operations only handle one event");const e=Ft();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(v(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(v(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(v(this.auth,"popup-closed-by-user"))},2e3):this.pollId=window.setTimeout(e,_n.get())};e()}}Tn.currentPopupAction=null;const Sn=new Map;class En extends wn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Sn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=An(t),r=jn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Sn.set(this.auth._key(),e)}return this.bypassAuthState||Sn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Cn(e,t){return jn(e)._set(An(t),"true")}function jn(e){return T(e._redirectPersistence)}function An(e){return Z("pendingRedirect",e.config.apiKey,e.name)}function xn(e,t,n){return async function(e,t,n){const r=fe(e);y(e,t,je);const i=mn(r,n);return await Cn(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Rn(e,t,n){return async function(e,t,n){const i=Object(r.l)(e);y(i.auth,t,je);const s=mn(i.auth,n);await Cn(s,i.auth);const o=await Ln(i);return s._openRedirect(i.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Dn(e,t,n){return async function(e,t,n){const i=Object(r.l)(e);y(i.auth,t,je);const s=mn(i.auth,n);await Ke(!1,i,t.providerId),await Cn(s,i.auth);const o=await Ln(i);return s._openRedirect(i.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Nn(e,t){return await fe(e)._initializationPromise,Pn(e,t,!1)}async function Pn(e,t,n=!1){const r=fe(e),i=mn(r,t),s=new En(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Ln(e){const t=Ft(e.uid+":::");return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Mn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Fn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(v(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bn(e))}saveEventToCache(e){this.cachedEventUids.add(Bn(e)),this.lastProcessedEventTime=Date.now()}}function Bn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Fn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Un(e,t={}){return P(e,"GET","/v1/projects",t)}const Vn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qn=/^https?/;function Hn(e){const t=S(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qn.test(n))return!1;if(Vn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zn=new j(3e4,6e4);function $n(){const e=Vt().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Wn=null;function Kn(e){return Wn=Wn||function(e){return new Promise((t,n)=>{var r,i,s;function o(){$n(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$n(),n(v(e,"network-request-failed"))},timeout:zn.get()})}if(null===(i=null===(r=Vt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Vt().gapi)||void 0===s?void 0:s.load)){const t=Jt("iframefcb");return Vt()[t]=()=>{gapi.load?o():n(v(e,"network-request-failed"))},Qt("https://apis.google.com/js/api.js?onload="+t).catch(e=>n(e))}o()}}).catch(e=>{throw Wn=null,e})}(e),Wn}const Gn=new j(5e3,15e3),Yn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qn(e){const t=e.config;_(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:i.SDK_VERSION},o=Xn.get(e.config.apiHost);o&&(s.eid=o);const a=e._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${Object(r.y)(s).slice(1)}`}const Jn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function er(e,t,n,i=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Jn),{width:i.toString(),height:s.toString(),top:o,left:a}),l=Object(r.m)().toLowerCase();n&&(c=ie(l)?"_blank":n),ne(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Object(r.m)()){var t;return ue(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new Zn(null);const d=window.open(t||"",c,h);_(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Zn(d)}function tr(e,t,n,s,o,a){_(e.config.authDomain,e,"auth-domain-config-required"),_(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:i.SDK_VERSION,eventId:o};if(t instanceof je){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",Object(r.q)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Ae){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const u=c;for(const e of Object.keys(u))void 0===u[e]&&delete u[e];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/__/auth/handler`;return A(e,"emulator/auth/handler")}(e)}?${Object(r.y)(u).slice(1)}`}const nr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mt,this._completeRedirectFn=Pn}async _openPopup(e,t,n,r){var i;I(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return er(e,tr(e,t,n,S(),r),Ft())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=tr(e,t,n,S(),r),Vt().location.href=i,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(I(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Kn(e),n=Vt().gapi;return _(n,e,"internal-error"),t.open({where:document.body,url:Qn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=v(e,"network-request-failed"),s=Vt().setTimeout(()=>{r(i)},Gn.get());function o(){Vt().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Mn(e);return t.register("authEvent",t=>{_(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),g(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Un(e);for(const e of t)try{if(Hn(e))return}catch(e){}g(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return le()||re()||ue()}};class rr extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return k("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rr(e)}_finalizeEnroll(e,t,n){return function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ir{constructor(){}static assertion(e){return rr._fromCredential(e)}}ir.FACTOR_ID="phone";var sr;class or{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ar(){return window}sr="Browser",Object(i._registerComponent)(new a.a("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{_(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),_(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:sr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(sr)},s=new de(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(T);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Object(i._registerComponent)(new a.a("auth-internal",e=>(e=>new or(e))(fe(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(i.registerVersion)("@firebase/auth","0.19.4",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(sr)),Object(i.registerVersion)("@firebase/auth","0.19.4","esm2017");async function cr(e,t,n){var r;const{BuildInfo:i}=ar();I(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(I(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),o={};return ue()?o.ibi=i.packageName:oe()?o.apn=i.packageName:g(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,tr(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function ur(e){const{cordova:t}=ar();return new Promise(n=>{t.plugins.browsertab.isAvailable(i=>{let s=null;i?t.plugins.browsertab.openUrl(e):s=t.InAppBrowser.open(e,function(e=Object(r.m)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(s)})})}class lr extends Mn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function hr(e){const t=await pr()._get(mr(e));return t&&await pr()._remove(mr(e)),t}function dr(e,t){var n,r;const i=function(e){const t=gr(e),n=t.link?decodeURIComponent(t.link):void 0,r=gr(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return gr(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=gr(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?v(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function fr(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function pr(){return T(Pt)}function mr(e){return Z("authEvent",e.config.apiKey,e.name)}function gr(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Object(r.z)(n.join("?"))}const vr=class{constructor(){this._redirectPersistence=Mt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pn}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new lr(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){g(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,c,u,l;const h=ar();_("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_("function"==typeof(null===(l=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Sn.clear(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:fr(),postBody:null,tenantId:e.tenantId,error:v(e,"no-auth-event")}}(e,n,r);await function(e,t){return pr()._set(mr(e),t)}(e,s);const o=await cr(e,s,t);return async function(e,t,n){const{cordova:r}=ar();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(v(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),oe()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}}(e,i,await ur(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=ar(),n={};ue()?n.iosBundleId=t.packageName:oe()?n.androidPackageName=t.packageName:g(e,"operation-not-supported-in-this-environment"),await Un(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=ar(),s=setTimeout(async()=>{await hr(e),t.onEvent(br())},500),o=async n=>{clearTimeout(s);const r=await hr(e);let i=null;r&&(null==n?void 0:n.url)&&(i=dr(r,n.url)),t.onEvent(i||br())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,c=i.packageName.toLowerCase()+"://";ar().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}};function br(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:v("no-auth-event")}}function yr(e,t){fe(e)._logFramework(t)}},H9WU:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return R})),n.d(t,"l",(function(){return L})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return E})),n.d(t,"r",(function(){return v})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return h})),n.d(t,"u",(function(){return d})),n.d(t,"v",(function(){return m})),n.d(t,"w",(function(){return y})),n.d(t,"x",(function(){return b})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return x})),n.d(t,"A",(function(){return _}));const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,u=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw Error();const c=i<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function d(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return l().indexOf("Electron/")>=0}function v(){const e=l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function b(){return l().indexOf("MSAppHost/")>=0}function y(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w(){return"object"==typeof indexedDB}function _(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function k(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class I extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(T,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new I(r,o,n)}}const T=/\{\$([^}]+)}/g;function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function C(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(j(n)&&j(s)){if(!C(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function j(e){return null!==e&&"object"==typeof e}function A(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function x(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function R(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new N(e,t);return n.subscribe.bind(n)}class N{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P(){}function L(e){return e&&e._delegate?e._delegate:e}}).call(this,n("yLpj"))},HlkT:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".dropdown-cart .media .media-aside[data-v-95ea3420] {\n  align-items: center;\n}",""]),e.exports=t},IuUc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("H9WU");class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,"[DEFAULT]"===r?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},J1fW:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/flags/de.png"},Jf6p:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"ul[data-v-ddee06e4] {\n  list-style: none;\n}[dir] ul[data-v-ddee06e4] {\n  padding: 0;\n  margin: 0;\n}\n[dir] p[data-v-ddee06e4] {\n  margin: 0;\n}\n.suggestion-group-title[data-v-ddee06e4] {\n  font-weight: 500;\n}\n[dir] .suggestion-group-title[data-v-ddee06e4] {\n  padding: 0.75rem 1rem 0.25rem;\n}\n[dir] .suggestion-group-suggestion[data-v-ddee06e4] {\n  padding: 0.75rem 1rem;\n}\n[dir] .suggestion-current-selected[data-v-ddee06e4] {\n  background-color: #f8f8f8;\n}\n[dir] .dark-layout .suggestion-current-selected[data-v-ddee06e4] {\n  background-color: #161d31;\n}",""]),e.exports=t},L5yU:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/flags/fr.png"},L72W:function(e,t,n){"use strict";var r=n("x+uP"),i=n("HaE+"),s=n("rePB"),o=(n("07d7"),n("yq1k"),n("qlm0")),a=n("BCuY"),c=n("7eWi"),u=n("nqqA"),l=n("9HyH"),h=n("6KOa"),d=n("7Ql6"),f=n("7hmi"),p=n("0AAM"),m=n("wT24"),g=n("9NeD"),v=(n("FLC1"),n("ANFy")),b=(n("sMBO"),n("TeQF"),n("LvDl"),n("fx5J"),n("tvh2")),y=(n("SYAB"),n("6Ytq")),w=n("NLYf"),_=n("GUe+"),k=n("w+YJ"),I=n("mwM1"),O=n("AeMN"),T=n("nWMH"),S=n.n(T),E=n("4AkS"),C=(n("+TAz"),new(n("1z+X").a),{name:"SessionDropdown",components:{BNavItemDropdown:c.a,BBadge:y.a,BMedia:w.a,BLink:o.a,BAvatar:h.a,VuePerfectScrollbar:S.a,BButton:_.a,BFormCheckbox:k.a,BOverlay:I.a,BSpinner:O.a},directives:{Ripple:E.a},created:function(){},mounted:function(){},methods:{swithRole:function(e){console.log("swithRole",e),b.a.commit("auth/SET_PERMISSIONS",e.permissions),b.a.commit("auth/SET_ROLE_NAME",e.name),b.a.commit("auth/SET_ROLE_ID",e.id)}},setup:function(){var e=Object(d.ref)(!1),t=Object(d.ref)([]),n=Object(d.computed)((function(){var e=b.a.getters["auth/getRoleId"];return b.a.getters["auth/getUser"].roles.filter((function(t){return t.id!=e}))}));return Object(d.onMounted)(Object(i.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),{loading:e,userRoles:t,getRoles:n,perfectScrollbarSettings:{maxScrollbarLength:60,wheelPropagation:!1}}}}),j=n("KHd+"),A=Object(j.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav-item-dropdown",{staticClass:"dropdown-notification mr-25",attrs:{"menu-class":"dropdown-menu-media",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e.getRoles.length&&null!=e.getRoles&&e.getRoles.length>0?n("feather-icon",{staticClass:"text-body",attrs:{badge:e.getRoles.length||0,"badge-classes":"bg-primary",icon:"RepeatIcon",size:"21"}}):e._e()]},proxy:!0}])},[e._v(" "),n("li",{staticClass:"dropdown-menu-header"},[n("div",{staticClass:"dropdown-header d-flex"},[n("h5",{staticClass:"notification-title mb-0 mr-auto"},[e._v(e._s(e.$t("user_roles")))]),e._v(" "),n("b-badge",{attrs:{pill:"",variant:"light-primary"}},[e._v(" "+e._s(e.getRoles.length)+" ")])],1)]),e._v(" "),n("vue-perfect-scrollbar",{staticClass:"scrollable-container media-list scroll-area",attrs:{settings:e.perfectScrollbarSettings,tagname:"li"}},[n("b-overlay",{attrs:{show:e.loading,blur:"2px",variant:"transparent",rounded:"lg",opacity:"0.85"},scopedSlots:e._u([{key:"overlay",fn:function(){return[n("div",{staticClass:"d-flex align-items-center"},[n("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}}),e._v(" "),n("b-spinner",{attrs:{type:"grow",variant:"dark"}}),e._v(" "),n("b-spinner",{attrs:{small:"",type:"grow",variant:"secondary"}})],1)]},proxy:!0}])},[e._v(" "),e._l(e.getRoles,(function(t,r){return n("b-link",{key:r+t.id,on:{click:function(n){return e.swithRole(t)}}},[n("b-media",{scopedSlots:e._u([{key:"aside",fn:function(){return[n("b-avatar",{attrs:{size:"32",variant:"light-primary"}},[n("feather-icon",{attrs:{icon:"LogInIcon"}})],1)]},proxy:!0}],null,!0)},[e._v(" "),n("p",{staticClass:"media-heading"},[n("span",{staticClass:"font-weight-bolder"},[e._v("\n                           Ingresar como "+e._s(e.$t("role_"+t.name))+"\n                        ")])])])],1)}))],2)],1)],1)}),[],!1,null,null,null).exports,x=(n("bfXO"),n("gkxd")),R=(new(n("/AHW").a),{components:Object(s.a)({BLink:o.a,BNavbarNav:a.a,BNavItemDropdown:c.a,BDropdownItem:u.a,BDropdownDivider:l.a,BAvatar:h.a,DarkToggler:f.a,Bookmarks:p.a,Locale:m.a,NotificationDropdown:v.a,SessionDropdown:A,SearchBar:g.a},"SessionDropdown",A),props:{toggleVerticalMenuActive:{type:Function,default:function(){}}},setup:function(){var e=Object(d.ref)({}),t=(Object(d.ref)(!1),Object(d.computed)((function(){return b.a.getters["auth/getUser"]}))),n=Object(d.ref)(Object(x.a)()),s=b.a.getters["auth/getRoleId"];Object(d.onMounted)(Object(i.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));var o=Object(d.computed)((function(){return b.a.getters["auth/getRole"]}));return{user:t,roleId:s,tenant:e,isCentral:n,isAccess:Object(d.computed)((function(){var e=b.a.getters["auth/getUser"].roles||[],t=[1,2];return e.some((function(e){return t.includes(e.id)}))})),roleName:o,logout:function(){b.a.dispatch("auth/LOGOUT").then((function(){}))}}}}),D=Object(j.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-container d-flex content align-items-center"},[n("ul",{staticClass:"nav navbar-nav d-xl-none"},[n("li",{staticClass:"nav-item"},[n("b-link",{staticClass:"nav-link",on:{click:e.toggleVerticalMenuActive}},[n("feather-icon",{attrs:{icon:"MenuIcon",size:"21"}})],1)],1)]),e._v(" "),n("div",{staticClass:"bookmark-wrapper align-items-center flex-grow-1 d-none d-lg-flex"},[n("dark-Toggler",{staticClass:"d-none d-lg-block"}),e._v(" "),n("bookmarks")],1),e._v(" "),e.user?n("b-navbar-nav",{staticClass:"nav align-items-center ml-auto"},[n("search-bar"),e._v(" "),n("notification-dropdown"),e._v(" "),n("b-nav-item-dropdown",{staticClass:"dropdown-user",attrs:{right:"","toggle-class":"d-flex align-items-center dropdown-user-link"},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("div",{staticClass:"d-sm-flex d-none user-nav"},[n("p",{staticClass:"user-name font-weight-bolder mb-0"},[e._v("\n            "+e._s(e.user.name)+"\n          ")]),e._v(" "),n("span",{staticClass:"user-status"},[e._v(e._s(e.roleName))])]),e._v(" "),n("b-avatar",{staticClass:"badge-minimal",attrs:{size:"40",variant:"light-primary",badge:"",src:e.user.has_media?e.user.avatar:null,"badge-variant":"success",text:e.avatarText(e.user.name)}})]},proxy:!0}],null,!1,392812407)},[e._v(" "),e.canAccess("users.profile")?n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center",to:{name:"profile"}}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"UserIcon"}}),e._v(" "),n("span",[e._v(e._s(e.$t("profile")))])],1):e._e(),e._v(" "),e.isAccess?n("b-dropdown-item",{attrs:{disabled:!e.checkIsTenant(),"link-class":"d-flex align-items-center",to:{name:"subscription"}}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"CreditCardIcon"}}),e._v(" "),n("span",[e._v(e._s(e.$t("subscriptions.menu")))])],1):e._e(),e._v(" "),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:e.logout}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"LogOutIcon"}}),e._v(" "),n("span",[e._v(e._s(e.$t("logout")))])],1)],1)],1):e._e()],1)}),[],!1,null,null,null);t.a=D.exports},LELO:function(e,t,n){"use strict";t.a=[{title:"Dashboard",route:"home",icon:"HomeIcon",permission:"dashboards.index"},{title:"appointments.menu",route:"appointments",icon:"CalendarIcon",permission:"appointments.index"},{header:"settings",permission:"settings.index"},{title:"setting",icon:"SettingsIcon",permission:"settings.index",children:[{title:"general",icon:"SettingsIcon",route:"settings",permission:"settings.index"},{title:"faqs.menu",icon:"HelpCircleIcon",route:"setting-faqs",permission:"faqs.index"},{title:"importer",icon:"UploadCloudIcon",route:"settings-imports",permission:"imports.index"},{title:"users",icon:"UsersIcon",route:"settings-users",permission:"users.index"},{title:"permissions.menu",icon:"UnlockIcon",route:"permissions",permission:"permissions.index"},{title:"branch_offices.menu",icon:"GitBranchIcon",route:"settings-branch-offices",permission:"branch-offices.index"}]},{header:"applications",permission:"dashboards.index"},{title:"plans.title",icon:"ServerIcon",route:"plans",permission:"plans.index"},{title:"tenants.title",icon:"DatabaseIcon",route:"tenants",permission:"tenants.index"},{title:"catalog_actions",icon:"ActivityIcon",permission:"catalog.action",children:[{title:"clinical_actions.title",route:"actions-list",permission:"actions.index"},{title:"laboratory_actions.menu",route:"laboratory-actions",permission:"laboratory_actions.index"}]},{title:"laboratories.plural",icon:"TriangleIcon",permission:"laboratories.index",children:[{title:"laboratories.laboratories",route:"apps-laboratory-list",permission:"laboratories.index"},{title:"work_orders.menu",route:"apps-work-orders-list",permission:"orders.index"}]},{title:"inventories.menu",icon:"ArchiveIcon",permission:"inventories.active",children:[{title:"inventories.brands.title_menu",route:"apps-inventories-brands",permission:"inventories.brands.index"},{title:"inventories.units.title_menu",route:"apps-inventories-units",permission:"inventories.units.index"},{title:"inventories.categories.title_menu",route:"apps-inventories-categories",permission:"inventories.categories.index"},{title:"inventories.subcategories.title_menu",route:"apps-inventories-subcategories",permission:"inventories.subcategories.index"},{title:"inventories.warehouses.title_menu",route:"apps-inventories-warehouses",permission:"inventories.warehouses.index"},{title:"inventories.suppliers.title_menu",route:"apps-inventories-suppliers",permission:"inventories.suppliers.index"},{title:"inventories.medicines.title_menu",route:"apps-inventories-medicines",permission:"inventories.medicines.index"},{title:"inventories.purchases.title_menu",route:"apps-inventories-purchases",permission:"inventories.purchases.index"},{title:"inventories.adjustments.title_menu",route:"apps-inventories-adjustments",permission:"inventories.adjustments.index"},{title:"inventories.transfers.title_menu",route:"apps-inventories-transfers",permission:"inventories.transfers.index"}]},{title:"patients.menu",route:"apps-patients-list",icon:"HeartIcon",permission:"patients.index"},{title:"budgets.menu",route:"apps-budgets-list",icon:"ClipboardIcon",permission:"budgets.index"},{title:"incomes.menu",icon:"TrendingUpIcon",permission:"payments.index",children:[{title:"payments.menu",route:"apps-payments-list",icon:"DollarSignIcon",permission:"payments.index"},{title:"checks.menu",route:"apps-checks-list",icon:"CheckCircleIcon",permission:"checks.index"},{title:"cash_registers.menu",route:"apps-cash-register-list",icon:"BoxIcon",permission:"cash_registers.index"}]},{title:"expenses.menu",icon:"TrendingDownIcon",permission:"expenses.index",children:[{title:"inventories.categories.title_menu",route:"apps-expense-categories",icon:"GitBranchIcon",permission:"expenses.index"},{title:"expenses.menu",route:"apps-expenses-list",icon:"TrendingDownIcon",permission:"expenses.index"}]},{header:"reports.header.menu",permission:"reports.index"},{title:"reports.menu",route:"reports",icon:"BarChartIcon",permission:"reports.index"}]},NLYf:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("m3aq"),c=n("Nlw7"),u=n("z3V6"),l=n("fDK0"),h=n("f6Y5"),d=Object(u.d)({noBody:Object(u.c)(o.g,!1),rightAlign:Object(u.c)(o.g,!1),tag:Object(u.c)(o.u,"div"),verticalAlign:Object(u.c)(o.u,"top")},s.db),f=Object(r.c)({name:s.db,functional:!0,props:d,render:function(e,t){var n=t.props,r=t.data,s=t.slots,o=t.scopedSlots,u=t.children,d=n.noBody,f=n.rightAlign,p=n.verticalAlign,m=d?u:[];if(!d){var g={},v=s(),b=o||{};m.push(e(h.a,Object(c.b)(a.i,g,b,v)));var y=Object(c.b)(a.c,g,b,v);y&&m[f?"push":"unshift"](e(l.a,{props:{right:f,verticalAlign:p}},y))}return e(n.tag,Object(i.a)(r,{staticClass:"media"}),m)}})},NXXv:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"ul[data-v-e755d08a] {\n  list-style: none;\n}[dir] ul[data-v-e755d08a] {\n  padding: 0;\n  margin: 0;\n}\n[dir] p[data-v-e755d08a] {\n  margin: 0;\n}\n.nav-bookmar-content-overlay[data-v-e755d08a] {\n  position: fixed;\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  transition: all 0.7s;\n  z-index: -1;\n}\n[dir] .nav-bookmar-content-overlay[data-v-e755d08a] {\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-transition: all 0.7s;\n}\n[dir=ltr] .nav-bookmar-content-overlay[data-v-e755d08a] {\n  left: 0;\n  right: 0;\n}\n[dir=rtl] .nav-bookmar-content-overlay[data-v-e755d08a] {\n  right: 0;\n  left: 0;\n}\n.nav-bookmar-content-overlay[data-v-e755d08a]:not(.show) {\n  pointer-events: none;\n}\n.nav-bookmar-content-overlay.show[data-v-e755d08a] {\n  z-index: 10;\n  opacity: 1;\n}\n[dir] .nav-bookmar-content-overlay.show[data-v-e755d08a] {\n  cursor: pointer;\n}",""]),e.exports=t},Nvuo:function(e,t,n){"use strict";n("DOhS")},O5lY:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,i=n("L3ns"),s=n("xjcK"),o=n("pyNs"),a=n("2C+6"),c=n("z3V6"),u=n("8y4F");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=Object(c.d)(Object(a.m)(h(h({},u.c),{},(d(r={},u.a,Object(c.c)(o.b,[])),d(r,"switches",Object(c.c)(o.g,!1)),r))),s.D),p=Object(i.c)({name:s.D,mixins:[u.b],provide:function(){var e=this;return{getBvCheckGroup:function(){return e}}},props:f,computed:{isRadioGroup:function(){return!1}}})},RVqs:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/icons/pdf.png"},RXR3:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/icons/xls.png"},RxEo:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("2C+6"),c=n("z3V6"),u=n("qlm0");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=Object(a.j)(u.b,["event","routerTag"]),p=Object(c.d)(Object(a.m)(h(h({},f),{},{linkAttrs:Object(c.c)(o.q,{}),linkClasses:Object(c.c)(o.e)})),s.mb),m=Object(r.c)({name:s.mb,functional:!0,props:p,render:function(e,t){var n=t.props,r=t.data,s=t.listeners,o=t.children;return e("li",Object(i.a)(Object(a.j)(r,["on"]),{staticClass:"nav-item"}),[e(u.a,{staticClass:"nav-link",class:n.linkClasses,attrs:n.linkAttrs,props:Object(c.e)(f,n),on:s},o)])}})},RxWR:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/icons/jpg.png"},SEBh:function(e,t,n){var r=n("glrk"),i=n("UIe5"),s=n("cjT7"),o=n("tiKp")("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||s(n=r(a)[o])?t:i(n)}},SYAB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return rr}));var r=n("fe34");r.a.registerVersion("firebase","9.6.1","app-compat");n("WZSj");var i=n("CCl1"),s=n("H9WU"),o=n("IuUc");function a(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new i.g("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function c(){if("undefined"==typeof Uint8Array)throw new i.g("unimplemented","Uint8Arrays are not available in this environment.")}function u(){if(!Object(i.r)())throw new i.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}class l{constructor(e){this._delegate=e}static fromBase64String(e){return u(),new l(i.b.fromBase64String(e))}static fromUint8Array(e){return c(),new l(i.b.fromUint8Array(e))}toBase64(){return u(),this._delegate.toBase64()}toUint8Array(){return c(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function h(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(e,["next","error","complete"])}class d{enableIndexedDbPersistence(e,t){return Object(i.F)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Object(i.G)(e._delegate)}clearIndexedDbPersistence(e){return Object(i.x)(e._delegate)}}class f{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof i.m||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Object(i.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){Object(i.A)(this._delegate,e,t,n)}enableNetwork(){return Object(i.H)(this._delegate)}disableNetwork(){return Object(i.D)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(i.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Object(i.lb)(this._delegate)}onSnapshotsInSync(e){return Object(i.Y)(this._delegate,e)}get app(){if(!this._appCompat)throw new i.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new E(this,Object(i.y)(this._delegate,e))}catch(e){throw y(e,"collection()","Firestore.collection()")}}doc(e){try{return new b(this,Object(i.E)(this._delegate,e))}catch(e){throw y(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new O(this,Object(i.z)(this._delegate,e))}catch(e){throw y(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Object(i.db)(this._delegate,t=>e(new m(this,t)))}batch(){return Object(i.K)(this._delegate),new g(new i.l(this._delegate,e=>Object(i.L)(this._delegate,e)))}loadBundle(e){return Object(i.V)(this._delegate,e)}namedQuery(e){return Object(i.W)(this._delegate,e).then(e=>e?new O(this,e):null)}}class p extends i.a{constructor(e){super(),this.firestore=e}convertBytes(e){return new l(new i.b(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return b.forKey(t,this.firestore,null)}}class m{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new p(e)}get(e){const t=C(e);return this._delegate.get(t).then(e=>new k(this._firestore,new i.e(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=C(e);return n?(a("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=C(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=C(e);return this._delegate.delete(t),this}}class g{constructor(e){this._delegate=e}set(e,t,n){const r=C(e);return n?(a("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=C(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=C(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class v{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new i.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=v.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new v(e,new p(e),t),r.set(t,i)),i}}v.INSTANCES=new WeakMap;class b{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new p(e)}static forPath(e,t,n){if(e.length%2!=0)throw new i.g("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new b(t,new i.d(t._delegate,n,new i.n(e)))}static forKey(e,t,n){return new b(t,new i.d(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new E(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new E(this.firestore,Object(i.y)(this._delegate,e))}catch(e){throw y(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Object(s.l)(e))instanceof i.d&&Object(i.cb)(this._delegate,e)}set(e,t){t=a("DocumentReference.set",t);try{return t?Object(i.fb)(this._delegate,e,t):Object(i.fb)(this._delegate,e)}catch(e){throw y(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Object(i.kb)(this._delegate,e):Object(i.kb)(this._delegate,e,t,...n)}catch(e){throw y(e,"updateDoc()","DocumentReference.update()")}}delete(){return Object(i.B)(this._delegate)}onSnapshot(...e){const t=w(e),n=_(e,e=>new k(this.firestore,new i.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Object(i.X)(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Object(i.N)(this._delegate):"server"===(null==e?void 0:e.source)?Object(i.O)(this._delegate):Object(i.M)(this._delegate),t.then(e=>new k(this.firestore,new i.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new b(this.firestore,e?this._delegate.withConverter(v.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function y(e,t,n){return e.message=e.message.replace(t,n),e}function w(e){for(const t of e)if("object"==typeof t&&!h(t))return t;return{}}function _(e,t){var n,r;let i;return i=h(e[0])?e[0]:h(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class k{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new b(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Object(i.hb)(this._delegate,e._delegate)}}class I extends k{data(e){const t=this._delegate.data(e);return Object(i.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class O{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new p(e)}where(e,t,n){try{return new O(this.firestore,Object(i.ab)(this._delegate,Object(i.mb)(e,t,n)))}catch(e){throw y(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new O(this.firestore,Object(i.ab)(this._delegate,Object(i.Z)(e,t)))}catch(e){throw y(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new O(this.firestore,Object(i.ab)(this._delegate,Object(i.T)(e)))}catch(e){throw y(e,"limit()","Query.limit()")}}limitToLast(e){try{return new O(this.firestore,Object(i.ab)(this._delegate,Object(i.U)(e)))}catch(e){throw y(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new O(this.firestore,Object(i.ab)(this._delegate,Object(i.jb)(...e)))}catch(e){throw y(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new O(this.firestore,Object(i.ab)(this._delegate,Object(i.ib)(...e)))}catch(e){throw y(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new O(this.firestore,Object(i.ab)(this._delegate,Object(i.J)(...e)))}catch(e){throw y(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new O(this.firestore,Object(i.ab)(this._delegate,Object(i.I)(...e)))}catch(e){throw y(e,"endAt()","Query.endAt()")}}isEqual(e){return Object(i.bb)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Object(i.Q)(this._delegate):"server"===(null==e?void 0:e.source)?Object(i.R)(this._delegate):Object(i.P)(this._delegate),t.then(e=>new S(this.firestore,new i.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=w(e),n=_(e,e=>new S(this.firestore,new i.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Object(i.X)(this._delegate,t,n)}withConverter(e){return new O(this.firestore,e?this._delegate.withConverter(v.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class T{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class S{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new O(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new T(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new I(this._firestore,n))})}isEqual(e){return Object(i.hb)(this._delegate,e._delegate)}}class E extends O{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new b(this.firestore,e):null}doc(e){try{return new b(this.firestore,void 0===e?Object(i.E)(this._delegate):Object(i.E)(this._delegate,e))}catch(e){throw y(e,"doc()","CollectionReference.doc()")}}add(e){return Object(i.u)(this._delegate,e).then(e=>new b(this.firestore,e))}isEqual(e){return Object(i.cb)(this._delegate,e._delegate)}withConverter(e){return new E(this.firestore,e?this._delegate.withConverter(v.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function C(e){return Object(i.p)(e,i.d)}class j{constructor(...e){this._delegate=new i.f(...e)}static documentId(){return new j(i.o.keyField().canonicalString())}isEqual(e){return(e=Object(s.l)(e))instanceof i.f&&this._delegate._internalPath.isEqual(e._internalPath)}}class A{constructor(e){this._delegate=e}static serverTimestamp(){const e=Object(i.eb)();return e._methodName="FieldValue.serverTimestamp",new A(e)}static delete(){const e=Object(i.C)();return e._methodName="FieldValue.delete",new A(e)}static arrayUnion(...e){const t=Object(i.w)(...e);return t._methodName="FieldValue.arrayUnion",new A(t)}static arrayRemove(...e){const t=Object(i.v)(...e);return t._methodName="FieldValue.arrayRemove",new A(t)}static increment(e){const t=Object(i.S)(e);return t._methodName="FieldValue.increment",new A(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const x={Firestore:f,GeoPoint:i.h,Timestamp:i.k,Blob:l,Transaction:m,WriteBatch:g,DocumentReference:b,DocumentSnapshot:k,Query:O,QueryDocumentSnapshot:I,QuerySnapshot:S,CollectionReference:E,FieldPath:j,FieldValue:A,setLogLevel:function(e){Object(i.gb)(e)},CACHE_SIZE_UNLIMITED:i.c};var R,D;R=r.a,D=(e,t)=>new f(e,t,new d),R.INTERNAL.registerComponent(new o.a("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return D(t,n)},"PUBLIC").setServiceProps(Object.assign({},x))),R.registerVersion("@firebase/firestore-compat","0.1.10");var N=n("WJvL");class P extends s.c{constructor(e,t){super(L(e),`Firebase Storage: ${t} (${L(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,P.prototype)}_codeEquals(e){return L(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function L(e){return"storage/"+e}function M(){return new P("unknown","An unknown error occurred, please check the error payload for server response.")}function B(){return new P("canceled","User canceled the upload/download.")}function F(){return new P("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function U(e){return new P("invalid-argument",e)}function V(){return new P("app-deleted","The Firebase app was deleted.")}function q(e){return new P("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function H(e,t){return new P("invalid-format","String does not match format '"+e+"': "+t)}function z(e){throw new P("internal-error","Internal error: "+e)}class ${constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=$.makeFromUrl(e,t)}catch(t){return new $(e,"")}if(""===n.path)return n;throw new P("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${"firebasestorage.googleapis.com"===t?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/([A-Za-z0-9.\\-_]+)/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let t=0;t<o.length;t++){const r=o[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new $(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new P("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class W{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function K(e){return"string"==typeof e||e instanceof String}function G(e){return Y()&&e instanceof Blob}function Y(){return"undefined"!=typeof Blob}function X(e,t,n,r){if(r<t)throw U(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw U(`Invalid value for '${e}'. Expected ${n} or less.`)}function Q(e,t,n){let r=t;return null==n&&(r="https://"+t),`${n}://${r}/v0${e}`}function J(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}var Z;!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Z||(Z={}));class ee{constructor(e,t,n,r,i,s,o,a,c,u,l){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=l,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new te(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Z.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===Z.ABORT;return void e(!1,new te(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new te(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==i){const e=M();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?V():B())}else{r(new P("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new te(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let u=!1;function l(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout(()=>{i=null,e(f,c())},t)}function d(){s&&clearTimeout(s)}function f(e,...t){if(u)return void d();if(e)return d(),void l.call(null,e,...t);if(c()||o)return d(),void l.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class te{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function ne(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function re(...e){const t=ne();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Y())return new Blob(e);throw new P("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ie={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class se{constructor(e,t){this.data=e,this.contentType=t||null}}function oe(e,t){switch(e){case ie.RAW:return new se(ae(t));case ie.BASE64:case ie.BASE64URL:return new se(ce(e,t));case ie.DATA_URL:return new se(function(e){const t=new ue(e);return t.base64?ce(ie.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw H(ie.DATA_URL,"Malformed data URL.")}return ae(t)}(t.rest)}(t),new ue(t).contentType)}throw M()}function ae(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ce(e,t){switch(e){case ie.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw H(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ie.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw H(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(t){throw H(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class ue{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw H(ie.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class le{constructor(e,t){let n=0,r="";G(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(G(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new le(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new le(n,!0)}}static getBlob(...e){if(Y()){const t=e.map(e=>e instanceof le?e.data_:e);return new le(re.apply(null,t))}{const t=e.map(e=>K(e)?oe(ie.RAW,e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new le(r,!0)}}uploadData(){return this.data_}}function he(e){let t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}function de(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function fe(e,t){return t}class pe{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||fe}}let me=null;function ge(){if(me)return me;const e=[];e.push(new pe("bucket")),e.push(new pe("generation")),e.push(new pe("metageneration")),e.push(new pe("name","fullPath",!0));const t=new pe("name");t.xform=function(e,t){return function(e){return!K(e)||e.length<2?e:de(e)}(t)},e.push(t);const n=new pe("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new pe("timeCreated")),e.push(new pe("updated")),e.push(new pe("md5Hash",null,!0)),e.push(new pe("cacheControl",null,!0)),e.push(new pe("contentDisposition",null,!0)),e.push(new pe("contentEncoding",null,!0)),e.push(new pe("contentLanguage",null,!0)),e.push(new pe("contentType",null,!0)),e.push(new pe("metadata","customMetadata",!0)),me=e,me}function ve(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new $(n,r);return t._makeStorageReference(i)}})}(r,e),r}function be(e,t,n){const r=he(t);if(null===r)return null;return ve(e,r,n)}function ye(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}function we(e,t,n){const r=he(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new $(t,n));r.prefixes.push(s)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new $(t,i.name));r.items.push(n)}return r}(e,t,r)}class _e{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ke(e){if(!e)throw M()}function Ie(e,t){return function(n,r){const i=be(e,r,t);return ke(null!==i),i}}function Oe(e,t){return function(n,r){const i=be(e,r,t);return ke(null!==i),function(e,t,n,r){const i=he(t);if(null===i)return null;if(!K(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(t=>{const i=e.bucket,s=e.fullPath;return Q("/b/"+o(i)+"/o/"+o(s),n,r)+J({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function Te(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new P("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new P("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new P("quota-exceeded","Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new P("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Se(e){const t=Te(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new P("object-not-found","Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ee(e,t,n){const r=Q(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new _e(r,"GET",Ie(e,n),i);return s.errorHandler=Se(t),s}function Ce(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=Q(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new _e(o,"GET",function(e,t){return function(n,r){const i=we(e,t,r);return ke(null!==i),i}}(e,t.bucket),a);return c.urlParams=s,c.errorHandler=Te(t),c}function je(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ae(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const c=je(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ye(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=le.getBlob(u,r,l);if(null===h)throw F();const d={name:c.fullPath},f=Q(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new _e(f,"POST",Ie(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=Te(t),m}class xe{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Re(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){ke(!1)}return ke(!!n&&-1!==(t||["active"]).indexOf(n)),n}function De(e,t,n,r,i,s,o,a){const c=new xe(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new P("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const u=c.total-c.current;let l=u;i>0&&(l=Math.min(l,i));const h=c.current,d=h+l,f={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},p=r.slice(h,d);if(null===p)throw F();const m=t.maxUploadRetryTime,g=new _e(n,"POST",(function(e,n){const i=Re(e,["active","final"]),o=c.current+l,a=r.size();let u;return u="final"===i?Ie(t,s)(e,n):null,new xe(o,a,"final"===i,u)}),m);return g.headers=f,g.body=p.uploadData(),g.progressCallback=a||null,g.errorHandler=Te(e),g}const Ne={STATE_CHANGED:"state_changed"},Pe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Le(e){switch(e){case"running":case"pausing":case"canceling":return Pe.RUNNING;case"paused":return Pe.PAUSED;case"success":return Pe.SUCCESS;case"canceled":return Pe.CANCELED;case"error":default:return Pe.ERROR}}class Me{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Be(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class Fe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Z.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Z.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Z.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw z("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw z("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw z("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw z("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw z("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ue extends Fe{initXhr(){this.xhr_.responseType="text"}}function Ve(){return new Ue}class qe{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ge(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=je(t,r,i),a={name:o.fullPath},c=Q(s,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=ye(o,n),h=e.maxUploadRetryTime,d=new _e(c,"POST",(function(e){let t;Re(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){ke(!1)}return ke(K(t)),t}),h);return d.urlParams=a,d.headers=u,d.body=l,d.errorHandler=Te(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Ve,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new _e(n,"POST",(function(e){const t=Re(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){ke(!1)}n||ke(!1);const i=Number(n);return ke(!isNaN(i)),new xe(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Te(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,Ve,t,n);this._request=i,i.getPromise().then(e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new xe(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,i)=>{let s;try{s=De(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(e){return this._error=e,void this._transition("error")}const o=this._ref.storage._makeRequest(s,Ve,r,i);this._request=o,o.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=Ee(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Ve,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=Ae(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Ve,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=B(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Le(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Me(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Le(this._state)){case Pe.SUCCESS:Be(this._resolve.bind(null,this.snapshot))();break;case Pe.CANCELED:case Pe.ERROR:Be(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Le(this._state)){case Pe.RUNNING:case Pe.PAUSED:e.next&&Be(e.next.bind(e,this.snapshot))();break;case Pe.SUCCESS:e.complete&&Be(e.complete.bind(e))();break;case Pe.CANCELED:case Pe.ERROR:e.error&&Be(e.error.bind(e,this._error))();break;default:e.error&&Be(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class He{constructor(e,t){this._service=e,this._location=t instanceof $?t:$.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new He(e,t)}get root(){const e=new $(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return de(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new $(this._location.bucket,e);return new He(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw q(e)}}function ze(e){const t={prefixes:[],items:[]};return async function e(t,n,r){const i={pageToken:r},s=await $e(t,i);n.prefixes.push(...s.prefixes),n.items.push(...s.items),null!=s.nextPageToken&&await e(t,n,s.nextPageToken)}(e,t).then(()=>t)}function $e(e,t){null!=t&&"number"==typeof t.maxResults&&X("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Ce(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Ve)}function We(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=Q(t.fullServerUrl(),e.host,e._protocol),s=ye(n,r),o=e.maxOperationRetryTime,a=new _e(i,"PATCH",Ie(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=Se(t),a}(e.storage,e._location,t,ge());return e.storage.makeRequestWithTokens(n,Ve)}function Ke(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Q(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new _e(r,"GET",Oe(e,n),i);return s.errorHandler=Se(t),s}(e.storage,e._location,ge());return e.storage.makeRequestWithTokens(t,Ve).then(e=>{if(null===e)throw new P("no-download-url","The given file does not have any download URLs.");return e})}function Ge(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Q(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new _e(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Se(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Ve)}function Ye(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new $(e._location.bucket,n);return new He(e.storage,r)}function Xe(e,t){if(e instanceof Ze){const n=e;if(null==n._bucket)throw new P("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new He(n,n._bucket);return null!=t?Xe(r,t):r}return void 0!==t?Ye(e,t):e}function Qe(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ze)return new He(e,t);throw U("To use ref(service, url), the first argument must be a Storage instance.")}return Xe(e,t)}function Je(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:$.makeFromBucketSpec(n,e)}class Ze{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host="firebasestorage.googleapis.com",this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?$.makeFromBucketSpec(r,this._host):Je(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=$.makeFromBucketSpec(this._url,e):this._bucket=Je(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){X("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){X("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new He(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new W(V());{const i=function(e,t,n,r,i,s){const o=J(e.urlParams),a=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ee(a,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}function et(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new qe(e,new le(t),n)}(e=Object(s.l)(e),t,n)}function tt(e){return function(e){e._throwIfRoot("getMetadata");const t=Ee(e.storage,e._location,ge());return e.storage.makeRequestWithTokens(t,Ve)}(e=Object(s.l)(e))}function nt(e,t){return Qe(e=Object(s.l)(e),t)}function rt(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:Object(s.g)(i,e.app.options.projectId))}(e,t,n,r)}function it(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Ze(n,r,i,t,N.SDK_VERSION)}Object(N._registerComponent)(new o.a("storage",it,"PUBLIC").setMultipleInstances(!0)),Object(N.registerVersion)("@firebase/storage","0.9.0",""),Object(N.registerVersion)("@firebase/storage","0.9.0","esm2017");class st{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ot{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new st(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(t=>{if(e)return e(new st(t,this,this._ref))},t)}on(e,t,n,r){let i=void 0;return t&&(i="function"==typeof t?e=>t(new st(e,this,this._ref)):{next:t.next?e=>t.next(new st(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class at{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ct(e,this._service))}get items(){return this._delegate.items.map(e=>new ct(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ct{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Ye(e,t)}(this._delegate,e);return new ct(t,this.storage)}get root(){return new ct(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ct(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new ot(et(this._delegate,e,t),this)}putString(e,t=ie.RAW,n){this._throwIfRoot("putString");const r=oe(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ot(new qe(this._delegate,new le(r.data,!0),i),this)}listAll(){return(e=this._delegate,ze(e=Object(s.l)(e))).then(e=>new at(e,this.storage));var e}list(e){return function(e,t){return $e(e=Object(s.l)(e),t)}(this._delegate,e||void 0).then(e=>new at(e,this.storage))}getMetadata(){return tt(this._delegate)}updateMetadata(e){return function(e,t){return We(e=Object(s.l)(e),t)}(this._delegate,e)}getDownloadURL(){return e=this._delegate,Ke(e=Object(s.l)(e));var e}delete(){return this._throwIfRoot("delete"),e=this._delegate,Ge(e=Object(s.l)(e));var e}_throwIfRoot(e){if(""===this._delegate._location.path)throw q(e)}}class ut{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(lt(e))throw U("ref() expected a child path but got a URL, use refFromURL instead.");return new ct(nt(this._delegate,e),this)}refFromURL(e){if(!lt(e))throw U("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$.makeFromUrl(e,this._delegate.host)}catch(e){throw U("refFromUrl() expected a valid full URL but got an invalid one.")}return new ct(nt(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){rt(this._delegate,e,t,n)}}function lt(e){return/^[A-Za-z]+:\/\//.test(e)}function ht(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new ut(n,r)}!function(e){const t={TaskState:Pe,TaskEvent:Ne,StringFormat:ie,Storage:ut,Reference:ct};e.INTERNAL.registerComponent(new o.a("storage-compat",ht,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.8")}(r.a);var dt=n("nbvr");const ft={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pt=new s.b("installations","Installations",ft);function mt(e){return e instanceof s.c&&e.code.includes("request-failed")}function gt({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function vt(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function bt(e,t){const n=(await t.json()).error;return pt.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function yt({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function wt(e,{refreshToken:t}){const n=yt(e);return n.append("Authorization",function(e){return"FIS_v2 "+e}(t)),n}async function _t(e){const t=await e();return t.status>=500&&t.status<600?e():t}function kt(e){return new Promise(t=>{setTimeout(t,e)})}const It=/^[cdef][\w-]{21}$/;function Ot(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return It.test(t)?t:""}catch(e){return""}}function Tt(e){return`${e.appName}!${e.appId}`}const St=new Map;function Et(e,t){const n=Tt(e);Ct(n,t),function(e,t){const n=At();n&&n.postMessage({key:e,fid:t});xt()}(n,t)}function Ct(e,t){const n=St.get(e);if(n)for(const e of n)e(t)}let jt=null;function At(){return!jt&&"BroadcastChannel"in self&&(jt=new BroadcastChannel("[Firebase] FID Change"),jt.onmessage=e=>{Ct(e.data.key,e.data.fid)}),jt}function xt(){0===St.size&&jt&&(jt.close(),jt=null)}const Rt="firebase-installations-store";let Dt=null;function Nt(){return Dt||(Dt=Object(dt.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(Rt)}})),Dt}async function Pt(e,t){const n=Tt(e),r=(await Nt()).transaction(Rt,"readwrite"),i=r.objectStore(Rt),s=await i.get(n);return await i.put(t,n),await r.complete,s&&s.fid===t.fid||Et(e,t.fid),t}async function Lt(e){const t=Tt(e),n=(await Nt()).transaction(Rt,"readwrite");await n.objectStore(Rt).delete(t),await n.complete}async function Mt(e,t){const n=Tt(e),r=(await Nt()).transaction(Rt,"readwrite"),i=r.objectStore(Rt),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.complete,!o||s&&s.fid===o.fid||Et(e,o.fid),o}async function Bt(e){let t;const n=await Mt(e,n=>{const r=function(e){return Vt(e||{fid:Ot(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){const e=Promise.reject(pt.create("app-offline"));return{installationEntry:t,registrationPromise:e}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,{fid:t}){const n=gt(e),r=yt(e),i={fid:t,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.5.4"},s={method:"POST",headers:r,body:JSON.stringify(i)},o=await _t(()=>fetch(n,s));if(o.ok){const e=await o.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:vt(e.authToken)}}throw await bt("Create Installation",o)}(e,t);return Pt(e,n)}catch(n){throw mt(n)&&409===n.customData.serverCode?await Lt(e):await Pt(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Ft(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Ft(e){let t=await Ut(e);for(;1===t.registrationStatus;)await kt(100),t=await Ut(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Bt(e);return n||t}return t}function Ut(e){return Mt(e,e=>{if(!e)throw pt.create("installation-not-found");return Vt(e)})}function Vt(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function qt({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${gt(e)}/${t}/authTokens:generate`}(e,n),i=wt(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={installation:{sdkVersion:"w:0.5.4"}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await _t(()=>fetch(r,a));if(c.ok){return vt(await c.json())}throw await bt("Generate Auth Token",c)}async function Ht(e,t=!1){let n;const r=await Mt(e.appConfig,r=>{if(!$t(r))throw pt.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await zt(e.appConfig);for(;1===n.authToken.requestStatus;)await kt(100),n=await zt(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Ht(e,t):r}(e,t),r;{if(!navigator.onLine)throw pt.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await qt(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Pt(e.appConfig,r),n}catch(n){if(!mt(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Pt(e.appConfig,n)}else await Lt(e.appConfig);throw n}}(e,t),t}});return n?await n:r.authToken}function zt(e){return Mt(e,e=>{if(!$t(e))throw pt.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function $t(e){return void 0!==e&&2===e.registrationStatus}async function Wt(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await Bt(e);t&&await t}(n.appConfig);return(await Ht(n,t)).token}function Kt(e){return pt.create("missing-app-config-values",{valueName:e})}const Gt=e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw Kt("App Configuration");if(!e.name)throw Kt("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Kt(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:Object(N._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},Yt=e=>{const t=e.getProvider("app").getImmediate(),n=Object(N._getProvider)(t,"installations").getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Bt(t.appConfig);return r?r.catch(console.error):Ht(t).catch(console.error),n.fid}(n),getToken:e=>Wt(n,e)}};Object(N._registerComponent)(new o.a("installations",Gt,"PUBLIC")),Object(N._registerComponent)(new o.a("installations-internal",Yt,"PRIVATE")),Object(N.registerVersion)("@firebase/installations","0.5.4"),Object(N.registerVersion)("@firebase/installations","0.5.4","esm2017");const Xt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Qt,Jt;function Zt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function en(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Qt||(Qt={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Jt||(Jt={}));let tn=null;function nn(){return tn||(tn=Object(dt.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}})),tn}async function rn(e){const t=on(e),n=await nn(),r=await n.transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){if(!(await indexedDB.databases()).map(e=>e.name).includes("fcm_token_details_db"))return null}let t=null;return(await Object(dt.openDb)("fcm_token_details_db",5,async n=>{var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains("fcm_token_object_Store"))return;const i=n.transaction.objectStore("fcm_token_object_Store"),s=await i.index("fcmSenderId").get(e);if(await i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Zt(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Zt(e.auth),p256dh:Zt(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Zt(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Zt(e.auth),p256dh:Zt(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Zt(e.vapidKey)}}}})).close(),await Object(dt.deleteDb)("fcm_token_details_db"),await Object(dt.deleteDb)("fcm_vapid_details_db"),await Object(dt.deleteDb)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await sn(e,t),t}}async function sn(e,t){const n=on(e),r=(await nn()).transaction("firebase-messaging-store","readwrite");return await r.objectStore("firebase-messaging-store").put(t,n),await r.complete,t}function on({appConfig:e}){return e.appId}const an={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},cn=new s.b("messaging","Messaging",an);async function un(e,t){const n={method:"DELETE",headers:await hn(e)};try{const r=await fetch(`${ln(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw cn.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw cn.create("token-unsubscribe-failed",{errorInfo:e})}}function ln({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function hn({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+n})}function dn({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Xt&&(i.web.applicationPubKey=r),i}async function fn(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:en(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Zt(t.getKey("auth")),p256dh:Zt(t.getKey("p256dh"))},r=await rn(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await hn(e),r=dn(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch(`${ln(e.appConfig)}/${t.token}`,i);s=await n.json()}catch(e){throw cn.create("token-update-failed",{errorInfo:e})}if(s.error){const e=s.error.message;throw cn.create("token-update-failed",{errorInfo:e})}if(!s.token)throw cn.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await sn(e.firebaseDependencies,r),n}catch(t){throw await pn(e),t}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await un(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return mn(e.firebaseDependencies,n)}return mn(e.firebaseDependencies,n)}async function pn(e){const t=await rn(e.firebaseDependencies);t&&(await un(e.firebaseDependencies,t.token),await async function(e){const t=on(e),n=(await nn()).transaction("firebase-messaging-store","readwrite");await n.objectStore("firebase-messaging-store").delete(t),await n.complete}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function mn(e,t){const n={token:await async function(e,t){const n=await hn(e),r=dn(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(ln(e.appConfig),i);s=await t.json()}catch(e){throw cn.create("token-subscribe-failed",{errorInfo:e})}if(s.error){const e=s.error.message;throw cn.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw cn.create("token-subscribe-no-token");return s.token}(e,t),createTime:Date.now(),subscriptionOptions:t};return await sn(e,n),n.token}function gn(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function vn(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function bn(e){return cn.create("missing-app-config-values",{valueName:e})}vn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yn{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw bn("App Configuration Object");if(!e.name)throw bn("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw bn(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function wn(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{})}catch(e){throw cn.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}async function _n(e,t){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw cn.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Xt)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await wn(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),fn(e)}async function kn(e,t,n){const r=function(e){switch(e){case Jt.NOTIFICATION_CLICKED:return"notification_open";case Jt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}const In=e=>{const t=new yn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>async function(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Jt.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(gn(n)):e.onMessageHandler.next(gn(n)));const r=n.data;var i;"object"==typeof(i=r)&&i&&"google.c.a.c_id"in i&&"1"===r["google.c.a.e"]&&await kn(e,n.messageType,r)}(t,e)),t},On=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>_n(t,e)}};function Tn(e){return async function(e){if(!navigator)throw cn.create("only-available-in-window");return e.swRegistration||await wn(e),pn(e)}(e=Object(s.l)(e))}function Sn(e,t){return function(e,t){if(!navigator)throw cn.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=Object(s.l)(e),t)}Object(N._registerComponent)(new o.a("messaging",In,"PUBLIC")),Object(N._registerComponent)(new o.a("messaging-internal",On,"PRIVATE")),Object(N.registerVersion)("@firebase/messaging","0.9.4"),Object(N.registerVersion)("@firebase/messaging","0.9.4","esm2017");var En,Cn;function jn(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function An(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(En||(En={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Cn||(Cn={}));let xn=null;function Rn(){return xn||(xn=Object(dt.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}})),xn}async function Dn(e){const t=Pn(e),n=await Rn(),r=await n.transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){if(!(await indexedDB.databases()).map(e=>e.name).includes("fcm_token_details_db"))return null}let t=null;return(await Object(dt.openDb)("fcm_token_details_db",5,async n=>{var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains("fcm_token_object_Store"))return;const i=n.transaction.objectStore("fcm_token_object_Store"),s=await i.index("fcmSenderId").get(e);if(await i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:jn(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:jn(e.auth),p256dh:jn(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:jn(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:jn(e.auth),p256dh:jn(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:jn(e.vapidKey)}}}})).close(),await Object(dt.deleteDb)("fcm_token_details_db"),await Object(dt.deleteDb)("fcm_vapid_details_db"),await Object(dt.deleteDb)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Nn(e,t),t}}async function Nn(e,t){const n=Pn(e),r=(await Rn()).transaction("firebase-messaging-store","readwrite");return await r.objectStore("firebase-messaging-store").put(t,n),await r.complete,t}function Pn({appConfig:e}){return e.appId}const Ln={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Mn=new s.b("messaging","Messaging",Ln);async function Bn(e,t){const n={method:"DELETE",headers:await Un(e)};try{const r=await fetch(`${Fn(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw Mn.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw Mn.create("token-unsubscribe-failed",{errorInfo:e})}}function Fn({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function Un({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+n})}function Vn({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4"!==r&&(i.web.applicationPubKey=r),i}async function qn(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:An(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:jn(t.getKey("auth")),p256dh:jn(t.getKey("p256dh"))},r=await Dn(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await Un(e),r=Vn(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch(`${Fn(e.appConfig)}/${t.token}`,i);s=await n.json()}catch(e){throw Mn.create("token-update-failed",{errorInfo:e})}if(s.error){const e=s.error.message;throw Mn.create("token-update-failed",{errorInfo:e})}if(!s.token)throw Mn.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Nn(e.firebaseDependencies,r),n}catch(t){throw await Hn(e),t}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Bn(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return zn(e.firebaseDependencies,n)}return zn(e.firebaseDependencies,n)}async function Hn(e){const t=await Dn(e.firebaseDependencies);t&&(await Bn(e.firebaseDependencies,t.token),await async function(e){const t=Pn(e),n=(await Rn()).transaction("firebase-messaging-store","readwrite");await n.objectStore("firebase-messaging-store").delete(t),await n.complete}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function zn(e,t){const n={token:await async function(e,t){const n=await Un(e),r=Vn(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(Fn(e.appConfig),i);s=await t.json()}catch(e){throw Mn.create("token-subscribe-failed",{errorInfo:e})}if(s.error){const e=s.error.message;throw Mn.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw Mn.create("token-subscribe-no-token");return s.token}(e,t),createTime:Date.now(),subscriptionOptions:t};return await Nn(e,n),n.token}async function $n(e,t){const n=function(e,t){var n,r;const i={};e.from&&(i.project_number=e.from);e.fcm_message_id&&(i.message_id=e.fcm_message_id);i.instance_id=t,e.notification?i.message_type=En.DISPLAY_NOTIFICATION.toString():i.message_type=En.DATA_MESSAGE.toString();i.sdk_platform=3..toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),!e.collapse_key||(i.collapse_key=e.collapse_key);i.event=1..toString(),!(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)||(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label);return i}(t,await e.firebaseDependencies.installations.getId());!function(e,t){const n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}(e,n)}function Wn(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}async function Kn(e,t){const n=function({data:e}){if(!e)return null;try{return e.json()}catch(e){return null}}(e);if(!n)return;t.deliveryMetricsExportedToBigQueryEnabled&&await $n(t,n);const r=await Yn();if(function(e){return e.some(e=>"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://"))}(r))return function(e,t){t.isFirebaseMessaging=!0,t.messageType=Cn.PUSH_RECEIVED;for(const n of e)n.postMessage(t)}(r,n);if(n.notification&&await function(e){var t;const{actions:n}=e,{maxActions:r}=Notification;n&&r&&n.length>r&&console.warn(`This browser only supports ${r} actions. The remaining actions will not be displayed.`);return self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}(function(e){const t=Object.assign({},e.notification);return t.data={FCM_MSG:e},t}(n)),t&&t.onBackgroundMessageHandler){const e=function(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}(n);"function"==typeof t.onBackgroundMessageHandler?t.onBackgroundMessageHandler(e):t.onBackgroundMessageHandler.next(e)}}async function Gn(e){var t,n;const r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG;if(!r)return;if(e.action)return;e.stopImmediatePropagation(),e.notification.close();const i=function(e){var t,n,r;const i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return s=e.data,"object"==typeof s&&s&&"google.c.a.c_id"in s?self.location.origin:null;var s}(r);if(!i)return;const s=new URL(i,self.location.href),o=new URL(self.location.origin);if(s.host!==o.host)return;let a=await async function(e){const t=await Yn();for(const n of t){const t=new URL(n.url,self.location.href);if(e.host===t.host)return n}return null}(s);var c;return a?a=await a.focus():(a=await self.clients.openWindow(i),await(c=3e3,new Promise(e=>{setTimeout(e,c)}))),a?(r.messageType=Cn.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,a.postMessage(r)):void 0}function Yn(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Xn(e){return Mn.create("missing-app-config-values",{valueName:e})}Wn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qn{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Xn("App Configuration Object");if(!e.name)throw Xn("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw Xn(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}const Jn=e=>{const t=new Qn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",e=>{e.waitUntil(Kn(e,t))}),self.addEventListener("pushsubscriptionchange",e=>{e.waitUntil(async function(e,t){var n,r;const{newSubscription:i}=e;if(!i)return void await Hn(t);const s=await Dn(t.firebaseDependencies);await Hn(t),t.vapidKey=null!==(r=null===(n=null==s?void 0:s.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==r?r:"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",await qn(t)}(e,t))}),self.addEventListener("notificationclick",e=>{e.waitUntil(Gn(e))}),t};function Zn(e,t){return function(e,t){if(void 0!==self.document)throw Mn.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,()=>{e.onBackgroundMessageHandler=null}}(e=Object(s.l)(e),t)}Object(N._registerComponent)(new o.a("messaging-sw",Jn,"PUBLIC"));class er{constructor(e,t){this.app=e,this._delegate=t,this.app=e,this._delegate=t}async getToken(e){return async function(e,t){return _n(e=Object(s.l)(e),t)}(this._delegate,e)}async deleteToken(){return Tn(this._delegate)}onMessage(e){return Sn(this._delegate,e)}onBackgroundMessage(e){return Zn(this._delegate,e)}}const tr=e=>self&&"ServiceWorkerGlobalScope"in self?new er(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new er(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate()),nr={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?Object(s.s)()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!=typeof window&&Object(s.s)()&&Object(s.d)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};r.a.INTERNAL.registerComponent(new o.a("messaging-compat",tr,"PUBLIC").setServiceProps(nr)),r.a.registerVersion("@firebase/messaging-compat","0.1.4");r.a.initializeApp({apiKey:"AIzaSyD5RCH49uZU5UVALHVzKX6T85a9ToRhPFk",authDomain:"soft-dental.firebaseapp.com",databaseURL:"https://soft-dental-default-rtdb.firebaseio.com",projectId:"soft-dental",storageBucket:"soft-dental.appspot.com",messagingSenderId:"103734427165",appId:"1:103734427165:web:530bdfa7ae77acd38750f4",measurementId:"G-6ZPYX2LDJ5"});r.a.firestore(),r.a.auth(),r.a.storage();var rr=r.a.messaging()},T63A:function(e,t,n){var r=n("I+eb"),i=n("b1O7").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},Ta7t:function(e,t,n){var r=n("I8vh"),i=n("B/qT"),s=n("hBjN"),o=Array,a=Math.max;e.exports=function(e,t,n){for(var c=i(e),u=r(t,c),l=r(void 0===n?c:n,c),h=o(a(l-u,0)),d=0;u<l;u++,d++)s(h,d,e[u]);return h.length=d,h}},UIe5:function(e,t,n){var r=n("aO6C"),i=n("DVFp"),s=TypeError;e.exports=function(e){if(r(e))return e;throw s(i(e)+" is not a constructor")}},UXOq:function(e,t,n){"use strict";var r=n("LELO"),i=n("nWMH"),s=n.n(i),o=n("qlm0"),a=n("SRip"),c=n("7Ql6"),u=n("W51F"),l=n("+r6/"),h=n("fCVH"),d=n("gBsl"),f=n("bJpk"),p=Object(d.a)().t,m=(Object(f.a)().canViewVerticalNavMenuHeader,{props:{item:{type:Object,required:!0}},render:function(e){var t=e("span",{},p(this.item.header)),n=e("feather-icon",{props:{icon:"MoreHorizontalIcon",size:"18"}});return this.canAccess(this.item.permission)?e("li",{class:"navigation-header text-truncate"},[t,n]):e()}}),g=n("6Ytq");var v={components:{BLink:o.a,BBadge:g.a},mixins:[{watch:{$route:{immediate:!0,handler:function(){this.updateIsActive()}}}}],props:{item:{type:Object,required:!0}},setup:function(e){var t=function(e){var t=Object(c.ref)(!1),n=Object(h.c)(e);return{isActive:t,linkProps:n,updateIsActive:function(){t.value=Object(h.b)(e)}}}(e.item),n=t.isActive,r=t.linkProps,i=t.updateIsActive,s=Object(d.a)().t;return{isActive:n,linkProps:r,updateIsActive:i,canViewVerticalNavMenuLink:Object(f.a)().canViewVerticalNavMenuLink,t:s}}},b=n("KHd+"),y=Object(b.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canAccess(e.item.permission)?n("li",{staticClass:"nav-item",class:{active:e.isActive,disabled:e.item.disabled}},[e.canAccess(e.item.permission)?n("b-link",e._b({staticClass:"d-flex align-items-center"},"b-link",e.linkProps,!1),[n("feather-icon",{attrs:{icon:e.item.icon||"CircleIcon"}}),e._v(" "),n("span",{staticClass:"menu-title text-truncate"},[e._v(e._s(e.$t(e.item.title)))]),e._v(" "),e.item.tag?n("b-badge",{staticClass:"mr-1 ml-auto",attrs:{pill:"",variant:e.item.tagVariant||"primary"}},[e._v("\n\t\t"+e._s(e.item.tag)+"\n\t")]):e._e()],1):e._e()],1):e._e()}),[],!1,null,null,null).exports,w=n("WEOK"),_=(n("FNk8"),n("07d7"),n("tvh2"));var k={name:"VerticalNavMenuGroup",components:{VerticalNavMenuHeader:m,VerticalNavMenuLink:y,BLink:o.a,BBadge:g.a,BCollapse:w.a},mixins:[{watch:{$route:{immediate:!0,handler:function(){this.updateIsActive()}}}}],props:{item:{type:Object,required:!0}},setup:function(e){var t=function(e){var t=Object(c.computed)((function(){return _.a.state.verticalMenu.isVerticalMenuCollapsed}));Object(c.watch)(t,(function(e){n.value||(e?i.value=!1:!e&&s.value&&(i.value=!0))}));var n=Object(c.inject)("isMouseHovered");Object(c.watch)(n,(function(e){t.value&&(i.value=e&&s.value)}));var r=Object(c.inject)("openGroups");Object(c.watch)(r,(function(t){var n=t[t.length-1];n===e.title||s.value||o(n)||(i.value=!1)}));var i=Object(c.ref)(!1);Object(c.watch)(i,(function(t){t&&r.value.push(e.title)}));var s=Object(c.ref)(!1);Object(c.watch)(s,(function(e){e&&t.value||(i.value=e)}));var o=function(t){return e.children.some((function(e){return e.title===t}))};return{isOpen:i,isActive:s,updateGroupOpen:function(e){i.value=e},openGroups:r,isMouseHovered:n,updateIsActive:function(){s.value=Object(h.a)(e.children)}}}(e.item),n=t.isOpen,r=t.isActive,i=t.updateGroupOpen,s=t.updateIsActive,o=Object(d.a)().t,a=Object(f.a)().canViewVerticalNavMenuGroup;return{resolveNavItemComponent:h.e,isOpen:n,isActive:r,updateGroupOpen:i,updateIsActive:s,canViewVerticalNavMenuGroup:a,t:o}}},I={components:{VerticalNavMenuHeader:m,VerticalNavMenuLink:y,VerticalNavMenuGroup:Object(b.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canAccess(e.item.permission)?n("li",{staticClass:"nav-item has-sub",class:{open:e.isOpen,disabled:e.item.disabled,"sidebar-group-active":e.isActive}},[n("b-link",{staticClass:"d-flex align-items-center",on:{click:function(){return e.updateGroupOpen(!e.isOpen)}}},[n("feather-icon",{attrs:{icon:e.item.icon||"CircleIcon"}}),e._v(" "),n("span",{staticClass:"menu-title text-truncate"},[e._v(e._s(e.$t(e.item.title)))]),e._v(" "),e.item.tag?n("b-badge",{staticClass:"mr-1 ml-auto",attrs:{pill:"",variant:e.item.tagVariant||"primary"}},[e._v("\n        "+e._s(e.item.tag)+"\n      ")]):e._e()],1),e._v(" "),n("b-collapse",{staticClass:"menu-content",attrs:{tag:"ul"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},e._l(e.item.children,(function(t){return n(e.resolveNavItemComponent(t),{key:e.$t(t.header)||e.$t(t.title),ref:"groupChild",refInFor:!0,tag:"component",attrs:{item:t,show:e.canAccess(t.permission)}})})),1)],1):e._e()}),[],!1,null,null,null).exports},props:{items:{type:Array,required:!0}},setup:function(e){return Object(c.provide)("openGroups",Object(c.ref)([])),{resolveNavItemComponent:h.e}}},O=Object(b.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.items,(function(t){return n(e.resolveNavItemComponent(t),{key:e.$t(t.header)||e.$t(t.title),tag:"component",attrs:{item:t,"v-if":e.canAccess(t.permission)}})})),1)}),[],!1,null,null,null).exports;var T={components:{VuePerfectScrollbar:s.a,VerticalNavMenuItems:O,BLink:o.a,BImg:a.a},props:{isVerticalMenuActive:{type:Boolean,required:!0},toggleVerticalMenuActive:{type:Function,required:!0}},setup:function(e){var t=function(e){var t=Object(c.computed)({get:function(){return _.a.state.verticalMenu.isVerticalMenuCollapsed},set:function(e){_.a.commit("verticalMenu/UPDATE_VERTICAL_MENU_COLLAPSED",e)}}),n=Object(c.computed)((function(){return e.isVerticalMenuActive?t.value?"unpinned":"pinned":"close"})),r=Object(c.ref)(!1);return{isMouseHovered:r,isVerticalMenuCollapsed:t,collapseTogglerIcon:n,toggleCollapsed:function(){t.value=!t.value},updateMouseHovered:function(e){r.value=e}}}(e),i=t.isMouseHovered,s=t.isVerticalMenuCollapsed,o=t.collapseTogglerIcon,a=t.toggleCollapsed,h=t.updateMouseHovered,d=Object(u.a)().skin,f=(n("400d"),Object(c.ref)(!1));Object(c.provide)("isMouseHovered",i);var p=Object(c.computed)((function(){return"unpinned"===o.value?"CircleIcon":"DiscIcon"})),m=Object(c.computed)((function(){return _.a.state.auth.user?_.a.state.auth.setting.app_name:window._setting.app_name})),g=Object(c.computed)((function(){return _.a.state.auth.user&&_.a.state.auth.logo?_.a.state.auth.logo:n("400d")})),v=l.c.app,b=v.appName,y=v.appLogoImage;return{navMenuItems:r.a,perfectScrollbarSettings:{maxScrollbarLength:60,wheelPropagation:!1},isVerticalMenuCollapsed:s,collapseTogglerIcon:o,toggleCollapsed:a,isMouseHovered:i,updateMouseHovered:h,collapseTogglerIconFeather:p,shallShadowBottom:f,skin:d,system_name:m,system_logo:g,appName:b,appLogoImage:y}}},S=(n("+okE"),Object(b.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-menu menu-fixed menu-accordion menu-shadow",class:[{expanded:!e.isVerticalMenuCollapsed||e.isVerticalMenuCollapsed&&e.isMouseHovered},"light"===e.skin||"bordered"===e.skin?"menu-light":"menu-dark"],on:{mouseenter:function(t){return e.updateMouseHovered(!0)},mouseleave:function(t){return e.updateMouseHovered(!1)}}},[n("div",{staticClass:"navbar-header expanded"},[e._t("header",[n("ul",{staticClass:"nav navbar-nav flex-row"},[n("li",{staticClass:"nav-item mr-auto"},[n("b-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[n("span",{staticClass:"brand-logo"},[n("b-img",{attrs:{src:e.system_logo,alt:"logo"}})],1),e._v(" "),n("h2",{staticClass:"brand-text"},[e._v("\n              "+e._s(e.system_name)+"\n            ")])])],1),e._v(" "),n("li",{staticClass:"nav-item nav-toggle"},[n("b-link",{staticClass:"nav-link modern-nav-toggle"},[n("feather-icon",{staticClass:"d-block d-xl-none",attrs:{icon:"XIcon",size:"20"},on:{click:e.toggleVerticalMenuActive}}),e._v(" "),n("feather-icon",{staticClass:"d-none d-xl-block collapse-toggle-icon",attrs:{icon:e.collapseTogglerIconFeather,size:"20"},on:{click:e.toggleCollapsed}})],1)],1)])],{toggleVerticalMenuActive:e.toggleVerticalMenuActive,toggleCollapsed:e.toggleCollapsed,collapseTogglerIcon:e.collapseTogglerIcon})],2),e._v(" "),n("div",{staticClass:"shadow-bottom",class:{"d-block":e.shallShadowBottom}}),e._v(" "),n("vue-perfect-scrollbar",{staticClass:"main-menu-content scroll-area",attrs:{settings:e.perfectScrollbarSettings,tagname:"ul"},on:{"ps-scroll-y":function(t){e.shallShadowBottom=t.srcElement.scrollTop>0}}},[n("vertical-nav-menu-items",{staticClass:"navigation navigation-main",attrs:{items:e.navMenuItems}})],1)],1)}),[],!1,null,null,null));t.a=S.exports},"V/Tw":function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-24.jpg"},V7lt:function(e,t,n){var r=n("xluM"),i=n("0GbY"),s=n("tiKp"),o=n("yy0I");e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=s("toPrimitive");t&&!t[a]&&o(t,a,(function(e){return r(n,this)}),{arity:1})}},WEOK:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r,i=n("L3ns"),s=n("xjcK"),o=n("6GPe"),a=n("AFYn"),c=n("pyNs"),u=n("m3aq"),l=n("kGy3"),h=n("a3f1"),d=n("WPLV"),f=n("2C+6"),p=n("z3V6"),m=n("kO/s"),g=n("YC3Q"),v=n("jBgq"),b=n("tC49"),y={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},w={enter:function(e){Object(l.F)(e,"height",0),Object(l.B)((function(){Object(l.w)(e),Object(l.F)(e,"height","".concat(e.scrollHeight,"px"))}))},afterEnter:function(e){Object(l.A)(e,"height")},leave:function(e){Object(l.F)(e,"height","auto"),Object(l.F)(e,"display","block"),Object(l.F)(e,"height","".concat(Object(l.i)(e).height,"px")),Object(l.w)(e),Object(l.F)(e,"height",0)},afterLeave:function(e){Object(l.A)(e,"height")}},_={appear:Object(p.c)(c.g,!1)},k=Object(i.c)({name:s.v,functional:!0,props:_,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e("transition",Object(b.a)(r,{props:y,on:w},{props:n}),i)}});function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=Object(h.d)(s.u,"toggle"),E=Object(h.d)(s.u,"request-state"),C=Object(h.e)(s.u,"accordion"),j=Object(h.e)(s.u,"state"),A=Object(h.e)(s.u,"sync-state"),x=Object(d.a)("visible",{type:c.g,defaultValue:!1}),R=x.mixin,D=x.props,N=x.prop,P=x.event,L=Object(p.d)(Object(f.m)(O(O(O({},m.b),D),{},{accordion:Object(p.c)(c.u),appear:Object(p.c)(c.g,!1),isNav:Object(p.c)(c.g,!1),tag:Object(p.c)(c.u,"div")})),s.u),M=Object(i.c)({name:s.u,mixins:[m.a,R,v.a,g.a],props:L,data:function(){return{show:this[N],transitioning:!1}},computed:{classObject:function(){var e=this.transitioning;return{"navbar-collapse":this.isNav,collapse:!e,show:this.show&&!e}},slotScope:function(){var e=this;return{visible:this.show,close:function(){e.show=!1}}}},watch:(r={},T(r,N,(function(e){e!==this.show&&(this.show=e)})),T(r,"show",(function(e,t){e!==t&&this.emitState()})),r),created:function(){this.show=this[N]},mounted:function(){var e=this;this.show=this[N],this.listenOnRoot(S,this.handleToggleEvent),this.listenOnRoot(C,this.handleAccordionEvent),this.isNav&&(this.setWindowEvents(!0),this.handleResize()),this.$nextTick((function(){e.emitState()})),this.listenOnRoot(E,(function(t){t===e.safeId()&&e.$nextTick(e.emitSync)}))},updated:function(){this.emitSync()},deactivated:function(){this.isNav&&this.setWindowEvents(!1)},activated:function(){this.isNav&&this.setWindowEvents(!0),this.emitSync()},beforeDestroy:function(){this.show=!1,this.isNav&&o.g&&this.setWindowEvents(!1)},methods:{setWindowEvents:function(e){Object(h.c)(e,window,"resize",this.handleResize,a.Y),Object(h.c)(e,window,"orientationchange",this.handleResize,a.Y)},toggle:function(){this.show=!this.show},onEnter:function(){this.transitioning=!0,this.$emit(a.S)},onAfterEnter:function(){this.transitioning=!1,this.$emit(a.T)},onLeave:function(){this.transitioning=!0,this.$emit(a.x)},onAfterLeave:function(){this.transitioning=!1,this.$emit(a.w)},emitState:function(){var e=this.show,t=this.accordion,n=this.safeId();this.$emit(P,e),this.emitOnRoot(j,n,e),t&&e&&this.emitOnRoot(C,n,t)},emitSync:function(){this.emitOnRoot(A,this.safeId(),this.show)},checkDisplayBlock:function(){var e=this.$el,t=Object(l.p)(e,"show");Object(l.y)(e,"show");var n="block"===Object(l.k)(e).display;return t&&Object(l.b)(e,"show"),n},clickHandler:function(e){var t=e.target;this.isNav&&t&&"block"===Object(l.k)(this.$el).display&&(!Object(l.v)(t,".nav-link,.dropdown-item")&&!Object(l.e)(".nav-link,.dropdown-item",t)||this.checkDisplayBlock()||(this.show=!1))},handleToggleEvent:function(e){e===this.safeId()&&this.toggle()},handleAccordionEvent:function(e,t){var n=this.accordion,r=this.show;if(n&&n===t){var i=e===this.safeId();(i&&!r||!i&&r)&&this.toggle()}},handleResize:function(){this.show="block"===Object(l.k)(this.$el).display}},render:function(e){var t=this.appear,n=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()},on:{click:this.clickHandler}},this.normalizeSlot(u.i,this.slotScope));return e(k,{props:{appear:t},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[n])}})},WJvL:function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",(function(){return k})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return u})),n.d(t,"_addComponent",(function(){return f})),n.d(t,"_addOrOverwriteComponent",(function(){return p})),n.d(t,"_apps",(function(){return h})),n.d(t,"_clearComponents",(function(){return b})),n.d(t,"_components",(function(){return d})),n.d(t,"_getProvider",(function(){return g})),n.d(t,"_registerComponent",(function(){return m})),n.d(t,"_removeServiceInstance",(function(){return v})),n.d(t,"deleteApp",(function(){return S})),n.d(t,"getApp",(function(){return O})),n.d(t,"getApps",(function(){return T})),n.d(t,"initializeApp",(function(){return I})),n.d(t,"onLog",(function(){return C})),n.d(t,"registerVersion",(function(){return E})),n.d(t,"setLogLevel",(function(){return j}));var r=n("IuUc"),i=n("5pEQ"),s=n("H9WU");n.d(t,"FirebaseError",(function(){return s.c}));class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const a="@firebase/app",c=new i.b("@firebase/app"),u="[DEFAULT]",l={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},h=new Map,d=new Map;function f(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function p(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(d.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;d.set(t,e);for(const t of h.values())f(t,e);return!0}function g(e,t){return e.container.getProvider(t)}function v(e,t,n=u){g(e,t).clearInstance(n)}function b(){d.clear()}const y={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."},w=new s.b("app","Firebase",y);class _{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const k="9.6.1";function I(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:u,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw w.create("bad-app-name",{appName:String(i)});const o=h.get(i);if(o){if(Object(s.i)(e,o.options)&&Object(s.i)(n,o.config))return o;throw w.create("duplicate-app",{appName:i})}const a=new r.b(i);for(const e of d.values())a.addComponent(e);const c=new _(e,n,a);return h.set(i,c),c}function O(e=u){const t=h.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function T(){return Array.from(h.values())}async function S(e){const t=e.name;h.has(t)&&(h.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function E(e,t,n){var i;let s=null!==(i=l[e])&&void 0!==i?i:e;n&&(s+="-"+n);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new r.a(s+"-version",()=>({library:s,version:t}),"VERSION"))}function C(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");Object(i.d)(e,t)}function j(e){Object(i.c)(e)}var A;A="",m(new r.a("platform-logger",e=>new o(e),"PRIVATE")),E(a,"0.7.11",A),E(a,"0.7.11","esm2017"),E("fire-js","")},WZSj:function(e,t,n){"use strict";(function(e){var t=n("fe34"),r=n("H1q0"),i=n("IuUc"),s=n("H9WU");function o(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function a(e=Object(s.m)()){return!("file:"!==o()&&"ionic:"!==o()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function c(e=Object(s.m)()){return Object(s.r)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=Object(s.m)()){return/Edge\/\d+/.test(e)}(e)}function u(){try{const e=self.localStorage,t=r.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!c()||Object(s.s)()}catch(e){return l()&&Object(s.s)()}return!1}function l(){return void 0!==e&&"WorkerGlobalScope"in e&&"importScripts"in e}function h(){return("http:"===o()||"https:"===o()||Object(s.o)()||a())&&!(Object(s.v)()||Object(s.u)())&&u()&&!l()}function d(){return a()&&"undefined"!=typeof document}const f={LOCAL:"local",NONE:"none",SESSION:"session"},p=r.p;async function m(e){await e._initializationPromise;const t=g(),n=r.v("persistence",e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function g(){return"undefined"!=typeof window?window:null}const v=r.p;class b{constructor(){this.browserResolver=r.t(r.z),this.cordovaResolver=r.t(r.E),this.underlyingResolver=null,this._redirectPersistence=r.A,this._completeRedirectFn=r.u}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return d()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return v(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!d()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function y(e){return e.unwrap()}function w(e){const{_tokenResponse:t}=e instanceof s.c?e.customData:e;if(!t)return null;if(!(e instanceof s.c)&&"temporaryProof"in t&&"phoneNumber"in t)return r.i.credentialFromResult(e);const n=t.providerId;if(!n||n===r.k.PASSWORD)return null;let i;switch(n){case r.k.GOOGLE:i=r.f;break;case r.k.FACEBOOK:i=r.d;break;case r.k.GITHUB:i=r.e;break;case r.k.TWITTER:i=r.o;break;default:const{oauthIdToken:e,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:c}=t;return s||o||e||a?a?n.startsWith("saml.")?r.m._create(n,a):r.g._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:s}):new r.h(n).credential({idToken:e,accessToken:s,rawNonce:c}):null}return e instanceof s.c?i.credentialFromError(e):i.credentialFromResult(e)}function _(e,t){return t.catch(t=>{throw t instanceof s.c&&function(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code){t.resolver=new I(e,r.J(e,t))}else if(i){const e=w(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,w(i)),additionalUserInfo:r.I(e),user:O.getOrCreate(n)};var i})}async function k(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>_(e,n.confirm(t))}}class I{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return _(y(this.auth),this.resolver.resolveSignIn(e))}}class O{constructor(e){this._delegate=e,this.multiFactor=r.S(e)}static getOrCreate(e){return O.USER_MAP.has(e)||O.USER_MAP.set(e,new O(e)),O.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return _(this.auth,r.O(this._delegate,e))}async linkWithPhoneNumber(e,t){return k(this.auth,r.P(this._delegate,e,t))}async linkWithPopup(e){return _(this.auth,r.Q(this._delegate,e,b))}async linkWithRedirect(e){return await m(r.q(this.auth)),r.R(this._delegate,e,b)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return _(this.auth,r.T(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return k(this.auth,r.U(this._delegate,e,t))}reauthenticateWithPopup(e){return _(this.auth,r.V(this._delegate,e,b))}async reauthenticateWithRedirect(e){return await m(r.q(this.auth)),r.W(this._delegate,e,b)}sendEmailVerification(e){return r.X(this._delegate,e)}async unlink(e){return await r.ib(this._delegate,e),this}updateEmail(e){return r.jb(this._delegate,e)}updatePassword(e){return r.kb(this._delegate,e)}updatePhoneNumber(e){return r.lb(this._delegate,e)}updateProfile(e){return r.mb(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return r.nb(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}O.USER_MAP=new WeakMap;const T=r.p;class S{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;T(n,"invalid-api-key",{appName:e.name});let i=[r.L];if("undefined"!=typeof window){i=function(e,t){const n=g();if(!(null==n?void 0:n.sessionStorage))return[];const i=r.v("persistence",e,t);switch(n.sessionStorage.getItem(i)){case f.NONE:return[r.L];case f.LOCAL:return[r.M,r.A];case f.SESSION:return[r.A];default:return[]}}(n,e.name);for(const e of[r.M,r.y,r.A])i.includes(e)||i.push(e)}T(n,"invalid-api-key",{appName:e.name});const s="undefined"!=typeof window?b:void 0;this._delegate=t.initialize({options:{persistence:i,popupRedirectResolver:s}}),this._delegate._updateErrorMap(r.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?O.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){r.D(this._delegate,e,t)}applyActionCode(e){return r.x(this._delegate,e)}checkActionCode(e){return r.B(this._delegate,e)}confirmPasswordReset(e,t){return r.C(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return _(this._delegate,r.F(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return r.H(this._delegate,e)}isSignInWithEmailLink(e){return r.N(this._delegate,e)}async getRedirectResult(){T(h(),this._delegate,"operation-not-supported-in-this-environment");const e=await r.K(this._delegate,b);return e?_(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){r.w(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=E(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=E(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return r.Z(this._delegate,e,t)}sendPasswordResetEmail(e,t){return r.Y(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){p(Object.values(f).includes(t),e,"invalid-persistence-type"),Object(s.v)()?p(t!==f.SESSION,e,"unsupported-persistence-type"):Object(s.u)()?p(t===f.NONE,e,"unsupported-persistence-type"):l()?p(t===f.NONE||t===f.LOCAL&&Object(s.s)(),e,"unsupported-persistence-type"):p(t===f.NONE||u(),e,"unsupported-persistence-type")}(this._delegate,e),e){case f.SESSION:t=r.A;break;case f.LOCAL:t=await r.t(r.M)._isAvailable()?r.M:r.y;break;case f.NONE:t=r.L;break;default:return r.r("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return _(this._delegate,r.ab(this._delegate))}signInWithCredential(e){return _(this._delegate,r.bb(this._delegate,e))}signInWithCustomToken(e){return _(this._delegate,r.cb(this._delegate,e))}signInWithEmailAndPassword(e,t){return _(this._delegate,r.db(this._delegate,e,t))}signInWithEmailLink(e,t){return _(this._delegate,r.eb(this._delegate,e,t))}signInWithPhoneNumber(e,t){return k(this._delegate,r.fb(this._delegate,e,t))}async signInWithPopup(e){return T(h(),this._delegate,"operation-not-supported-in-this-environment"),_(this._delegate,r.gb(this._delegate,e,b))}async signInWithRedirect(e){return T(h(),this._delegate,"operation-not-supported-in-this-environment"),await m(this._delegate),r.hb(this._delegate,e,b)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return r.ob(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function E(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&O.getOrCreate(e)),error:t,complete:n}}S.Persistence=f;class C{constructor(){this.providerId="phone",this._delegate=new r.i(y(t.a.auth()))}static credential(e,t){return r.i.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}C.PHONE_SIGN_IN_METHOD=r.i.PHONE_SIGN_IN_METHOD,C.PROVIDER_ID=r.i.PROVIDER_ID;const j=r.p;class A{constructor(e,n,i=t.a.app()){var s;j(null===(s=i.options)||void 0===s?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new r.l(e,n,i.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var x;(x=t.a).INTERNAL.registerComponent(new i.a("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new S(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.a.EMAIL_SIGNIN,PASSWORD_RESET:r.a.PASSWORD_RESET,RECOVER_EMAIL:r.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.a.VERIFY_EMAIL}},EmailAuthProvider:r.c,FacebookAuthProvider:r.d,GithubAuthProvider:r.e,GoogleAuthProvider:r.f,OAuthProvider:r.h,SAMLAuthProvider:r.n,PhoneAuthProvider:C,PhoneMultiFactorGenerator:r.j,RecaptchaVerifier:A,TwitterAuthProvider:r.o,Auth:S,AuthCredential:r.b,Error:s.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.2.4")}).call(this,n("yLpj"))},Wfsh:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("z3V6");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(a.d)({align:Object(a.c)(o.u),cardHeader:Object(a.c)(o.g,!1),fill:Object(a.c)(o.g,!1),justified:Object(a.c)(o.g,!1),pills:Object(a.c)(o.g,!1),small:Object(a.c)(o.g,!1),tabs:Object(a.c)(o.g,!1),tag:Object(a.c)(o.u,"ul"),vertical:Object(a.c)(o.g,!1)},s.ib),l=Object(r.c)({name:s.ib,functional:!0,props:u,render:function(e,t){var n,r,s=t.props,o=t.data,a=t.children,u=s.tabs,l=s.pills,h=s.vertical,d=s.align,f=s.cardHeader;return e(s.tag,Object(i.a)(o,{staticClass:"nav",class:(n={"nav-tabs":u,"nav-pills":l&&!u,"card-header-tabs":!h&&f&&u,"card-header-pills":!h&&f&&l&&!u,"flex-column":h,"nav-fill":!h&&s.fill,"nav-justified":!h&&s.justified},c(n,(r=d,"justify-content-".concat(r="left"===r?"start":"right"===r?"end":r)),!h&&d),c(n,"small",s.small),n)}),a)}})},WkfP:function(e,t,n){var r=n("I+eb"),i=n("BPiQ"),s=n("0Dky"),o=n("dBg+"),a=n("ewvW");r({target:"Object",stat:!0,forced:!i||s((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(a(e)):[]}})},XTZb:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("1OyB"),s=n("vuIU"),o=n("rePB"),a=(n("ma9I"),n("07d7"),n("TeQF"),n("FNk8"),{loginEndpoint:"/jwt/login",registerEndpoint:"/jwt/register",refreshEndpoint:"/jwt/refresh-token",logoutEndpoint:"/jwt/logout",tokenType:"Bearer",storageTokenKeyName:"accessToken",storageRefreshTokenKeyName:"refreshToken"}),c=function(){function e(t,n){var s=this;Object(i.a)(this,e),Object(o.a)(this,"axiosIns",null),Object(o.a)(this,"jwtConfig",Object(r.a)({},a)),Object(o.a)(this,"isAlreadyFetchingAccessToken",!1),Object(o.a)(this,"subscribers",[]),this.axiosIns=t,this.jwtConfig=Object(r.a)(Object(r.a)({},this.jwtConfig),n),this.axiosIns.interceptors.request.use((function(e){var t=s.getToken();return t&&(e.headers.Authorization="".concat(s.jwtConfig.tokenType," ").concat(t)),e}),(function(e){return Promise.reject(e)})),this.axiosIns.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,n=e.response,r=t;return n&&401===n.status?(s.isAlreadyFetchingAccessToken||(s.isAlreadyFetchingAccessToken=!0,s.refreshToken().then((function(e){s.isAlreadyFetchingAccessToken=!1,s.setToken(e.data.accessToken),s.setRefreshToken(e.data.refreshToken),s.onAccessTokenFetched(e.data.accessToken)}))),new Promise((function(e){s.addSubscriber((function(t){r.headers.Authorization="".concat(s.jwtConfig.tokenType," ").concat(t),e(s.axiosIns(r))}))}))):Promise.reject(e)}))}return Object(s.a)(e,[{key:"onAccessTokenFetched",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t(e)}))}},{key:"addSubscriber",value:function(e){this.subscribers.push(e)}},{key:"getToken",value:function(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}},{key:"getRefreshToken",value:function(){return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)}},{key:"setToken",value:function(e){localStorage.setItem(this.jwtConfig.storageTokenKeyName,e)}},{key:"setRefreshToken",value:function(e){localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName,e)}},{key:"login",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.axiosIns).post.apply(e,[this.jwtConfig.loginEndpoint].concat(n))}},{key:"register",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.axiosIns).post.apply(e,[this.jwtConfig.registerEndpoint].concat(n))}},{key:"refreshToken",value:function(){return this.axiosIns.post(this.jwtConfig.refreshEndpoint,{refreshToken:this.getRefreshToken()})}}]),e}();var u,l=n("duZo"),h=(u=l.a,{jwt:new c(u,{})}).jwt;t.a=h},Z0BQ:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/icons/doc.png"},ZPy1:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".vertical-layout.vertical-menu-modern .main-menu {\n  transition: 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), background 0s;\n  backface-visibility: hidden;\n}[dir] .vertical-layout.vertical-menu-modern .main-menu {\n  transform: translate3d(0, 0, 0);\n}\n.vertical-layout.vertical-menu-modern .main-menu .navigation li a {\n  align-items: center;\n}\n.vertical-layout.vertical-menu-modern .main-menu .navigation > li > a svg, .vertical-layout.vertical-menu-modern .main-menu .navigation > li > a i {\n  height: 20px;\n  width: 20px;\n  font-size: 1.45rem;\n  flex-shrink: 0;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern .main-menu .navigation > li > a svg, [dir=ltr] .vertical-layout.vertical-menu-modern .main-menu .navigation > li > a i {\n  margin-right: 1.1rem;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern .main-menu .navigation > li > a svg, [dir=rtl] .vertical-layout.vertical-menu-modern .main-menu .navigation > li > a i {\n  margin-left: 1.1rem;\n}\n.vertical-layout.vertical-menu-modern .main-menu .navigation .menu-content > li > a svg, .vertical-layout.vertical-menu-modern .main-menu .navigation .menu-content > li > a i {\n  font-size: 11px;\n  height: 11px;\n  width: 11px;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern .main-menu .navigation .menu-content > li > a svg, [dir=ltr] .vertical-layout.vertical-menu-modern .main-menu .navigation .menu-content > li > a i {\n  margin-right: 1.45rem;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern .main-menu .navigation .menu-content > li > a svg, [dir=rtl] .vertical-layout.vertical-menu-modern .main-menu .navigation .menu-content > li > a i {\n  margin-left: 1.45rem;\n}\n.vertical-layout.vertical-menu-modern.menu-expanded .main-menu {\n  width: 260px;\n}\n.vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation .navigation-header .feather-more-horizontal {\n  display: none;\n}\n.vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation > li > a > i:before, .vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation > li > a > svg:before {\n  height: 20px;\n  width: 20px;\n  font-size: 1.45rem;\n}\n.vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation li.has-sub > a:after {\n  content: \"\";\n  height: 1.1rem;\n  width: 1.1rem;\n  display: inline-block;\n  position: absolute;\n  top: 14px;\n  transition: all 0.2s ease-out;\n}\n[dir] .vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation li.has-sub > a:after {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236e6b7b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-chevron-right'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 1.1rem;\n  transform: rotate(0deg);\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation li.has-sub > a:after {\n  right: 20px;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation li.has-sub > a:after {\n  left: 20px;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation li.has-sub.open:not(.menu-item-closing) > a:after {\n  transform: rotate(90deg);\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-expanded .main-menu .navigation li.has-sub.open:not(.menu-item-closing) > a:after {\n  transform: rotate(-90deg);\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-expanded .footer {\n  margin-left: 260px;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-expanded .footer {\n  margin-right: 260px;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .navbar .navbar-header {\n  width: 80px;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .navbar .navbar-header {\n  float: left;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .navbar .navbar-header {\n  float: right;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .navbar .navbar-header .modern-nav-toggle {\n  display: none;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .navbar .navbar-header.expanded {\n  width: 260px;\n  z-index: 1000;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .navbar .navbar-header.expanded .modern-nav-toggle {\n  display: block;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .navbar.fixed-top, [dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .navbar.floating-nav {\n  left: 80px;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .navbar.fixed-top, [dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .navbar.floating-nav {\n  right: 80px;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu {\n  width: 80px;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navbar-header .brand-text, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .modern-nav-toggle {\n  display: none;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navigation-header {\n  margin-left: 2.2rem;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navigation-header {\n  margin-right: 2.2rem;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navigation-header span {\n  display: none;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navigation-header .feather-more-horizontal {\n  display: block;\n  font-size: 1.285rem;\n  width: 18px;\n  height: 18px;\n}\n[dir] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navigation li:last-child {\n  margin-bottom: 1.25rem !important;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navigation li.active a {\n  color: #565656;\n}\n[dir] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navigation li.active a {\n  background: #f5f5f5;\n  box-shadow: none;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded {\n  width: 260px;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navigation > li.navigation-header span {\n  display: block;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navigation > li.navigation-header .feather-more-horizontal {\n  display: none;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navigation li.has-sub > a:after {\n  content: \"\";\n  height: 1rem;\n  width: 1rem;\n  display: inline-block;\n  position: absolute;\n  top: 14px;\n  transition: all 0.2s ease-out;\n}\n[dir] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navigation li.has-sub > a:after {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236e6b7b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-chevron-right'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 1rem;\n  transform: rotate(0deg);\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navigation li.has-sub > a:after {\n  right: 20px;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navigation li.has-sub > a:after {\n  left: 20px;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navigation li.has-sub.open:not(.menu-item-closing) > a:after {\n  transform: rotate(90deg);\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navigation li.has-sub.open:not(.menu-item-closing) > a:after {\n  transform: rotate(-90deg);\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .navbar-header .brand-text {\n  display: inline;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu.expanded .modern-nav-toggle {\n  display: block;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navigation {\n  overflow: visible;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navigation > li.navigation-header span {\n  display: none;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navigation > li > a {\n  text-overflow: inherit;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .app-content, [dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .footer {\n  margin-left: 80px;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .app-content, [dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .footer {\n  margin-right: 80px;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .header-navbar.floating-nav {\n  width: calc(100vw - (100vw - 100%) - 4.4rem - 74px);\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .header-navbar.navbar-static-top {\n  width: calc(100vw - (100vw - 100%) - 74px);\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .header-navbar.navbar-static-top {\n  left: 74px;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .header-navbar.navbar-static-top {\n  right: 74px;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern .toggle-icon, [dir=ltr] .vertical-layout.vertical-menu-modern .collapse-toggle-icon {\n  margin-right: 0.425rem;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern .toggle-icon, [dir=rtl] .vertical-layout.vertical-menu-modern .collapse-toggle-icon {\n  margin-left: 0.425rem;\n}\n.vertical-layout.vertical-menu-modern .toggle-icon:focus, .vertical-layout.vertical-menu-modern .collapse-toggle-icon:focus {\n  outline: none;\n}\n@media (min-width: 992px) {\n.vertical-layout.vertical-menu-modern .main-menu {\n    width: 260px;\n}\n}\n@media (max-width: 1199.98px) {\n.vertical-layout.vertical-menu-modern .main-menu {\n    width: 0;\n}\n.vertical-layout.vertical-menu-modern .navbar .navbar-header {\n    width: 0;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern .content, [dir=ltr] .vertical-layout.vertical-menu-modern .footer {\n    margin-left: 0;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern .content, [dir=rtl] .vertical-layout.vertical-menu-modern .footer {\n    margin-right: 0;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .app-content, [dir=ltr] .vertical-layout.vertical-menu-modern.menu-collapsed .footer {\n    margin-left: 0;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .app-content, [dir=rtl] .vertical-layout.vertical-menu-modern.menu-collapsed .footer {\n    margin-right: 0;\n}\n.vertical-layout.vertical-menu-modern.menu-collapsed .main-menu {\n    width: 0;\n}\n}\n@media (max-width: 767.98px) {\n.vertical-layout.vertical-menu-modern .main-menu {\n    width: 0;\n}\n.vertical-layout.vertical-menu-modern .navbar .navbar-header {\n    width: 0;\n}\n[dir=ltr] .vertical-layout.vertical-menu-modern .content, [dir=ltr] .vertical-layout.vertical-menu-modern .footer {\n    margin-left: 0;\n}\n[dir=rtl] .vertical-layout.vertical-menu-modern .content, [dir=rtl] .vertical-layout.vertical-menu-modern .footer {\n    margin-right: 0;\n}\n}\n@keyframes fadein {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@keyframes fadeout {\nfrom {\n    opacity: 1;\n}\nto {\n    opacity: 0;\n}\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n[dir=ltr] .vertical-menu-modern.vertical-layout .main-menu .navigation > li > a > span {\n    animation: none;\n}\n[dir=rtl] .vertical-menu-modern.vertical-layout .main-menu .navigation > li > a > span {\n    animation: none;\n}\n}\n[dir=ltr] .vertical-overlay-menu .content {\n  margin-left: 0;\n}\n[dir=rtl] .vertical-overlay-menu .content {\n  margin-right: 0;\n}\n.vertical-overlay-menu .navbar .navbar-header {\n  width: 260px;\n}\n[dir=ltr] .vertical-overlay-menu .navbar .navbar-header {\n  float: left;\n}\n[dir=rtl] .vertical-overlay-menu .navbar .navbar-header {\n  float: right;\n}\n.vertical-overlay-menu .main-menu, .vertical-overlay-menu.menu-hide .main-menu {\n  opacity: 0;\n  transition: width 0.25s, opacity 0.25s, transform 0.25s;\n  width: 260px;\n}\n[dir] .vertical-overlay-menu .main-menu, [dir] .vertical-overlay-menu.menu-hide .main-menu {\n  transform: translate3d(0, 0, 0);\n}\n[dir=ltr] .vertical-overlay-menu .main-menu, [dir=ltr] .vertical-overlay-menu.menu-hide .main-menu {\n  left: -260px;\n}\n[dir=rtl] .vertical-overlay-menu .main-menu, [dir=rtl] .vertical-overlay-menu.menu-hide .main-menu {\n  right: -260px;\n}\n.vertical-overlay-menu .main-menu .navigation > li > a > svg, .vertical-overlay-menu .main-menu .navigation > li > a > i {\n  transition: 200ms ease all;\n  height: 20px;\n  width: 20px;\n}\n[dir=ltr] .vertical-overlay-menu .main-menu .navigation > li > a > svg, [dir=ltr] .vertical-overlay-menu .main-menu .navigation > li > a > i {\n  margin-right: 14px;\n  float: left;\n}\n[dir=rtl] .vertical-overlay-menu .main-menu .navigation > li > a > svg, [dir=rtl] .vertical-overlay-menu .main-menu .navigation > li > a > i {\n  margin-left: 14px;\n  float: right;\n}\n.vertical-overlay-menu .main-menu .navigation > li > a > svg:before, .vertical-overlay-menu .main-menu .navigation > li > a > i:before {\n  transition: 200ms ease all;\n  font-size: 1.429rem;\n}\n.vertical-overlay-menu .main-menu .navigation li.has-sub > a:after {\n  content: \"\";\n  height: 1rem;\n  width: 1rem;\n  display: inline-block;\n  position: absolute;\n  top: 14px;\n  transition: all 0.2s ease-out;\n}\n[dir] .vertical-overlay-menu .main-menu .navigation li.has-sub > a:after {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236e6b7b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-chevron-right'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 1rem;\n  transform: rotate(0deg);\n}\n[dir=ltr] .vertical-overlay-menu .main-menu .navigation li.has-sub > a:after {\n  right: 20px;\n}\n[dir=rtl] .vertical-overlay-menu .main-menu .navigation li.has-sub > a:after {\n  left: 20px;\n}\n[dir=ltr] .vertical-overlay-menu .main-menu .navigation li.has-sub.open:not(.menu-item-closing) > a:after {\n  transform: rotate(90deg);\n}\n[dir=rtl] .vertical-overlay-menu .main-menu .navigation li.has-sub.open:not(.menu-item-closing) > a:after {\n  transform: rotate(-90deg);\n}\n.vertical-overlay-menu .main-menu .navigation .navigation-header .feather-more-horizontal {\n  display: none;\n}\n.vertical-overlay-menu.menu-open .main-menu {\n  opacity: 1;\n  transition: width 0.25s, opacity 0.25s, transform 0.25s;\n}\n[dir=ltr] .vertical-overlay-menu.menu-open .main-menu {\n  transform: translate3d(260px, 0, 0);\n}\n[dir=rtl] .vertical-overlay-menu.menu-open .main-menu {\n  transform: translate3d(-260px, 0, 0);\n}",""]),e.exports=t},ZhGK:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-15.jpg"},aQeV:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/flags/pt.png"},bJpk:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r={};n.r(r),n.d(r,"can",(function(){return o})),n.d(r,"canViewVerticalNavMenuLink",(function(){return a})),n.d(r,"canViewVerticalNavMenuGroup",(function(){return c})),n.d(r,"canViewVerticalNavMenuHeader",(function(){return u})),n.d(r,"canViewHorizontalNavMenuLink",(function(){return l})),n.d(r,"canViewHorizontalNavMenuHeaderLink",(function(){return h})),n.d(r,"canViewHorizontalNavMenuGroup",(function(){return d})),n.d(r,"canViewHorizontalNavMenuHeaderGroup",(function(){return f}));var i=n("VTBJ"),s=(n("07d7"),n("7Ql6")),o=function(e,t){var n=Object(s.getCurrentInstance)().proxy;return!n.$can||n.$can(e,t)},a=function(e){return o(e.action,e.resource)},c=function(e){var t=e.children.some((function(e){return o(e.action,e.resource)}));return e.action&&e.resource?o(e.action,e.resource)&&t:t},u=function(e){return o(e.action,e.resource)},l=function(e){return o(e.action,e.resource)},h=function(e){return o(e.action,e.resource)},d=function(e){var t=e.children.some((function(e){return o(e.action,e.resource)}));return e.action&&e.resource?o(e.action,e.resource)&&t:t},f=function(e){var t=e.children.some((function(e){return e.children?d(e):l(e)}));return e.action&&e.resource?o(e.action,e.resource)&&t:t},p=function(){return Object(i.a)({},r)}},bfXO:function(e,t,n){"use strict";n("tkto"),n("FNk8");var r=n("7eWi"),i=n("nqqA"),s=n("9HyH"),o=n("6KOa"),a=[{action:"read",subject:"Auth"}],c=n("XTZb"),u=n("x3S0"),l={components:{BNavItemDropdown:r.a,BDropdownItem:i.a,BDropdownDivider:s.a,BAvatar:o.a},data:function(){return{userData:JSON.parse(localStorage.getItem("userData")),avatarText:u.a}},methods:{logout:function(){localStorage.removeItem(c.a.jwtConfig.storageTokenKeyName),localStorage.removeItem(c.a.jwtConfig.storageRefreshTokenKeyName),localStorage.removeItem("userData"),this.$ability.update(a),this.$router.push({name:"auth-login"})}}},h=n("KHd+"),d=Object(h.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav-item-dropdown",{staticClass:"dropdown-user",attrs:{right:"","toggle-class":"d-flex align-items-center dropdown-user-link"},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("div",{staticClass:"d-sm-flex d-none user-nav"},[n("p",{staticClass:"user-name font-weight-bolder mb-0"},[e._v("\n        "+e._s(e.userData.fullName||e.userData.username)+"\n      ")]),e._v(" "),n("span",{staticClass:"user-status"},[e._v(e._s(e.userData.role))])]),e._v(" "),n("b-avatar",{staticClass:"badge-minimal",attrs:{size:"40",src:e.userData.avatar,variant:"light-primary",badge:"","badge-variant":"success"}},[e.userData.fullName?e._e():n("feather-icon",{attrs:{icon:"UserIcon",size:"22"}})],1)]},proxy:!0}])},[e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"pages-profile"},"link-class":"d-flex align-items-center"}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"UserIcon"}}),e._v(" "),n("span",[e._v("Profile")])],1),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"apps-email"},"link-class":"d-flex align-items-center"}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"MailIcon"}}),e._v(" "),n("span",[e._v("Inbox")])],1),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"apps-todo"},"link-class":"d-flex align-items-center"}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"CheckSquareIcon"}}),e._v(" "),n("span",[e._v("Task")])],1),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"apps-chat"},"link-class":"d-flex align-items-center"}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"MessageSquareIcon"}}),e._v(" "),n("span",[e._v("Chat")])],1),e._v(" "),n("b-dropdown-divider"),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"pages-account-setting"},"link-class":"d-flex align-items-center"}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"SettingsIcon"}}),e._v(" "),n("span",[e._v("Settings")])],1),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"pages-pricing"},"link-class":"d-flex align-items-center"}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"CreditCardIcon"}}),e._v(" "),n("span",[e._v("Pricing")])],1),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"pages-faq"},"link-class":"d-flex align-items-center"}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"HelpCircleIcon"}}),e._v(" "),n("span",[e._v("FAQ")])],1),e._v(" "),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:e.logout}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"LogOutIcon"}}),e._v(" "),n("span",[e._v("Logout")])],1)],1)}),[],!1,null,null,null);t.a=d.exports},depu:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/flags/en.png"},eM76:function(e,t,n){"use strict";var r=n("7Ql6"),i=n("qlm0"),s=n("tvh2"),o={components:{BLink:i.a},setup:function(){var e=Object(r.ref)(null);return s.a.state.auth.user?e.value=s.a.state.auth.setting.app_short_description:e.value=window._setting.app_short_description,{store:s.a,app_short_description:e}}},a=n("KHd+"),c=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"clearfix mb-0"},[n("span",{staticClass:"float-md-left d-block d-md-inline-block mt-25"},[e._v("\n    COPYRIGHT  © "+e._s((new Date).getFullYear())+"\n    "),n("b-link",{staticClass:"ml-25",attrs:{href:"https://soft-dental.com",target:"_blank"}},[e._v("Soft-Dental")]),e._v(" "),n("span",{staticClass:"d-none d-sm-inline-block"},[e._v(", All rights Reserved")])],1),e._v(" "),n("span",{staticClass:"float-md-right d-none d-md-block"},[e._v(e._s(e.app_short_description)+"\n    "),n("feather-icon",{staticClass:"text-danger stroke-current",attrs:{icon:"HeartIcon",size:"21"}})],1)])}),[],!1,null,null,null);t.a=c.exports},f6Y5:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("z3V6"),c=Object(a.d)({tag:Object(a.c)(o.u,"div")},s.fb),u=Object(r.c)({name:s.fb,functional:!0,props:c,render:function(e,t){var n=t.props,r=t.data,s=t.children;return e(n.tag,Object(i.a)(r,{staticClass:"media-body"}),s)}})},fCVH:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));n("sMBO"),n("07d7");var r=n("fx5J"),i=n("u6Gj"),s=n("7Ql6"),o=function(e){return e.header?"vertical-nav-menu-header":e.children?"vertical-nav-menu-group":"vertical-nav-menu-link"},a=function(e){return e.children?"horizontal-nav-menu-group":"horizontal-nav-menu-link"},c=function(e){var t=r.a.currentRoute.matched,n=function(e){return Object(i.b)(e.route)?r.a.resolve(e.route).route.name:e.route}(e);return!!n&&t.some((function(e){return e.name===n||e.meta.navActiveLink===n}))},u=function e(t){var n=r.a.currentRoute.matched;return t.some((function(t){return t.children?e(t.children):c(t,n)}))},l=function(e){return Object(s.computed)((function(){var t={};return e.route?t.to="string"==typeof e.route?{name:e.route}:e.route:(t.href=e.href,t.target="_blank",t.rel="nofollow"),t.target||(t.target=e.target||null),t}))}},fDK0:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("z3V6");var c=Object(a.d)({right:Object(a.c)(o.g,!1),tag:Object(a.c)(o.u,"div"),verticalAlign:Object(a.c)(o.u,"top")},s.eb),u=Object(r.c)({name:s.eb,functional:!0,props:c,render:function(e,t){var n,r,s,o=t.props,a=t.data,c=t.children,u=o.verticalAlign,l="top"===u?"start":"bottom"===u?"end":u;return e(o.tag,Object(i.a)(a,{staticClass:"media-aside",class:(n={"media-aside-right":o.right},r="align-self-".concat(l),s=l,r in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n)}),c)}})},fVwk:function(e,t,n){var r=n("HlkT");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(e.exports=r.locals)},fe34:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("H9WU"),i=n("IuUc"),s=n("WJvL"),o=n("5pEQ");class a{constructor(e,t){this._delegate=e,this.firebase=t,Object(s._addComponent)(e,new i.a("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Object(s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Object(s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){Object(s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},u=new r.b("app-compat","Firebase",c);const l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if(Object(r.f)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&Object(r.j)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){if("serverAuth"===t)return null;return t},modularAPIs:s}};function i(e){if(e=e||s._DEFAULT_ENTRY_NAME,!Object(r.f)(t,e))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(r.j)(t,e)},createSubscribe:r.h,ErrorFactory:r.b,deepExtend:r.j}),t}(),h=new o.b("@firebase/app-compat");if(Object(r.n)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const d=l;var f;Object(s.registerVersion)("@firebase/app-compat","0.1.12",f)},gBsl:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r={};n.r(r),n.d(r,"t",(function(){return o})),n.d(r,"_",(function(){return a}));var i=n("VTBJ"),s=n("7Ql6"),o=function(e){var t=Object(s.getCurrentInstance)().proxy;return t.$t?t.$t(e):e},a=null,c=function(){return Object(i.a)({},r)}},iGPo:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"[dir] .customizer-section[data-v-01a9df5c] {\n  padding: 1.5rem;\n  border-bottom: 1px solid #ebe9f1;\n}\n[dir] .dark-layout .customizer-section[data-v-01a9df5c] {\n  border-color: #3b4253;\n}\n[dir=ltr] .customizer-section #skin-radio-group[data-v-01a9df5c]  .custom-control-inline {\n  margin-right: 0.7rem;\n}\n[dir=rtl] .customizer-section #skin-radio-group[data-v-01a9df5c]  .custom-control-inline {\n  margin-left: 0.7rem;\n}\n[dir] .customizer-section .form-group[data-v-01a9df5c] {\n  margin-bottom: 1.5rem;\n}\n[dir] .customizer-section .form-group[data-v-01a9df5c]:last-of-type {\n  margin-bottom: 0;\n}\n.customizer-section .form-group[data-v-01a9df5c]  legend {\n  font-weight: 500;\n}\n[dir] .mark-active[data-v-01a9df5c] {\n  box-shadow: 0 0 0 0.2rem rgba(38, 143, 255, 0.5);\n}\n.ps-customizer-area[data-v-01a9df5c] {\n  height: calc(100% - 83px);\n}",""]),e.exports=t},idat:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mS7b"),i=n("Iyau"),s=n("+nMp"),o=["ar","az","ckb","fa","he","ks","lrc","mzn","ps","sd","te","ug","ur","yi"].map((function(e){return e.toLowerCase()})),a=function(e){var t=Object(s.g)(e).toLowerCase().replace(r.x,"").split("-"),n=t.slice(0,2).join("-"),a=t[0];return Object(i.a)(o,n)||Object(i.a)(o,a)}},j2t6:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return sr})),n.d(t,"b",(function(){return ar})),n.d(t,"c",(function(){return or})),n.d(t,"d",(function(){return ur})),n.d(t,"e",(function(){return cr})),n.d(t,"f",(function(){return lr})),n.d(t,"g",(function(){return hr})),n.d(t,"h",(function(){return rr})),n.d(t,"i",(function(){return ir}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},s={},o=o||{},a=i||self;function c(){}function u(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function f(e,t,n){return e.call.apply(e.bind,arguments)}function p(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function m(e,t,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:p).apply(null,arguments)}function g(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function v(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function b(){this.s=this.s,this.o=this.o}var y={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,h)&&e[h]||(e[h]=++d)}(this);delete y[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function k(e){return Array.prototype.concat.apply([],arguments)}function I(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function O(e){return/^[\s\xa0]*$/.test(e)}var T,S=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function E(e,t){return-1!=e.indexOf(t)}function C(e,t){return e<t?-1:e>t?1:0}e:{var j=a.navigator;if(j){var A=j.userAgent;if(A){T=A;break e}}T=""}function x(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function P(e){return P[" "](e),e}P[" "]=c;var L,M,B=E(T,"Opera"),F=E(T,"Trident")||E(T,"MSIE"),U=E(T,"Edge"),V=U||F,q=E(T,"Gecko")&&!(E(T.toLowerCase(),"webkit")&&!E(T,"Edge"))&&!(E(T,"Trident")||E(T,"MSIE"))&&!E(T,"Edge"),H=E(T.toLowerCase(),"webkit")&&!E(T,"Edge");function z(){var e=a.document;return e?e.documentMode:void 0}e:{var $="",W=(M=T,q?/rv:([^\);]+)(\)|;)/.exec(M):U?/Edge\/([\d\.]+)/.exec(M):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(M):H?/WebKit\/(\S+)/.exec(M):B?/(?:Version)[ \/]?(\S+)/.exec(M):void 0);if(W&&($=W?W[1]:""),F){var K=z();if(null!=K&&K>parseFloat($)){L=String(K);break e}}L=$}var G,Y={};function X(){return function(e){var t=Y;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=S(String(L)).split("."),n=S("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=C(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||C(0==i[2].length,0==s[2].length)||C(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&F){var Q=z();G=Q||(parseInt(L,10)||void 0)}else G=void 0;var J=G,Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",c,t),a.removeEventListener("test",c,t)}catch(e){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(q){e:{try{P(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},v(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ie,this.ca=this.fa=!1}function oe(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ae(e){this.src=e,this.g={},this.h=0}function ce(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=w(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(oe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ue(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ae.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=ue(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new se(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),he={};function de(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);return null}return r=ye(r),t&&t[re]?t.O(n,r,l(i)?!!i.capture:!!i,s):fe(t,n,r,!0,i,s)}(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)de(e,t[s],n,r,i);return null}return n=ye(n),e&&e[re]?e.N(t,n,l(r)?!!r.capture:!!r,i):fe(e,t,n,!1,r,i)}function fe(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=l(i)?!!i.capture:!!i,a=ve(e);if(a||(e[le]=a=new ae(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=ge;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(me(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])ce(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(me(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ve(t))?(ce(n,e),0==n.h&&(n.src=null,t[le]=null)):oe(e)}}}function me(e){return e in he?he[e]:he[e]="on"+e}function ge(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&pe(e),e=n.call(r,t)}return e}function ve(e){return(e=e[le])instanceof ae?e:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(e){return"function"==typeof e?e:(e[be]||(e[be]=function(t){return e.handleEvent(t)}),e[be])}function we(){b.call(this),this.i=new ae(this),this.P=this,this.I=null}function _e(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var i=t;N(t=new ee(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ke(o,r,!0,t)&&i}if(i=ke(o=t.g=e,r,!0,t)&&i,i=ke(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ke(o=t.g=n[s],r,!1,t)&&i}function ke(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&ce(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}v(we,b),we.prototype[re]=!0,we.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);else i=l(i)?!!i.capture:!!i,r=ye(r),t&&t[re]?(t=t.i,(n=String(n).toString())in t.g&&(-1<(r=ue(o=t.g[n],r,i,s))&&(oe(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--)))):t&&(t=ve(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ue(n,r,i,s)),(r=-1<t?n[t]:null)&&pe(r))}(this,e,t,n,r)},we.prototype.M=function(){if(we.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oe(n[r]);delete t.g[e],t.h--}}this.I=null},we.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},we.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ie=a.JSON.stringify;function Oe(){var e=xe;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Te,Se=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ee,e=>e.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ce(e){a.setTimeout(()=>{throw e},0)}function je(e,t){Te||function(){var e=a.Promise.resolve(void 0);Te=function(){e.then(Re)}}(),Ae||(Te(),Ae=!0),xe.add(e,t)}var Ae=!1,xe=new class{constructor(){this.h=this.g=null}add(e,t){const n=Se.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Re(){for(var e;e=Oe();){try{e.h.call(e.g)}catch(e){Ce(e)}var t=Se;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ae=!1}function De(e,t){we.call(this),this.h=e||1,this.g=t||a,this.j=m(this.kb,this),this.l=Date.now()}function Ne(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Pe(e,t,n){if("function"==typeof e)n&&(e=m(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=m(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}v(De,we),(r=De.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_e(this,"tick"),this.da&&(Ne(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){De.Z.M.call(this),Ne(this),delete this.g};class Le extends b{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Pe(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);const n=t.h;t.h=null,t.m.apply(null,n)}(this)}M(){super.M(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(e){b.call(this),this.h=e,this.g={}}v(Me,b);var Be=[];function Fe(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var s=de(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ue(e){x(e.g,(function(e,t){this.g.hasOwnProperty(t)&&pe(e)}),e),e.g={}}function Ve(){this.g=!0}function qe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ie(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Me.prototype.M=function(){Me.Z.M.call(this),Ue(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ve.prototype.Aa=function(){this.g=!1},Ve.prototype.info=function(){};var He={},ze=null;function $e(){return ze=ze||new we}function We(e){ee.call(this,He.Ma,e)}function Ke(e){const t=$e();_e(t,new We(t,e))}function Ge(e,t){ee.call(this,He.STAT_EVENT,e),this.stat=t}function Ye(e){const t=$e();_e(t,new Ge(t,e))}function Xe(e,t){ee.call(this,He.Na,e),this.size=t}function Qe(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}He.Ma="serverreachability",v(We,ee),He.STAT_EVENT="statevent",v(Ge,ee),He.Na="timingevent",v(Xe,ee);var Je={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ze={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function et(){}function tt(e){return e.h||(e.h=e.i())}function nt(){}et.prototype.h=null;var rt,it={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function st(){ee.call(this,"d")}function ot(){ee.call(this,"c")}function at(){}function ct(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Me(this),this.P=lt,e=V?125:void 0,this.W=new De(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}v(st,ee),v(ot,ee),v(at,et),at.prototype.g=function(){return new XMLHttpRequest},at.prototype.i=function(){return{}},rt=new at;var lt=45e3,ht={},dt={};function ft(e,t,n){e.K=1,e.v=Lt(At(t)),e.s=n,e.U=!0,pt(e,null)}function pt(e,t){e.F=Date.now(),bt(e),e.A=At(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Yt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ut,e.g=Xn(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Le(m(e.Ia,e,e.g),e.O)),Fe(e.V,e.g,"readystatechange",e.gb),t=e.H?R(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ke(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function mt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function gt(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=vt(e,n),r==dt){4==t&&(e.o=4,Ye(14),i=!1),qe(e.j,e.m,null,"[Incomplete Response]");break}if(r==ht){e.o=4,Ye(15),qe(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qe(e.j,e.m,r,null),It(e,r)}mt(e)&&r!=dt&&r!=ht&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ye(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),qn(t),t.L=!0,Ye(11))):(qe(e.j,e.m,n,"[Invalid Chunked Response]"),kt(e),_t(e))}function vt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dt:(n=Number(t.substring(n,r)),isNaN(n)?ht:(r+=1)+n>t.length?dt:(t=t.substr(r,n),e.C=r+n,t))}function bt(e){e.Y=Date.now()+e.P,yt(e,e.P)}function yt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Qe(m(e.eb,e),t)}function wt(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function _t(e){0==e.l.G||e.I||$n(e.l,e)}function kt(e){wt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ne(e.W),Ue(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function It(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||tn(n.i,e)))if(n.I=e.N,!e.J&&tn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;zn(n),Dn(n)}Vn(n),Ye(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Qe(m(n.ab,n),6e3));if(1>=en(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else Kn(n,11)}else if((e.J||n.g==e)&&zn(n),!O(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(E(e,"spdy")||E(e,"quic")||E(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(nn(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Pt(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Yn(r,r.H?r.la:null,r.W),o.J){rn(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(wt(a),bt(a)),r.g=o}else Un(r);0<n.l.length&&Ln(n)}else"stop"!=u[0]&&"close"!=u[0]||Kn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Kn(n,7):Rn(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Ke(4)}catch(e){}}function Ot(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(u(e)||"string"==typeof e)_(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(u(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(u(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Tt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Tt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function St(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Et(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Et(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ct.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;const t=this.L;t&&3==En(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{const h=En(this.g);var t=this.g.Da();const d=this.g.ba();if(!(3>h)&&(3!=h||V||this.g&&(this.h.h||this.g.ga()||Cn(this.g)))){this.I||4!=h||7==t||Ke(8==t||0>=d?3:2),wt(this);var n=this.g.ba();this.N=n;t:if(mt(this)){var r=Cn(this.g);e="";var i=r.length,s=4==En(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){kt(this),_t(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,h,n),this.i){if(this.$&&!this.J){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(c)){var l=c;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Ye(12),kt(this),_t(this);break e}qe(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,It(this,n)}this.U?(gt(this,h,o),V&&this.i&&3==h&&(Fe(this.V,this.W,"tick",this.fb),this.W.start())):(qe(this.j,this.m,o,null),It(this,o)),4==h&&kt(this),this.i&&!this.I&&(4==h?$n(this.l,this):(this.i=!1,bt(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ye(12)):(this.o=0,Ye(13)),kt(this),_t(this)}}}catch(e){}},r.fb=function(){if(this.g){var e=En(this.g),t=this.g.ga();this.C<t.length&&(wt(this),gt(this,e,t),this.i&&4!=e&&bt(this))}},r.cancel=function(){this.I=!0,kt(this)},r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ke(3),Ye(17)),kt(this),this.o=2,_t(this)):yt(this,this.Y-e)},(r=Tt.prototype).R=function(){St(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return St(this),this.g.concat()},r.get=function(e,t){return Et(this.h,e)?this.h[e]:t},r.set=function(e,t){Et(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Ct=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jt){this.g=void 0!==t?t:e.g,xt(this,e.j),this.s=e.s,Rt(this,e.i),Dt(this,e.m),this.l=e.l,t=e.h;var n=new $t;n.i=t.i,t.g&&(n.g=new Tt(t.g),n.h=t.h),Nt(this,n),this.o=e.o}else e&&(n=String(e).match(Ct))?(this.g=!!t,xt(this,n[1]||"",!0),this.s=Mt(n[2]||""),Rt(this,n[3]||"",!0),Dt(this,n[4]),this.l=Mt(n[5]||"",!0),Nt(this,n[6]||"",!0),this.o=Mt(n[7]||"")):(this.g=!!t,this.h=new $t(null,this.g))}function At(e){return new jt(e)}function xt(e,t,n){e.j=n?Mt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rt(e,t,n){e.i=n?Mt(t,!0):t}function Dt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nt(e,t,n){t instanceof $t?(e.h=t,function(e,t){t&&!e.j&&(Wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Kt(this,t),Yt(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Bt(t,Ht)),e.h=new $t(t,e.g))}function Pt(e,t,n){e.h.set(t,n)}function Lt(e){return Pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bt(t,Ut,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bt(t,Ut,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?qt:Vt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bt(n,zt)),e.join("")};var Ut=/[#\/\?@]/g,Vt=/[#\?:]/g,qt=/[#\?]/g,Ht=/[#\?@]/g,zt=/#/g;function $t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wt(e){e.g||(e.g=new Tt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Kt(e,t){Wt(e),t=Xt(e,t),Et(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Et((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&St(e)))}function Gt(e,t){return Wt(e),t=Xt(e,t),Et(e.g.h,t)}function Yt(e,t,n){Kt(e,t),0<n.length&&(e.i=null,e.g.set(Xt(e,t),I(n)),e.h+=n.length)}function Xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=$t.prototype).add=function(e,t){Wt(this),this.i=null,e=Xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Wt(this),this.g.forEach((function(n,r){_(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){Wt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},r.R=function(e){Wt(this);var t=[];if("string"==typeof e)Gt(this,e)&&(t=k(t,this.g.get(Xt(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=k(t,e[n])}return t},r.set=function(e,t){return Wt(this),this.i=null,Gt(this,e=Xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};function Qt(e){this.l=e||Jt,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.g&&a.g.Ea&&a.g.Ea()&&a.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jt=10;function Zt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function en(e){return e.h?1:e.g?e.g.size:0}function tn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nn(e,t){e.g?e.g.add(t):e.h=t}function rn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return I(e.i)}function on(){}function an(){this.g=new on}function cn(e,t,n){const r=n||"";try{Ot(e,(function(e,n){let i=e;l(e)&&(i=Ie(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function un(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function ln(e){this.l=e.$b||null,this.j=e.ib||!1}function hn(e,t){we.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qt.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},on.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},on.prototype.parse=function(e){return a.JSON.parse(e,void 0)},v(ln,et),ln.prototype.g=function(){return new hn(this.l,this.j)},ln.prototype.i=function(e){return function(){return e}}({}),v(hn,we);var dn=0;function fn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function pn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,mn(e)}function mn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=hn.prototype).open=function(e,t){if(this.readyState!=dn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,mn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pn(this)),this.readyState=dn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pn(this):mn(this),3==this.readyState&&fn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,pn(this))},r.Ta=function(e){this.g&&(this.response=e,pn(this))},r.ha=function(){this.g&&pn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gn=a.JSON.parse;function vn(e){we.call(this),this.headers=new Tt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bn,this.K=this.L=!1}v(vn,we);var bn="",yn=/^https?$/i,wn=["POST","PUT"];function _n(e){return"content-type"==e.toLowerCase()}function kn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,In(e),Tn(e)}function In(e){e.D||(e.D=!0,_e(e,"complete"),_e(e,"error"))}function On(e){if(e.h&&void 0!==o&&(!e.C[1]||4!=En(e)||2!=e.ba()))if(e.v&&4==En(e))Pe(e.Fa,0,e);else if(_e(e,"readystatechange"),4==En(e)){e.h=!1;try{const o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.H).match(Ct)[1]||null;if(!i&&a.self&&a.self.location){var s=a.self.location.protocol;i=s.substr(0,s.length-1)}r=!yn.test(i?i.toLowerCase():"")}n=r}if(n)_e(e,"complete"),_e(e,"success");else{e.m=6;try{var c=2<En(e)?e.g.statusText:""}catch(e){c=""}e.j=c+" ["+e.ba()+"]",In(e)}}finally{Tn(e)}}}function Tn(e,t){if(e.g){Sn(e);const n=e.g,r=e.C[0]?c:null;e.g=null,e.C=null,t||_e(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Sn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(a.clearTimeout(e.A),e.A=null)}function En(e){return e.g?e.g.readyState:0}function Cn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case bn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return x(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Pt(e,t,n))}function An(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xn(e){this.za=0,this.l=[],this.h=new Ve,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=An("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=An("baseRetryDelayMs",5e3,e),this.$a=An("retryDelaySeedMs",1e4,e),this.Ya=An("forwardChannelMaxRetries",2,e),this.ra=An("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qt(e&&e.concurrentRequestLimit),this.Ca=new an,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Rn(e){if(Nn(e),3==e.G){var t=e.V++,n=At(e.F);Pt(n,"SID",e.J),Pt(n,"RID",t),Pt(n,"TYPE","terminate"),Bn(e,n),(t=new ct(e,e.h,t,void 0)).K=2,t.v=Lt(At(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.v.toString(),"")),!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xn(t.l,null),t.g.ea(t.v)),t.F=Date.now(),bt(t)}Gn(e)}function Dn(e){e.g&&(qn(e),e.g.cancel(),e.g=null)}function Nn(e){Dn(e),e.u&&(a.clearTimeout(e.u),e.u=null),zn(e),e.i.cancel(),e.m&&("number"==typeof e.m&&a.clearTimeout(e.m),e.m=null)}function Pn(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Ln(e)}function Ln(e){Zt(e.i)||e.m||(e.m=!0,je(e.Ha,e),e.C=0)}function Mn(e,t){var n;n=t?t.m:e.V++;const r=At(e.F);Pt(r,"SID",e.J),Pt(r,"RID",n),Pt(r,"AID",e.U),Bn(e,r),e.o&&e.s&&jn(r,e.o,e.s),n=new ct(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Fn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),nn(e.i,n),ft(n,r,t)}function Bn(e,t){e.j&&Ot({},(function(e,n){Pt(t,n,e)}))}function Fn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?m(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{cn(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Un(e){e.g||e.u||(e.Y=1,je(e.Ga,e),e.A=0)}function Vn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Qe(m(e.Ga,e),Wn(e,e.A)),e.A++,!0)}function qn(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function Hn(e){e.g=new ct(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=At(e.oa);Pt(t,"RID","rpc"),Pt(t,"SID",e.J),Pt(t,"CI",e.N?"0":"1"),Pt(t,"AID",e.U),Bn(e,t),Pt(t,"TYPE","xmlhttp"),e.o&&e.s&&jn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Lt(At(t)),n.s=null,n.U=!0,pt(n,e)}function zn(e){null!=e.v&&(a.clearTimeout(e.v),e.v=null)}function $n(e,t){var n=null;if(e.g==t){zn(e),qn(e),e.g=null;var r=2}else{if(!tn(e.i,t))return;n=t.D,rn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;_e(r=$e(),new Xe(r,n,t,i)),Ln(e)}else Un(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(en(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Qe(m(e.Ha,e,t),Wn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Kn(e,5);break;case 4:Kn(e,10);break;case 3:Kn(e,6);break;default:Kn(e,2)}}function Wn(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Kn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=m(e.jb,e);n||(n=new jt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||xt(n,"https"),Lt(n)),function(e,t){const n=new Ve;if(a.Image){const r=new Image;r.onload=g(un,n,r,"TestLoadImage: loaded",!0,t),r.onerror=g(un,n,r,"TestLoadImage: error",!1,t),r.onabort=g(un,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=g(un,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ye(2);e.G=0,e.j&&e.j.va(t),Gn(e),Nn(e)}function Gn(e){e.G=0,e.I=-1,e.j&&(0==sn(e.i).length&&0==e.l.length||(e.i.i.length=0,I(e.l),e.l.length=0),e.j.ua())}function Yn(e,t,n){let r=function(e){return e instanceof jt?At(e):new jt(e,void 0)}(n);if(""!=r.i)t&&Rt(r,t+"."+r.i),Dt(r,r.m);else{const e=a.location;r=function(e,t,n,r){var i=new jt(null,void 0);return e&&xt(i,e),t&&Rt(i,t),n&&Dt(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&x(e.aa,(function(e,t){Pt(r,t,e)})),t=e.D,n=e.sa,t&&n&&Pt(r,t,n),Pt(r,"VER",e.ma),Bn(e,r),r}function Xn(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new vn(new ln({ib:!0})):new vn(e.qa)).L=e.H,t}function Qn(){}function Jn(){if(F&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Zn(e,t){we.call(this),this.g=new xn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!O(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new nr(this)}function er(e){st.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tr(){ot.call(this),this.status=1}function nr(e){this.g=e}(r=vn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rt.g(),this.C=this.u?tt(this.u):tt(rt),this.g.onreadystatechange=m(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void kn(this,e)}e=n||"";const i=new Tt(this.headers);r&&Ot(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=_n;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=a.FormData&&e instanceof a.FormData,!(0<=w(wn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sn(this),0<this.B&&((this.K=function(e){return F&&X()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=m(this.pa,this)):this.A=Pe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){kn(this,e)}},r.pa=function(){void 0!==o&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_e(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,_e(this,"complete"),_e(this,"abort"),Tn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tn(this,!0)),vn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?On(this):this.cb())},r.cb=function(){On(this)},r.ba=function(){try{return 2<En(this)?this.g.status:-1}catch(e){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=xn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new ct(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=R(s),N(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Fn(this,i,t),Pt(n=At(this.F),"RID",e),Pt(n,"CVER",22),this.D&&Pt(n,"X-HTTP-Session-Id",this.D),Bn(this,n),this.o&&s&&jn(n,this.o,s),nn(this.i,i),this.Ra&&Pt(n,"TYPE","init"),this.ja?(Pt(n,"$req",t),Pt(n,"SID","null"),i.$=!0,ft(i,n,null)):ft(i,n,t),this.G=2}}else 3==this.G&&(e?Mn(this,e):0==this.l.length||Zt(this.i)||Mn(this))},r.Ga=function(){if(this.u=null,Hn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Qe(m(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ye(10),Dn(this),Hn(this))},r.ab=function(){null!=this.v&&(this.v=null,Dn(this),Vn(this),Ye(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ye(2)):(this.h.info("Failed to ping google.com"),Ye(1))},(r=Qn.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},Jn.prototype.g=function(e,t){return new Zn(e,t)},v(Zn,we),Zn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),je(m(e.hb,e,t))),Ye(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Yn(e,null,e.W),Ln(e)},Zn.prototype.close=function(){Rn(this.g)},Zn.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Pn(this.g,t)}else this.v?((t={}).__data__=Ie(e),Pn(this.g,t)):Pn(this.g,e)},Zn.prototype.M=function(){this.g.j=null,delete this.j,Rn(this.g),delete this.g,Zn.Z.M.call(this)},v(er,st),v(tr,ot),v(nr,Qn),nr.prototype.xa=function(){_e(this.g,"a")},nr.prototype.wa=function(e){_e(this.g,new er(e))},nr.prototype.va=function(e){_e(this.g,new tr(e))},nr.prototype.ua=function(){_e(this.g,"b")},Jn.prototype.createWebChannel=Jn.prototype.g,Zn.prototype.send=Zn.prototype.u,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,Ze.COMPLETE="complete",nt.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",we.prototype.listen=we.prototype.N,vn.prototype.listenOnce=vn.prototype.O,vn.prototype.getLastError=vn.prototype.La,vn.prototype.getLastErrorCode=vn.prototype.Da,vn.prototype.getStatus=vn.prototype.ba,vn.prototype.getResponseJson=vn.prototype.Qa,vn.prototype.getResponseText=vn.prototype.ga,vn.prototype.send=vn.prototype.ea;var rr=s.createWebChannelTransport=function(){return new Jn},ir=s.getStatEventTarget=function(){return $e()},sr=s.ErrorCode=Je,or=s.EventType=Ze,ar=s.Event=He,cr=s.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ur=s.FetchXmlHttpFactory=ln,lr=s.WebChannel=nt,hr=s.XhrIo=vn}).call(this,n("yLpj"))},k6qm:function(e,t,n){"use strict";n.d(t,"b",(function(){return B})),n.d(t,"a",(function(){return F}));var r,i=n("L3ns"),s=n("xjcK"),o=n("AFYn"),a=n("pyNs"),c=n("m/oX"),u=n("m3aq"),l=n("Iyau"),h=n("kGy3"),d=n("a3f1"),f=n("bAY6"),p=n("ex6f"),m=n("idat"),g=n("qMhD"),v=n("WPLV"),b=n("OljW"),y=n("2C+6"),w=n("z3V6"),_=n("+nMp"),k=n("STsD"),I=n("rUdO"),O=n("1SAT"),T=n("kO/s"),S=n("jBgq"),E=n("3ec0"),C=n("c4aD");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=Object(v.a)("value",{type:a.h}),D=R.mixin,N=R.props,P=R.prop,L=R.event,M=[c.m,c.c,c.g,c.d,c.j,c.i],B=Object(w.d)(Object(y.m)(A(A(A(A(A(A({},T.b),N),Object(y.j)(E.b,["required","autofocus"])),I.b),O.b),{},{ariaControls:Object(w.c)(a.u),ariaLabel:Object(w.c)(a.u),formatterFn:Object(w.c)(a.l),inline:Object(w.c)(a.g,!1),labelDecrement:Object(w.c)(a.u,"Decrement"),labelIncrement:Object(w.c)(a.u,"Increment"),locale:Object(w.c)(a.f),max:Object(w.c)(a.p,100),min:Object(w.c)(a.p,1),placeholder:Object(w.c)(a.u),readonly:Object(w.c)(a.g,!1),repeatDelay:Object(w.c)(a.p,500),repeatInterval:Object(w.c)(a.p,100),repeatStepMultiplier:Object(w.c)(a.p,4),repeatThreshold:Object(w.c)(a.p,10),step:Object(w.c)(a.p,1),vertical:Object(w.c)(a.g,!1),wrap:Object(w.c)(a.g,!1)})),s.L),F=Object(i.c)({name:s.L,mixins:[k.a,T.a,D,I.a,O.a,S.a],inheritAttrs:!1,props:B,data:function(){return{localValue:Object(b.a)(this[P],null),hasFocus:!1}},computed:{required:function(){return!1},spinId:function(){return this.safeId()},computedInline:function(){return this.inline&&!this.vertical},computedReadonly:function(){return this.readonly&&!this.disabled},computedRequired:function(){return this.required&&!this.computedReadonly&&!this.disabled},computedStep:function(){return Object(b.a)(this.step,1)},computedMin:function(){return Object(b.a)(this.min,1)},computedMax:function(){var e=Object(b.a)(this.max,100),t=this.computedStep,n=this.computedMin;return Object(g.b)((e-n)/t)*t+n},computedDelay:function(){var e=Object(b.b)(this.repeatDelay,0);return e>0?e:500},computedInterval:function(){var e=Object(b.b)(this.repeatInterval,0);return e>0?e:100},computedThreshold:function(){return Object(g.c)(Object(b.b)(this.repeatThreshold,10),1)},computedStepMultiplier:function(){return Object(g.c)(Object(b.b)(this.repeatStepMultiplier,4),1)},computedPrecision:function(){var e=this.computedStep;return Object(g.b)(e)===e?0:(e.toString().split(".")[1]||"").length},computedMultiplier:function(){return Object(g.e)(10,this.computedPrecision||0)},valueAsFixed:function(){var e=this.localValue;return Object(p.g)(e)?"":e.toFixed(this.computedPrecision)},computedLocale:function(){var e=Object(l.b)(this.locale).filter(f.a);return new Intl.NumberFormat(e).resolvedOptions().locale},computedRTL:function(){return Object(m.a)(this.computedLocale)},defaultFormatter:function(){var e=this.computedPrecision;return new Intl.NumberFormat(this.computedLocale,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:e,maximumFractionDigits:e,notation:"standard"}).format},computedFormatter:function(){var e=this.formatterFn;return Object(w.b)(e)?e:this.defaultFormatter},computedAttrs:function(){return A(A({},this.bvAttrs),{},{role:"group",lang:this.computedLocale,tabindex:this.disabled?null:"-1",title:this.ariaLabel})},computedSpinAttrs:function(){var e=this.spinId,t=this.localValue,n=this.computedRequired,r=this.disabled,i=this.state,s=this.computedFormatter,o=!Object(p.g)(t);return A(A({dir:this.computedRTL?"rtl":"ltr"},this.bvAttrs),{},{id:e,role:"spinbutton",tabindex:r?null:"0","aria-live":"off","aria-label":this.ariaLabel||null,"aria-controls":this.ariaControls||null,"aria-invalid":!1===i||!o&&n?"true":null,"aria-required":n?"true":null,"aria-valuemin":Object(_.g)(this.computedMin),"aria-valuemax":Object(_.g)(this.computedMax),"aria-valuenow":o?t:null,"aria-valuetext":o?s(t):null})}},watch:(r={},x(r,P,(function(e){this.localValue=Object(b.a)(e,null)})),x(r,"localValue",(function(e){this.$emit(L,e)})),x(r,"disabled",(function(e){e&&this.clearRepeat()})),x(r,"readonly",(function(e){e&&this.clearRepeat()})),r),created:function(){this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null,this.$_keyIsDown=!1},beforeDestroy:function(){this.clearRepeat()},deactivated:function(){this.clearRepeat()},methods:{focus:function(){this.disabled||Object(h.d)(this.$refs.spinner)},blur:function(){this.disabled||Object(h.c)(this.$refs.spinner)},emitChange:function(){this.$emit(o.d,this.localValue)},stepValue:function(e){var t=this.localValue;if(!this.disabled&&!Object(p.g)(t)){var n=this.computedStep*e,r=this.computedMin,i=this.computedMax,s=this.computedMultiplier,o=this.wrap;t=Object(g.f)((t-r)/n)*n+r+n,t=Object(g.f)(t*s)/s,this.localValue=t>i?o?r:i:t<r?o?i:r:t}},onFocusBlur:function(e){this.hasFocus=!this.disabled&&"focus"===e.type},stepUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.localValue;Object(p.g)(t)?this.localValue=this.computedMin:this.stepValue(1*e)},stepDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.localValue;Object(p.g)(t)?this.localValue=this.wrap?this.computedMax:this.computedMin:this.stepValue(-1*e)},onKeydown:function(e){var t=e.keyCode,n=e.altKey,r=e.ctrlKey,i=e.metaKey;if(!(this.disabled||this.readonly||n||r||i)&&Object(l.a)(M,t)){if(Object(d.f)(e,{propagation:!1}),this.$_keyIsDown)return;this.resetTimers(),Object(l.a)([c.m,c.c],t)?(this.$_keyIsDown=!0,t===c.m?this.handleStepRepeat(e,this.stepUp):t===c.c&&this.handleStepRepeat(e,this.stepDown)):t===c.j?this.stepUp(this.computedStepMultiplier):t===c.i?this.stepDown(this.computedStepMultiplier):t===c.g?this.localValue=this.computedMin:t===c.d&&(this.localValue=this.computedMax)}},onKeyup:function(e){var t=e.keyCode,n=e.altKey,r=e.ctrlKey,i=e.metaKey;this.disabled||this.readonly||n||r||i||Object(l.a)(M,t)&&(Object(d.f)(e,{propagation:!1}),this.resetTimers(),this.$_keyIsDown=!1,this.emitChange())},handleStepRepeat:function(e,t){var n=this,r=e||{},i=r.type,s=r.button;if(!this.disabled&&!this.readonly){if("mousedown"===i&&s)return;this.resetTimers(),t(1);var o=this.computedThreshold,a=this.computedStepMultiplier,c=this.computedDelay,u=this.computedInterval;this.$_autoDelayTimer=setTimeout((function(){var e=0;n.$_autoRepeatTimer=setInterval((function(){t(e<o?1:a),e++}),u)}),c)}},onMouseup:function(e){var t=e||{},n=t.type,r=t.button;"mouseup"===n&&r||(Object(d.f)(e,{propagation:!1}),this.resetTimers(),this.setMouseup(!1),this.emitChange())},setMouseup:function(e){try{Object(d.c)(e,document.body,"mouseup",this.onMouseup,!1),Object(d.c)(e,document.body,"touchend",this.onMouseup,!1)}catch(e){}},resetTimers:function(){clearTimeout(this.$_autoDelayTimer),clearInterval(this.$_autoRepeatTimer),this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null},clearRepeat:function(){this.resetTimers(),this.setMouseup(!1),this.$_keyIsDown=!1}},render:function(e){var t=this,n=this.spinId,r=this.localValue,i=this.computedInline,s=this.computedReadonly,o=this.vertical,a=this.disabled,c=this.computedFormatter,l=!Object(p.g)(r),f=function(r,i,c,u,l,f,p){var m=e(c,{props:{scale:t.hasFocus?1.5:1.25},attrs:{"aria-hidden":"true"}}),g={hasFocus:t.hasFocus},v=function(e){a||s||(Object(d.f)(e,{propagation:!1}),t.setMouseup(!0),Object(h.d)(e.currentTarget),t.handleStepRepeat(e,r))};return e("button",{staticClass:"btn btn-sm border-0 rounded-0",class:{"py-0":!o},attrs:{tabindex:"-1",type:"button",disabled:a||s||f,"aria-disabled":a||s||f?"true":null,"aria-controls":n,"aria-label":i||null,"aria-keyshortcuts":l||null},on:{mousedown:v,touchstart:v},key:u||null,ref:u},[t.normalizeSlot(p,g)||m])},m=f(this.stepUp,this.labelIncrement,C.i,"inc","ArrowUp",!1,u.v),g=f(this.stepDown,this.labelDecrement,C.g,"dec","ArrowDown",!1,u.h),v=e();this.name&&!a&&(v=e("input",{attrs:{type:"hidden",name:this.name,form:this.form||null,value:this.valueAsFixed},key:"hidden"}));var b=e("output",{staticClass:"flex-grow-1",class:{"d-flex":o,"align-self-center":!o,"align-items-center":o,"border-top":o,"border-bottom":o,"border-left":!o,"border-right":!o},attrs:this.computedSpinAttrs,key:"output",ref:"spinner"},[e("bdi",l?c(r):this.placeholder||"")]);return e("div",{staticClass:"b-form-spinbutton form-control",class:[{disabled:a,readonly:s,focus:this.hasFocus,"d-inline-flex":i||o,"d-flex":!i&&!o,"align-items-stretch":!o,"flex-column":o},this.sizeFormClass,this.stateClass],attrs:this.computedAttrs,on:{keydown:this.onKeydown,keyup:this.onKeyup,"!focus":this.onFocusBlur,"!blur":this.onFocusBlur}},o?[m,v,b,g]:[g,v,b,m])}})},la6Y:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return A}));var r=n("8L3F"),i=n("L3ns"),s=n("xjcK"),o=n("6GPe"),a=n("AFYn"),c=n("m/oX"),u=n("pyNs"),l=n("yoge"),h=n("bUBZ"),d=n("kGy3"),f=n("a3f1"),p=n("ex6f"),m=n("2C+6"),g=n("z3V6"),v=n("aGvM"),b=Object(i.c)({data:function(){return{listenForClickOut:!1}},watch:{listenForClickOut:function(e,t){e!==t&&(Object(f.a)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,a.Y),e&&Object(f.b)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,a.Y))}},beforeCreate:function(){this.clickOutElement=null,this.clickOutEventName=null},mounted:function(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="click"),this.listenForClickOut&&Object(f.b)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,a.Y)},beforeDestroy:function(){Object(f.a)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,a.Y)},methods:{isClickOut:function(e){return!Object(d.f)(this.$el,e.target)},_clickOutHandler:function(e){this.clickOutHandler&&this.isClickOut(e)&&this.clickOutHandler(e)}}}),y=Object(i.c)({data:function(){return{listenForFocusIn:!1}},watch:{listenForFocusIn:function(e,t){e!==t&&(Object(f.a)(this.focusInElement,"focusin",this._focusInHandler,a.Y),e&&Object(f.b)(this.focusInElement,"focusin",this._focusInHandler,a.Y))}},beforeCreate:function(){this.focusInElement=null},mounted:function(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&Object(f.b)(this.focusInElement,"focusin",this._focusInHandler,a.Y)},beforeDestroy:function(){Object(f.a)(this.focusInElement,"focusin",this._focusInHandler,a.Y)},methods:{_focusInHandler:function(e){this.focusInHandler&&this.focusInHandler(e)}}}),w=n("kO/s"),_=n("YC3Q"),k=n("c/jM");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=Object(f.e)(s.w,a.T),E=Object(f.e)(s.w,a.w),C=[".dropdown-item",".b-dropdown-form"].map((function(e){return"".concat(e,":not(.disabled):not([disabled])")})).join(", "),j=Object(g.d)(Object(m.m)(O(O({},w.b),{},{boundary:Object(g.c)([l.c,u.u],"scrollParent"),disabled:Object(g.c)(u.g,!1),dropleft:Object(g.c)(u.g,!1),dropright:Object(g.c)(u.g,!1),dropup:Object(g.c)(u.g,!1),noFlip:Object(g.c)(u.g,!1),offset:Object(g.c)(u.p,0),popperOpts:Object(g.c)(u.q,{}),right:Object(g.c)(u.g,!1)})),s.w),A=Object(i.c)({mixins:[w.a,_.a,b,y],provide:function(){var e=this;return{getBvDropdown:function(){return e}}},inject:{getBvNavbar:{default:function(){return function(){return null}}}},props:j,data:function(){return{visible:!1,visibleChangePrevented:!1}},computed:{bvNavbar:function(){return this.getBvNavbar()},inNavbar:function(){return!Object(p.g)(this.bvNavbar)},toggler:function(){var e=this.$refs.toggle;return e?e.$el||e:null},directionClass:function(){return this.dropup?"dropup":this.dropright?"dropright":this.dropleft?"dropleft":""},boundaryClass:function(){return"scrollParent"===this.boundary||this.inNavbar?"":"position-static"},hideDelay:function(){return this.inNavbar?o.e?300:50:0}},watch:{visible:function(e,t){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(e!==t){var n=e?a.S:a.x,r=new h.a(n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null,componentId:this.safeId?this.safeId():this.id||null});if(this.emitEvent(r),r.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=t,void this.$off(a.w,this.focusToggler);e?this.showMenu():this.hideMenu()}},disabled:function(e,t){e!==t&&e&&this.visible&&(this.visible=!1)}},created:function(){this.$_popper=null,this.$_hideTimeout=null},deactivated:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},mounted:function(){Object(k.b)(this.$el,this)},beforeDestroy:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper(),this.clearHideTimeout(),Object(k.c)(this.$el)},methods:{emitEvent:function(e){var t=e.type;this.emitOnRoot(Object(f.e)(s.w,t),e),this.$emit(t,e)},showMenu:function(){var e=this;if(!this.disabled){if(!this.inNavbar)if(void 0===r.a)Object(v.a)("Popper.js not found. Falling back to CSS positioning",s.w);else{var t=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;t=t.$el||t,this.createPopper(t)}this.emitOnRoot(S,this),this.whileOpenListen(!0),this.$nextTick((function(){e.focusMenu(),e.$emit(a.T)}))}},hideMenu:function(){this.whileOpenListen(!1),this.emitOnRoot(E,this),this.$emit(a.w),this.destroyPopper()},createPopper:function(e){this.destroyPopper(),this.$_popper=new r.a(e,this.$refs.menu,this.getPopperConfig())},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){try{this.$_popper.scheduleUpdate()}catch(e){}},clearHideTimeout:function(){clearTimeout(this.$_hideTimeout),this.$_hideTimeout=null},getPopperConfig:function(){var e="bottom-start";this.dropup?e=this.right?"top-end":"top-start":this.dropright?e="right-start":this.dropleft?e="left-start":this.right&&(e="bottom-end");var t={placement:e,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}},n=this.boundary;return n&&(t.modifiers.preventOverflow={boundariesElement:n}),Object(m.i)(t,this.popperOpts||{})},whileOpenListen:function(e){this.listenForClickOut=e,this.listenForFocusIn=e,this[e?"listenOnRoot":"listenOffRoot"](S,this.rootCloseListener)},rootCloseListener:function(e){e!==this&&(this.visible=!1)},show:function(){var e=this;this.disabled||Object(d.B)((function(){e.visible=!0}))},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.visible=!1,e&&this.$once(a.w,this.focusToggler))},toggle:function(e){var t=e=e||{},n=t.type,r=t.keyCode;("click"===n||"keydown"===n&&-1!==[c.e,c.l,c.c].indexOf(r))&&(this.disabled?this.visible=!1:(this.$emit(a.W,e),Object(f.f)(e),this.visible?this.hide(!0):this.show()))},onMousedown:function(e){Object(f.f)(e,{propagation:!1})},onKeydown:function(e){var t=e.keyCode;t===c.f?this.onEsc(e):t===c.c?this.focusNext(e,!1):t===c.m&&this.focusNext(e,!0)},onEsc:function(e){this.visible&&(this.visible=!1,Object(f.f)(e),this.$once(a.w,this.focusToggler))},onSplitClick:function(e){this.disabled?this.visible=!1:this.$emit(a.f,e)},hideHandler:function(e){var t=this,n=e.target;!this.visible||Object(d.f)(this.$refs.menu,n)||Object(d.f)(this.toggler,n)||(this.clearHideTimeout(),this.$_hideTimeout=setTimeout((function(){return t.hide()}),this.hideDelay))},clickOutHandler:function(e){this.hideHandler(e)},focusInHandler:function(e){this.hideHandler(e)},focusNext:function(e,t){var n=this,r=e.target;!this.visible||e&&Object(d.e)(".dropdown form",r)||(Object(f.f)(e),this.$nextTick((function(){var e=n.getItems();if(!(e.length<1)){var i=e.indexOf(r);t&&i>0?i--:!t&&i<e.length-1&&i++,i<0&&(i=0),n.focusItem(i,e)}})))},focusItem:function(e,t){var n=t.find((function(t,n){return n===e}));Object(d.d)(n)},getItems:function(){return(Object(d.D)(C,this.$refs.menu)||[]).filter(d.u)},focusMenu:function(){Object(d.d)(this.$refs.menu)},focusToggler:function(){var e=this;this.$nextTick((function(){Object(d.d)(e.toggler)}))}}})},mMZB:function(e,t,n){"use strict";n("B2Qx")},mrSG:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError},myup:function(e,t,n){"use strict";n("fVwk")},nJt4:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-20.jpg"},nWMH:function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=2)}([function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(r[s]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){n(10);var r=n(7)(n(3),n(8),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n.n(r);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.default={name:"vue-perfect-scrollbar",props:{settings:{default:void 0},tagname:{type:String,default:"section"}},data:function(){return{ps:null}},methods:{update:function(){this.ps&&this.ps.update()},__init:function(){this.ps||(this.ps=new r.a(this.$el,this.settings))},__uninit:function(){this.ps&&(this.ps.destroy(),this.ps=null)}},watch:{$route:function(){this.update()}},mounted:function(){this.$isServer||this.__init()},updated:function(){this.$nextTick(this.update)},activated:function(){this.__init()},deactivated:function(){this.__uninit()},beforeDestroy:function(){this.__uninit()}}},function(e,t,n){(e.exports=n(0)()).push([e.i,".ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{height:15px;bottom:0}.ps__rail-x,.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;position:absolute}.ps__rail-y{width:15px;right:0}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}",""])},function(e,t,n){(t=e.exports=n(0)()).i(n(4),""),t.push([e.i,".ps-container{position:relative}",""])},function(e,t,n){"use strict";function r(e){return getComputedStyle(e)}function i(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r}return e}function s(e){var t=document.createElement("div");return t.className=e,t}function o(e,t){if(!v)throw new Error("No element matching method supported");return v.call(e,t)}function a(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function c(e,t){return Array.prototype.filter.call(e.children,(function(e){return o(e,t)}))}function u(e,t){var n=e.element.classList,r=b.state.scrolling(t);n.contains(r)?clearTimeout(y[t]):n.add(r)}function l(e,t){y[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(b.state.scrolling(t))}),e.settings.scrollingThreshold)}function h(e,t){u(e,t),l(e,t)}function d(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function f(e){return parseInt(e,10)||0}function p(e){return o(e,"input,[contenteditable]")||o(e,"select,[contenteditable]")||o(e,"textarea,[contenteditable]")||o(e,"button,[contenteditable]")}function m(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function g(e,t){function n(t){m[d]=g+y*(t[o]-v),u(e,f),T(e),t.stopPropagation(),t.preventDefault()}function r(){l(e,f),e[p].classList.remove(b.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",n)}var i=t[0],s=t[1],o=t[2],a=t[3],c=t[4],h=t[5],d=t[6],f=t[7],p=t[8],m=e.element,g=null,v=null,y=null;e.event.bind(e[c],"mousedown",(function(t){g=m[d],v=t[o],y=(e[s]-e[i])/(e[a]-e[h]),e.event.bind(e.ownerDocument,"mousemove",n),e.event.once(e.ownerDocument,"mouseup",r),e[p].classList.add(b.state.clicking),t.stopPropagation(),t.preventDefault()}))}var v="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),b={main:"ps",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},y={x:null,y:null},w=function(e){this.element=e,this.handlers={}},_={isEmpty:{configurable:!0}};w.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},w.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)}))},w.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},_.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(w.prototype,_);var k=function(){this.eventElements=[]};k.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new w(e),this.eventElements.push(t)),t},k.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},k.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},k.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},k.prototype.once=function(e,t,n){var r=this.eventElement(e),i=function(e){r.unbind(t,i),n(e)};r.bind(t,i)};var I=function(e,t,n,r,i){var s;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===t)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,i){var s=n[0],o=n[1],a=n[2],c=n[3],u=n[4],l=n[5];void 0===r&&(r=!0),void 0===i&&(i=!1);var f=e.element;e.reach[c]=null,f[a]<1&&(e.reach[c]="start"),f[a]>e[s]-e[o]-1&&(e.reach[c]="end"),t&&(f.dispatchEvent(d("ps-scroll-"+c)),t<0?f.dispatchEvent(d("ps-scroll-"+u)):t>0&&f.dispatchEvent(d("ps-scroll-"+l)),r&&h(e,c)),e.reach[c]&&(t||i)&&f.dispatchEvent(d("ps-"+c+"-reach-"+e.reach[c]))}(e,n,s,r,i)},O={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},T=function(e){var t=e.element,n=Math.floor(t.scrollTop);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(c(t,b.element.rail("x")).forEach((function(e){return a(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(c(t,b.element.rail("y")).forEach((function(e){return a(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=m(e,f(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=f((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=m(e,f(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=f(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r,i(t.scrollbarXRail,n);var s={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?s.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:s.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?s.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:s.left=t.scrollbarYLeft+e.scrollLeft,i(t.scrollbarYRail,s),i(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),i(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(b.state.active("x")):(t.classList.remove(b.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=0),e.scrollbarYActive?t.classList.add(b.state.active("y")):(t.classList.remove(b.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)},S={"click-rail":function(e){e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,T(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,T(e),t.stopPropagation()}))},"drag-thumb":function(e){g(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),g(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element,n=function(){return o(t,":hover")},r=function(){return o(e.scrollbarX,":focus")||o(e.scrollbarY,":focus")};e.event.bind(e.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(n()||r())){var s=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(s){if("IFRAME"===s.tagName)s=s.contentDocument.activeElement;else for(;s.shadowRoot;)s=s.shadowRoot.activeElement;if(p(s))return}var o=0,a=0;switch(i.which){case 37:o=i.metaKey?-e.contentWidth:i.altKey?-e.containerWidth:-30;break;case 38:a=i.metaKey?e.contentHeight:i.altKey?e.containerHeight:30;break;case 39:o=i.metaKey?e.contentWidth:i.altKey?e.containerWidth:30;break;case 40:a=i.metaKey?-e.contentHeight:i.altKey?-e.containerHeight:-30;break;case 32:a=i.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==o||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=o,T(e),function(n,r){var i=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var s=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===s&&n<0||s>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(o,a)&&i.preventDefault())}}))},wheel:function(e){function t(e,t,n){if(!O.isWebKit&&i.querySelector("select:focus"))return!0;if(!i.contains(e))return!1;for(var s=e;s&&s!==i;){if(s.classList.contains(b.element.consuming))return!0;var o=r(s);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var a=s.scrollHeight-s.clientHeight;if(a>0&&!(0===s.scrollTop&&n>0||s.scrollTop===a&&n<0))return!0;var c=s.scrollWidth-s.clientWidth;if(c>0&&!(0===s.scrollLeft&&t<0||s.scrollLeft===c&&t>0))return!0}s=s.parentNode}return!1}function n(n){var r=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),s=r[0],o=r[1];if(!t(n.target,s,o)){var a=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(o?i.scrollTop-=o*e.settings.wheelSpeed:i.scrollTop+=s*e.settings.wheelSpeed,a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(s?i.scrollLeft+=s*e.settings.wheelSpeed:i.scrollLeft-=o*e.settings.wheelSpeed,a=!0):(i.scrollTop-=o*e.settings.wheelSpeed,i.scrollLeft+=s*e.settings.wheelSpeed),T(e),(a=a||function(t,n){var r=Math.floor(i.scrollTop),s=0===i.scrollTop,o=r+i.offsetHeight===i.scrollHeight,a=0===i.scrollLeft,c=i.scrollLeft+i.offsetWidth===i.scrollWidth;return!(Math.abs(n)>Math.abs(t)?s||o:a||c)||!e.settings.wheelPropagation}(s,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}var i=e.element;void 0!==window.onwheel?e.event.bind(i,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(i,"mousewheel",n)},touch:function(e){function t(t,n){var r=Math.floor(l.scrollTop),i=l.scrollLeft,s=Math.abs(t),o=Math.abs(n);if(o>s){if(n<0&&r===e.contentHeight-e.containerHeight||n>0&&0===r)return 0===window.scrollY&&n>0&&O.isChrome}else if(s>o&&(t<0&&i===e.contentWidth-e.containerWidth||t>0&&0===i))return!0;return!0}function n(t,n){l.scrollTop-=n,l.scrollLeft-=t,T(e)}function i(e){return e.targetTouches?e.targetTouches[0]:e}function s(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function o(e){if(s(e)){var t=i(e);h.pageX=t.pageX,h.pageY=t.pageY,d=(new Date).getTime(),null!==p&&clearInterval(p)}}function a(e,t,n){if(!l.contains(e))return!1;for(var i=e;i&&i!==l;){if(i.classList.contains(b.element.consuming))return!0;var s=r(i);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var o=i.scrollHeight-i.clientHeight;if(o>0&&!(0===i.scrollTop&&n>0||i.scrollTop===o&&n<0))return!0;var a=i.scrollLeft-i.clientWidth;if(a>0&&!(0===i.scrollLeft&&t<0||i.scrollLeft===a&&t>0))return!0}i=i.parentNode}return!1}function c(e){if(s(e)){var r=i(e),o={pageX:r.pageX,pageY:r.pageY},c=o.pageX-h.pageX,u=o.pageY-h.pageY;if(a(e.target,c,u))return;n(c,u),h=o;var l=(new Date).getTime(),p=l-d;p>0&&(f.x=c/p,f.y=u/p,d=l),t(c,u)&&e.preventDefault()}}function u(){e.settings.swipeEasing&&(clearInterval(p),p=setInterval((function(){return e.isInitialized?void clearInterval(p):f.x||f.y?Math.abs(f.x)<.01&&Math.abs(f.y)<.01?void clearInterval(p):(n(30*f.x,30*f.y),f.x*=.8,void(f.y*=.8)):void clearInterval(p)}),10))}if(O.supportsTouch||O.supportsIePointer){var l=e.element,h={},d=0,f={},p=null;O.supportsTouch?(e.event.bind(l,"touchstart",o),e.event.bind(l,"touchmove",c),e.event.bind(l,"touchend",u)):O.supportsIePointer&&(window.PointerEvent?(e.event.bind(l,"pointerdown",o),e.event.bind(l,"pointermove",c),e.event.bind(l,"pointerup",u)):window.MSPointerEvent&&(e.event.bind(l,"MSPointerDown",o),e.event.bind(l,"MSPointerMove",c),e.event.bind(l,"MSPointerUp",u)))}}},E=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var o in this.element=e,e.classList.add(b.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)n.settings[o]=t[o];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a=function(){return e.classList.add(b.state.focus)},c=function(){return e.classList.remove(b.state.focus)};this.isRtl="rtl"===r(e).direction,this.isNegativeScroll=function(){var t,n=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=n,t}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new k,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=s(b.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=s(b.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",c),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=f(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=f(u.borderLeftWidth)+f(u.borderRightWidth),i(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=f(u.marginLeft)+f(u.marginRight),i(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=s(b.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=s(b.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",c),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=f(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=r(e);return f(t.width)+f(t.paddingLeft)+f(t.paddingRight)+f(t.borderLeftWidth)+f(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=f(l.borderTopWidth)+f(l.borderBottomWidth),i(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=f(l.marginTop)+f(l.marginBottom),i(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return S[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),T(this)};E.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,i(this.scrollbarXRail,{display:"block"}),i(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=f(r(this.scrollbarXRail).marginLeft)+f(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=f(r(this.scrollbarYRail).marginTop)+f(r(this.scrollbarYRail).marginBottom),i(this.scrollbarXRail,{display:"none"}),i(this.scrollbarYRail,{display:"none"}),T(this),I(this,"top",0,!1,!0),I(this,"left",0,!1,!0),i(this.scrollbarXRail,{display:""}),i(this.scrollbarYRail,{display:""}))},E.prototype.onScroll=function(e){this.isAlive&&(T(this),I(this,"top",this.element.scrollTop-this.lastScrollTop),I(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},E.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),a(this.scrollbarX),a(this.scrollbarY),a(this.scrollbarXRail),a(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},E.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")},t.a=E},function(e,t){e.exports=function(e,t,n,r){var i,s=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(i=e,s=e.default);var a="function"==typeof s?s.options:s;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),r){var c=a.computed||(a.computed={});Object.keys(r).forEach((function(e){var t=r[e];c[e]=function(){return t}}))}return{esModule:i,exports:s,options:a}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.$props.tagname,e._g({tag:"section",staticClass:"ps-container",on:{"~mouseover":function(t){return e.update(t)}}},e.$listeners),[e._t("default")],2)},staticRenderFns:[]}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=c[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(s(r.parts[o],t))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(s(r.parts[o],t));c[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],s=i[0],o={css:i[1],media:i[2],sourceMap:i[3]};n[s]?n[s].parts.push(o):t.push(n[s]={id:s,parts:[o]})}return t}function i(e){var t=document.createElement("style");return t.type="text/css",function(e,t){var n=h(),r=p[p.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),p.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}(e,t),t}function s(e,t){var n,r,s;if(t.singleton){var c=f++;n=d||(d=i(t)),r=o.bind(null,n,c,!1),s=o.bind(null,n,c,!0)}else n=i(t),r=a.bind(null,n),s=function(){!function(e){e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else s()}}function o(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function a(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c={},u=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},l=u((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),h=u((function(){return document.head||document.getElementsByTagName("head")[0]})),d=null,f=0,p=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=l()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var s=[],o=0;o<i.length;o++){var a=i[o];(u=c[a.id]).refs--,s.push(u)}e&&n(r(e),t);for(o=0;o<s.length;o++){var u;if(0===(u=s[o]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete c[u.id]}}}};var m=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(5);"string"==typeof r&&(r=[[e.i,r,""]]),n(9)(r,{}),r.locals&&(e.exports=r.locals)}])},nbvr:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,s=new Promise((function(s,o){n(i=e[t].apply(e,r)).then(s,o)}));return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function s(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function a(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}s(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})}))})),[u,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},nhTo:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("L3ns"),i=n("xjcK"),s=n("z3V6"),o=n("08sT"),a=Object(s.d)(o.c,i.I),c=Object(r.c)({name:i.I,mixins:[o.b],inject:{getBvGroup:{from:"getBvRadioGroup",default:function(){return function(){return null}}}},props:a,computed:{bvGroup:function(){return this.getBvGroup()}}})},nqqA:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("L3ns"),i=n("xjcK"),s=n("AFYn"),o=n("pyNs"),a=n("kGy3"),c=n("2C+6"),u=n("z3V6"),l=n("STsD"),h=n("jBgq"),d=n("qlm0");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=Object(c.j)(d.b,["event","routerTag"]),v=Object(u.d)(Object(c.m)(p(p({},g),{},{linkClass:Object(u.c)(o.e),variant:Object(u.c)(o.u)})),i.y),b=Object(r.c)({name:i.y,mixins:[l.a,h.a],inject:{getBvDropdown:{default:function(){return function(){return null}}}},inheritAttrs:!1,props:v,computed:{bvDropdown:function(){return this.getBvDropdown()},computedAttrs:function(){return p(p({},this.bvAttrs),{},{role:"menuitem"})}},methods:{closeDropdown:function(){var e=this;Object(a.B)((function(){e.bvDropdown&&e.bvDropdown.hide(!0)}))},onClick:function(e){this.$emit(s.f,e),this.closeDropdown()}},render:function(e){var t=this.linkClass,n=this.variant,r=this.active,i=this.disabled,s=this.onClick,o=this.bvAttrs;return e("li",{class:o.class,style:o.style,attrs:{role:"presentation"}},[e(d.a,{staticClass:"dropdown-item",class:[t,m({},"text-".concat(n),n&&!(r||i))],props:Object(u.e)(g,this.$props),attrs:this.computedAttrs,on:{click:s},ref:"item"},this.normalizeSlot())])}})},"o/Oa":function(e,t,n){"use strict";n.r(t);var r=n("7Ql6"),i=n("qlm0"),s=n("BCuY"),o=n("0AAM"),a=n("wT24"),c=n("9NeD"),u=n("7hmi"),l=n("FLC1"),h=n("ANFy"),d=n("bfXO"),f={components:{BLink:i.a,BNavbarNav:s.a,Bookmarks:o.a,Locale:a.a,SearchBar:c.a,DarkToggler:u.a,CartDropdown:l.a,NotificationDropdown:h.a,UserDropdown:d.a},props:{toggleVerticalMenuActive:{type:Function,default:function(){}}}},p=n("KHd+"),m=Object(p.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-container d-flex content align-items-center"},[n("ul",{staticClass:"nav navbar-nav d-xl-none"},[n("li",{staticClass:"nav-item"},[n("b-link",{staticClass:"nav-link",on:{click:e.toggleVerticalMenuActive}},[n("feather-icon",{attrs:{icon:"MenuIcon",size:"21"}})],1)],1)]),e._v(" "),n("div",{staticClass:"bookmark-wrapper align-items-center flex-grow-1 d-none d-lg-flex"},[n("bookmarks")],1),e._v(" "),n("b-navbar-nav",{staticClass:"nav align-items-center ml-auto"},[n("locale"),e._v(" "),n("dark-Toggler",{staticClass:"d-none d-lg-block"}),e._v(" "),n("search-bar"),e._v(" "),n("cart-dropdown"),e._v(" "),n("notification-dropdown"),e._v(" "),n("user-dropdown")],1)],1)}),[],!1,null,null,null).exports,g=n("eM76"),v=n("W51F"),b=n("0LlZ"),y=n("ucbG"),w=n("vlw0"),_=n("9s6g"),k=n("UXOq"),I=n("wfFb"),O=n("+r6/"),T={watch:{$route:function(){this.$store.state.app.windowWidth<O.a.xl&&(this.isVerticalMenuActive=!1)}}},S={components:{AppNavbarVerticalLayout:m,AppFooter:g.a,VerticalNavMenu:k.a,BNavbar:b.a,LayoutContentRendererLeftDetached:_.a,LayoutContentRendererLeft:w.a,LayoutContentRendererDefault:y.a},mixins:[T],computed:{layoutContentRenderer:function(){var e=this.$route.meta.contentRenderer;return"sidebar-left"===e?"layout-content-renderer-left":"sidebar-left-detached"===e?"layout-content-renderer-left-detached":"layout-content-renderer-default"}},setup:function(){var e=Object(v.a)(),t=e.routerTransition,n=e.navbarBackgroundColor,i=e.navbarType,s=e.footerType,o=e.isNavMenuHidden,a=Object(I.a)(i,s),c=a.isVerticalMenuActive,u=a.toggleVerticalMenuActive,l=a.isVerticalMenuCollapsed,h=a.layoutClasses,d=a.overlayClasses,f=a.resizeHandler,p=a.navbarTypeClass,m=a.footerTypeClass;return f(),window.addEventListener("resize",f),Object(r.onUnmounted)((function(){window.removeEventListener("resize",f)})),{isVerticalMenuActive:c,toggleVerticalMenuActive:u,isVerticalMenuCollapsed:l,overlayClasses:d,layoutClasses:h,navbarTypeClass:p,footerTypeClass:m,routerTransition:t,navbarBackgroundColor:n,isNavMenuHidden:o}}},E=(n("Nvuo"),{components:{LayoutVertical:Object(p.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vertical-layout h-100",class:[e.layoutClasses],attrs:{"data-col":e.isNavMenuHidden?"1-column":null}},[n("b-navbar",{staticClass:"header-navbar navbar navbar-shadow align-items-center",class:[e.navbarTypeClass],attrs:{toggleable:!1,variant:e.navbarBackgroundColor}},[e._t("navbar",[n("app-navbar-vertical-layout",{attrs:{"toggle-vertical-menu-active":e.toggleVerticalMenuActive}})],{toggleVerticalMenuActive:e.toggleVerticalMenuActive,navbarBackgroundColor:e.navbarBackgroundColor,navbarTypeClass:e.navbarTypeClass.concat(["header-navbar navbar navbar-shadow align-items-center"])})],2),e._v(" "),e.isNavMenuHidden?e._e():n("vertical-nav-menu",{attrs:{"is-vertical-menu-active":e.isVerticalMenuActive,"toggle-vertical-menu-active":e.toggleVerticalMenuActive},scopedSlots:e._u([{key:"header",fn:function(t){return[e._t("vertical-menu-header",null,null,t)]}}],null,!0)}),e._v(" "),n("div",{staticClass:"sidenav-overlay",class:e.overlayClasses,on:{click:function(t){e.isVerticalMenuActive=!1}}}),e._v(" "),n("transition",{attrs:{name:e.routerTransition,mode:"out-in"}},[n(e.layoutContentRenderer,{key:"layout-content-renderer-left"===e.layoutContentRenderer?e.$route.meta.navActiveLink||e.$route.name:null,tag:"component",scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}}))],null,!0)})],1),e._v(" "),n("footer",{staticClass:"footer footer-light",class:[e.footerTypeClass]},[e._t("footer",[n("app-footer")])],2),e._v(" "),e._t("customizer")],2)}),[],!1,null,null,null).exports,Navbar:n("L72W").a},data:function(){return{}}}),C=Object(p.a)(E,(function(){var e=this.$createElement,t=this._self._c||e;return t("layout-vertical",{scopedSlots:this._u([{key:"navbar",fn:function(e){var n=e.toggleVerticalMenuActive;return[t("navbar",{attrs:{"toggle-vertical-menu-active":n}})]}}])},[t("router-view")],1)}),[],!1,null,null,null);t.default=C.exports},"oVt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("tC49"),i=n("xjcK"),s=n("pyNs"),o=n("Iyau"),a=n("Io6r"),c=n("bAY6"),u=n("tQiw"),l=n("2C+6"),h=n("z3V6"),d=n("+nMp");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=["start","end","center"],v=Object(u.a)((function(e,t){return(t=Object(d.h)(Object(d.g)(t)))?Object(d.c)(["row-cols",e,t].filter(c.a).join("-")):null})),b=Object(u.a)((function(e){return Object(d.c)(e.replace("cols",""))})),y=[],w={name:i.ub,functional:!0,get props(){var e;return delete this.props,this.props=(e=Object(a.b)().reduce((function(e,t){return e[Object(h.g)(t,"cols")]=Object(h.c)(s.p),e}),Object(l.c)(null)),y=Object(l.h)(e),Object(h.d)(Object(l.m)(p(p({},e),{},{alignContent:Object(h.c)(s.u,null,(function(e){return Object(o.a)(Object(o.b)(g,"between","around","stretch"),e)})),alignH:Object(h.c)(s.u,null,(function(e){return Object(o.a)(Object(o.b)(g,"between","around"),e)})),alignV:Object(h.c)(s.u,null,(function(e){return Object(o.a)(Object(o.b)(g,"baseline","stretch"),e)})),noGutters:Object(h.c)(s.g,!1),tag:Object(h.c)(s.u,"div")})),i.ub)),this.props},render:function(e,t){var n,i=t.props,s=t.data,o=t.children,a=i.alignV,c=i.alignH,u=i.alignContent,l=[];return y.forEach((function(e){var t=v(b(e),i[e]);t&&l.push(t)})),l.push((m(n={"no-gutters":i.noGutters},"align-items-".concat(a),a),m(n,"justify-content-".concat(c),c),m(n,"align-content-".concat(u),u),n)),e(i.tag,Object(r.a)(s,{staticClass:"row",class:l}),o)}}},pNMO:function(e,t,n){n("2fXf"),n("tPgW"),n("xRNQ"),n("6cQw"),n("WkfP")},pm1w:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"[dir] .bordered-layout .header-navbar {\n  box-shadow: none;\n  border: 1px solid #ebe9f1;\n}\n[dir] .bordered-layout .header-navbar.floating-nav {\n  border: 1px solid #ebe9f1;\n}\n[dir] .bordered-layout .header-navbar.fixed-top {\n  border-bottom: 1px solid #ebe9f1;\n  background: #f8f8f8;\n  box-shadow: none !important;\n}\n[dir] .bordered-layout .main-menu {\n  box-shadow: none;\n}\n[dir=ltr] .bordered-layout .main-menu {\n  border-right: 1px solid #ebe9f1;\n}\n[dir=rtl] .bordered-layout .main-menu {\n  border-left: 1px solid #ebe9f1;\n}\n[dir] .bordered-layout .main-menu.menu-light .navigation > li.open:not(.menu-item-closing) > a, [dir] .bordered-layout .main-menu.menu-light .navigation > li.sidebar-group-active > a {\n  background: #ededed;\n}\n[dir] .bordered-layout .dropdown-menu {\n  border: 1px solid #ebe9f1 !important;\n  box-shadow: none;\n}\n[dir] .bordered-layout .main-menu .navigation, [dir] .bordered-layout .main-menu {\n  background: #f8f8f8;\n}\n[dir] .bordered-layout .card, [dir] .bordered-layout .bs-stepper:not(.wizard-modern):not(.checkout-tab-steps), [dir] .bordered-layout .bs-stepper.wizard-modern .bs-stepper-content {\n  border: 1px solid #ebe9f1;\n  box-shadow: none;\n}\n[dir] .bordered-layout .footer {\n  box-shadow: none !important;\n}\n[dir] .bordered-layout .footer-fixed .footer {\n  border-top: 1px solid #ebe9f1;\n}",""]),e.exports=t},"s9/m":function(e,t,n){"use strict";n("sMBO");var r=n("L3ns"),i=n("tC49"),s=n("xjcK"),o=n("pyNs"),a=n("ex6f"),c=n("z3V6"),u=n("+nMp"),l=n("hpAl"),h=n("2C+6"),d=n("qlm0");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=Object(c.d)(Object(h.m)(p(p({},Object(h.j)(d.b,["event","routerTag"])),{},{ariaCurrent:Object(c.c)(o.u,"location"),html:Object(c.c)(o.u),text:Object(c.c)(o.u)})),s.g),v=Object(r.c)({name:s.g,functional:!0,props:g,render:function(e,t){var n=t.props,r=t.data,s=t.children,o=n.active,a=o?"span":d.a,u={attrs:{"aria-current":o?n.ariaCurrent:null},props:Object(c.e)(g,n)};return s||(u.domProps=Object(l.a)(n.html,n.text)),e(a,Object(i.a)(r,u),s)}}),b=Object(c.d)(g,s.f),y=Object(r.c)({name:s.f,functional:!0,props:b,render:function(e,t){var n=t.props,r=t.data,s=t.children;return e("li",Object(i.a)(r,{staticClass:"breadcrumb-item",class:{active:n.active}}),[e(v,{props:n},s)])}});function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=Object(c.d)({items:Object(c.c)(o.b)},s.e),O=Object(r.c)({name:s.e,functional:!0,props:I,render:function(e,t){var n=t.props,r=t.data,s=t.children,o=n.items,c=s;if(Object(a.a)(o)){var l=!1;c=o.map((function(t,n){Object(a.j)(t)||(t={text:Object(u.g)(t)});var r=t.active;return r&&(l=!0),r||l||(r=n+1===o.length),e(y,{props:_(_({},t),{},{active:r})})}))}return e("ol",Object(i.a)(r,{staticClass:"breadcrumb"}),c)}}),T=n("oVt+"),S=n("sove"),E=n("3Zo4"),C=n("nqqA"),j=n("GUe+"),A=n("IF94"),x=n("1uQM"),R=n("X9p1"),D=n("4AkS"),N=n("tvh2"),P=(n("fx5J"),{directives:{Ripple:D.a},components:{BBreadcrumb:O,BBreadcrumbItem:y,BRow:T.a,BCol:S.a,BDropdown:E.a,BDropdownItem:C.a,BButton:j.a,BCard:A.a,BCardText:x.a,BAlert:R.a,BLink:d.a},computed:{isSubscribed:function(){return!this.checkIsTenant()||N.a.getters["auth/getCurrentAccount"].is_subscribed},isBanned:function(){return!!this.checkIsTenant()&&N.a.getters["auth/getCurrentAccount"].is_banned},isTrial:function(){return!!this.checkIsTenant()&&N.a.getters["auth/getCurrentAccount"].on_trial},trialEnd:function(){return!!this.checkIsTenant()&&N.a.getters["auth/getCurrentAccount"].end_on_trial},isSubscriptionView:function(){return"subscription"===this.$route.name}},mounted:function(){}}),L=(n("5Al2"),n("KHd+")),M=Object(L.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[!e.isSubscribed||e.isTrial&&(e.$route.meta.breadcrumb||e.$route.meta.pageTitle)?n("b-row",[n("b-col",{attrs:{cols:"12",md:"12"}},[n("b-alert",{attrs:{variant:"danger",show:""}},[n("h4",{staticClass:"alert-heading"},[n("feather-icon",{staticClass:"mr-50",attrs:{icon:"InfoIcon"}}),e._v(" "),e.isTrial?n("span",[e._v(e._s(e.$t("subscriptions.trial.title")))]):e._e(),e._v(" "),e.isSubscribed?e._e():n("span",[e._v(e._s(e.$t("subscriptions.unsubscribed.title")))]),e._v(" "),n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"text-right ml-2",attrs:{disabled:e.isSubscriptionView,size:"sm",variant:"danger"},on:{click:function(t){return e.$router.push({name:"subscription"})}}},[e._v("\n                "+e._s(e.$t("button_to_subscribe"))+"\n              ")])],1),e._v(" "),e.isTrial?n("div",{staticClass:"alert-body"},[n("span",[e._v(e._s(e.$t("subscriptions.trial.description").replace(":days",e.trialEnd)))])]):e._e()])],1)],1):e._e(),e._v(" "),e.$route.meta.breadcrumb||e.$route.meta.pageTitle?n("b-row",{staticClass:"content-header"},[n("b-col",{staticClass:"content-header-left mb-2",attrs:{cols:"12",md:"9"}},[n("b-row",{staticClass:"breadcrumbs-top"},[n("b-col",{attrs:{cols:"12"}},[n("h2",{staticClass:"content-header-title float-left pr-1 mb-0"},[e._v("\n              "+e._s(e.$t(e.$route.meta.pageTitle))+"\n            ")]),e._v(" "),n("div",{staticClass:"breadcrumb-wrapper"},[n("b-breadcrumb",[n("b-breadcrumb-item",{attrs:{to:"/"}},[n("feather-icon",{staticClass:"align-text-top",attrs:{icon:"HomeIcon",size:"16"}})],1),e._v(" "),e._l(e.$route.meta.breadcrumb,(function(t){return n("b-breadcrumb-item",{key:t.text,attrs:{active:t.active,to:t.to}},[e._v("\n                  "+e._s(e.$t(t.text))+"\n                ")])}))],2)],1)])],1)],1),e._v(" "),n("b-col",{staticClass:"content-header-right text-md-right d-md-block d-none mb-1",attrs:{md:"3",cols:"12"}},[e.checkIsTenant?e._e():n("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"btn-icon d-flex align-items-center justify-content-center",attrs:{variant:"primary"}},[n("feather-icon",{attrs:{icon:"HelpCircleIcon"}})],1)]},proxy:!0}],null,!1,262018077)},[e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"pages-faq"}}},[n("feather-icon",{attrs:{icon:"HelpCircleIcon",size:"16"}}),e._v(" "),n("span",{staticClass:"align-middle ml-50"},[e._v("FAQ")])],1),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"apps-chat"}}},[n("feather-icon",{attrs:{icon:"MessageSquareIcon",size:"16"}}),e._v(" "),n("span",{staticClass:"align-middle ml-50"},[e._v("Chat")])],1),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"apps-email"}}},[n("feather-icon",{attrs:{icon:"MailIcon",size:"16"}}),e._v(" "),n("span",{staticClass:"align-middle ml-50"},[e._v("Email")])],1),e._v(" "),n("b-dropdown-item",{attrs:{to:{name:"apps-calendar"}}},[n("feather-icon",{attrs:{icon:"CalendarIcon",size:"16"}}),e._v(" "),n("span",{staticClass:"align-middle ml-50"},[e._v("Calendar")])],1)],1)],1)],1):e._e()],1)}),[],!1,null,"01a9df5c",null);t.a=M.exports},sove:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("tC49"),i=n("xjcK"),s=n("pyNs"),o=n("mS7b"),a=n("Iyau"),c=n("Io6r"),u=n("bAY6"),l=n("ex6f"),h=n("tQiw"),d=n("2C+6"),f=n("z3V6"),p=n("+nMp");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=["auto","start","end","center","baseline","stretch"],y=Object(h.a)((function(e,t,n){var r=e;if(!Object(l.p)(n)&&!1!==n)return t&&(r+="-".concat(t)),"col"!==e||""!==n&&!0!==n?(r+="-".concat(n),Object(p.c)(r)):Object(p.c)(r)})),w=Object(d.c)(null),_={name:i.t,functional:!0,get props(){return delete this.props,this.props=(e=Object(c.b)().filter(u.a),t=e.reduce((function(e,t){return e[t]=Object(f.c)(s.i),e}),Object(d.c)(null)),n=e.reduce((function(e,t){return e[Object(f.g)(t,"offset")]=Object(f.c)(s.p),e}),Object(d.c)(null)),r=e.reduce((function(e,t){return e[Object(f.g)(t,"order")]=Object(f.c)(s.p),e}),Object(d.c)(null)),w=Object(d.a)(Object(d.c)(null),{col:Object(d.h)(t),offset:Object(d.h)(n),order:Object(d.h)(r)}),Object(f.d)(Object(d.m)(g(g(g(g({},t),n),r),{},{alignSelf:Object(f.c)(s.u,null,(function(e){return Object(a.a)(b,e)})),col:Object(f.c)(s.g,!1),cols:Object(f.c)(s.p),offset:Object(f.c)(s.p),order:Object(f.c)(s.p),tag:Object(f.c)(s.u,"div")})),i.t));var e,t,n,r},render:function(e,t){var n,i=t.props,s=t.data,a=t.children,c=i.cols,u=i.offset,l=i.order,h=i.alignSelf,d=[];for(var f in w)for(var p=w[f],m=0;m<p.length;m++){var g=y(f,p[m].replace(f,""),i[p[m]]);g&&d.push(g)}var b=d.some((function(e){return o.c.test(e)}));return d.push((v(n={col:i.col||!b&&!c},"col-".concat(c),c),v(n,"offset-".concat(u),u),v(n,"order-".concat(l),l),v(n,"align-self-".concat(h),h),n)),e(i.tag,Object(r.a)(s,{class:d}),a)}}},tK4P:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return I}));var r,i,s=n("L3ns"),o=n("xjcK"),a=n("AFYn"),c=n("pyNs"),u=n("yoge"),l=n("iHiM"),h=n("vika"),d=n("ex6f"),f=n("2C+6"),p=n("z3V6"),m=n("Oa0e"),g=n("jBgq"),v=n("jfhb");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=a.cb+"disabled",_=a.cb+"show",k=Object(p.d)((y(r={boundary:Object(p.c)([u.c,c.q,c.u],"scrollParent"),boundaryPadding:Object(p.c)(c.p,50),container:Object(p.c)([u.c,c.q,c.u]),customClass:Object(p.c)(c.u),delay:Object(p.c)(c.o,50)},"disabled",Object(p.c)(c.g,!1)),y(r,"fallbackPlacement",Object(p.c)(c.f,"flip")),y(r,"id",Object(p.c)(c.u)),y(r,"noFade",Object(p.c)(c.g,!1)),y(r,"noninteractive",Object(p.c)(c.g,!1)),y(r,"offset",Object(p.c)(c.p,0)),y(r,"placement",Object(p.c)(c.u,"top")),y(r,"show",Object(p.c)(c.g,!1)),y(r,"target",Object(p.c)([u.c,u.d,c.l,c.q,c.u],void 0,!0)),y(r,"title",Object(p.c)(c.u)),y(r,"triggers",Object(p.c)(c.f,"hover focus")),y(r,"variant",Object(p.c)(c.u)),r),o.Mb),I=Object(s.c)({name:o.Mb,mixins:[g.a,l.a],inheritAttrs:!1,props:k,data:function(){return{localShow:this.show,localTitle:"",localContent:""}},computed:{templateData:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:this.localTitle,content:this.localContent,interactive:!this.noninteractive},Object(f.k)(this.$props,["boundary","boundaryPadding","container","customClass","delay","fallbackPlacement","id","noFade","offset","placement","target","target","triggers","variant","disabled"]))},templateTitleContent:function(){return{title:this.title,content:this.content}}},watch:(i={},y(i,"show",(function(e,t){e!==t&&e!==this.localShow&&this.$_toolpop&&(e?this.$_toolpop.show():this.$_toolpop.forceHide())})),y(i,"disabled",(function(e){e?this.doDisable():this.doEnable()})),y(i,"localShow",(function(e){this.$emit(_,e)})),y(i,"templateData",(function(){var e=this;this.$nextTick((function(){e.$_toolpop&&e.$_toolpop.updateData(e.templateData)}))})),y(i,"templateTitleContent",(function(){this.$nextTick(this.updateContent)})),i),created:function(){this.$_toolpop=null},updated:function(){this.$nextTick(this.updateContent)},beforeDestroy:function(){this.$off(a.F,this.doOpen),this.$off(a.g,this.doClose),this.$off(a.k,this.doDisable),this.$off(a.o,this.doEnable),this.$_toolpop&&(this.$_toolpop.$destroy(),this.$_toolpop=null)},mounted:function(){var e=this;this.$nextTick((function(){var t=e.getComponent();e.updateContent();var n=Object(h.a)(e)||Object(h.a)(e.bvParent),r=e.$_toolpop=Object(m.a)(e,t,{_scopeId:n||void 0});r.updateData(e.templateData),r.$on(a.S,e.onShow),r.$on(a.T,e.onShown),r.$on(a.x,e.onHide),r.$on(a.w,e.onHidden),r.$on(a.l,e.onDisabled),r.$on(a.p,e.onEnabled),e.disabled&&e.doDisable(),e.$on(a.F,e.doOpen),e.$on(a.g,e.doClose),e.$on(a.k,e.doDisable),e.$on(a.o,e.doEnable),e.localShow&&r.show()}))},methods:{getComponent:function(){return v.a},updateContent:function(){this.setTitle(this.normalizeSlot()||this.title)},setTitle:function(e){e=Object(d.p)(e)?"":e,this.localTitle!==e&&(this.localTitle=e)},setContent:function(e){e=Object(d.p)(e)?"":e,this.localContent!==e&&(this.localContent=e)},onShow:function(e){this.$emit(a.S,e),e&&(this.localShow=!e.defaultPrevented)},onShown:function(e){this.localShow=!0,this.$emit(a.T,e)},onHide:function(e){this.$emit(a.x,e)},onHidden:function(e){this.$emit(a.w,e),this.localShow=!1},onDisabled:function(e){e&&e.type===a.l&&(this.$emit(w,!0),this.$emit(a.l,e))},onEnabled:function(e){e&&e.type===a.p&&(this.$emit(w,!1),this.$emit(a.p,e))},doOpen:function(){!this.localShow&&this.$_toolpop&&this.$_toolpop.show()},doClose:function(){this.localShow&&this.$_toolpop&&this.$_toolpop.hide()},doDisable:function(){this.$_toolpop&&this.$_toolpop.disable()},doEnable:function(){this.$_toolpop&&this.$_toolpop.enable()}},render:function(e){return e()}})},tPgW:function(e,t,n){var r=n("I+eb"),i=n("0GbY"),s=n("Gi26"),o=n("V37c"),a=n("VpIT"),c=n("C0Od"),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=o(e);if(s(u,t))return u[t];var n=i("Symbol")(t);return u[t]=n,l[n]=t,n}})},u0ju:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-4.jpg"},u6Gj:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n("VTBJ"),i=n("U8pU"),s=n("fx5J"),o=n("7Ql6"),a=function(e){return"object"===Object(i.a)(e)&&null!==e},c=function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},u=function(e){return s.a.resolve(e).route.path===s.a.currentRoute.path},l=function(){var e=Object(o.getCurrentInstance)().proxy,t=Object(o.reactive)({route:e.$route});return Object(o.watch)((function(){return e.$route}),(function(e){t.route=e})),Object(r.a)(Object(r.a)({},Object(o.toRefs)(t)),{},{router:e.$router})}},uFwe:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("BsWD");function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}},ucbG:function(e,t,n){"use strict";var r=n("s9/m"),i=n("W51F"),s={components:{AppBreadcrumb:r.a},setup:function(){var e=Object(i.a)();return{routerTransition:e.routerTransition,contentWidth:e.contentWidth}}},o=n("KHd+"),a=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-content content",class:[{"show-overlay":e.$store.state.app.shallShowOverlay},e.$route.meta.contentClass]},[n("div",{staticClass:"content-overlay"}),e._v(" "),n("div",{staticClass:"header-navbar-shadow"}),e._v(" "),n("div",{staticClass:"content-wrapper",class:"boxed"===e.contentWidth?"container p-0":null},[e._t("breadcrumb",[n("app-breadcrumb")]),e._v(" "),n("div",{staticClass:"content-body"},[n("transition",{attrs:{name:e.routerTransition,mode:"out-in"}},[e._t("default")],2)],1)],2)])}),[],!1,null,null,null);t.a=a.exports},vj79:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-2.jpg"},vlw0:function(e,t,n){"use strict";var r=n("s9/m"),i=n("W51F"),s={components:{AppBreadcrumb:r.a},setup:function(){var e=Object(i.a)();return{routerTransition:e.routerTransition,contentWidth:e.contentWidth}}},o=n("KHd+"),a=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-content content",class:[{"show-overlay":e.$store.state.app.shallShowOverlay},e.$route.meta.contentClass]},[n("div",{staticClass:"content-overlay"}),e._v(" "),n("div",{staticClass:"header-navbar-shadow"}),e._v(" "),n("transition",{attrs:{name:e.routerTransition,mode:"out-in"}},[n("div",{staticClass:"content-area-wrapper",class:"boxed"===e.contentWidth?"container p-0":null},[e._t("breadcrumb",[n("app-breadcrumb")]),e._v(" "),n("portal-target",{attrs:{name:"content-renderer-sidebar-left",slim:""}}),e._v(" "),n("div",{staticClass:"content-right"},[n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-body"},[e._t("default")],2)])])],2)])],1)}),[],!1,null,null,null);t.a=a.exports},"vzk/":function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-23.jpg"},wT24:function(e,t,n){"use strict";var r=n("x+uP"),i=n("VTBJ"),s=n("HaE+"),o=(n("fbCW"),n("07d7"),n("7eWi")),a=n("nqqA"),c=n("SRip"),u=n("tvh2"),l=new(n("0ySa").a),h={components:{BNavItemDropdown:o.a,BDropdownItem:a.a,BImg:c.a},computed:{currentLocale:function(){var e=this;return this.locales.find((function(t){return t.locale===e.$i18n.locale}))}},mounted:function(){},methods:{update:function(){var e=this;return Object(s.a)(Object(r.a)().mark((function t(){var n,s,o,a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,n=u.a.state.auth.user,s=Object(i.a)({isSettings:!0,locale:e.currentLocale.locale},n),t.next=6,l.update(n.id,s);case 6:o=t.sent,a=o.data,console.log(a),e.loading=!1,a.success&&u.a.commit("auth/SET_CURRENT_USER",Object(i.a)({},a.data)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),e.loading=!1,e.handleResponseErrors(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()}},watch:{currentLocale:function(e){u.a.commit("auth/SET_LOCALE",e.locale),this.update()}},setup:function(){return{locales:[{locale:"es",img:n("+Y03"),name:"Spanish"},{locale:"en",img:n("depu"),name:"English"},{locale:"fr",img:n("L5yU"),name:"French"},{locale:"de",img:n("J1fW"),name:"German"},{locale:"pt",img:n("aQeV"),name:"Portuguese"}]}}},d=n("KHd+"),f=Object(d.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav-item-dropdown",{staticClass:"dropdown-language",attrs:{id:"dropdown-grouped",variant:"link",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("b-img",{attrs:{src:e.currentLocale.img,height:"14px",width:"22px",alt:e.currentLocale.locale}}),e._v(" "),n("span",{staticClass:"ml-50 text-body"},[e._v(e._s(e.currentLocale.name))])]},proxy:!0}])},[e._v(" "),e._l(e.locales,(function(t){return n("b-dropdown-item",{key:t.locale,on:{click:function(n){e.$i18n.locale=t.locale}}},[n("b-img",{attrs:{src:t.img,height:"14px",width:"22px",alt:t.locale}}),e._v(" "),n("span",{staticClass:"ml-50"},[e._v(e._s(t.name))])],1)}))],2)}),[],!1,null,null,null);t.a=f.exports},werY:function(e,t,n){"use strict";t.a={pages:{key:"title",data:[{title:"Access Control",route:{name:"access-control"},icon:"ShieldIcon",isBookmarked:!1},{title:"Account Settings",route:{name:"pages-account-setting"},icon:"SettingsIcon",isBookmarked:!1},{title:"Advance Card",route:{name:"card-advance"},icon:"CreditCardIcon",isBookmarked:!1},{title:"Alerts",route:{name:"components-alert"},icon:"AlertTriangleIcon",isBookmarked:!1},{title:"Analytics Cards",route:{name:"card-analytic"},icon:"CreditCardIcon",isBookmarked:!1},{title:"Apex Chart",route:{name:"charts-apex-chart"},icon:"PieChartIcon",isBookmarked:!1},{title:"Aspect",route:{name:"components-aspect"},icon:"AirplayIcon",isBookmarked:!1},{title:"Auto Suggest",route:{name:"extensions-auto-suggest"},icon:"AlignLeftIcon",isBookmarked:!1},{title:"Avatar",route:{name:"components-avatar"},icon:"UserIcon",isBookmarked:!1},{title:"Badge",route:{name:"components-badge"},icon:"TagIcon",isBookmarked:!1},{title:"Basic Card",route:{name:"card-basic"},icon:"CreditCardIcon",isBookmarked:!1},{title:"Blog Detail",route:{name:"pages-blog-detail",params:{id:1}},icon:"FileTextIcon",isBookmarked:!1},{title:"Blog Edit",route:{name:"pages-blog-edit",params:{id:1}},icon:"FileTextIcon",isBookmarked:!1},{title:"Blog List",route:{name:"pages-blog-list"},icon:"FileTextIcon",isBookmarked:!1},{title:"Breadcrumb",route:{name:"components-breadcrumb"},icon:"HomeIcon",isBookmarked:!1},{title:"BS Table",route:{name:"table-bs-table"},icon:"GridIcon",isBookmarked:!1},{title:"Button Group",route:{name:"components-button-group"},icon:"BoldIcon",isBookmarked:!1},{title:"Button Toolbar",route:{name:"components-button-toolbar"},icon:"BoldIcon",isBookmarked:!1},{title:"Button",route:{name:"components-button"},icon:"BoldIcon",isBookmarked:!1},{title:"appointments.menu",route:{name:"appointments"},icon:"CalendarIcon",isBookmarked:!0,permission:"appointments.index"},{title:"Calendar Component",route:{name:"components-calendar"},icon:"CalendarIcon",isBookmarked:!1},{title:"Card Actions",route:{name:"card-action"},icon:"CreditCardIcon",isBookmarked:!1},{title:"Carousel",route:{name:"components-carousel"},icon:"CopyIcon",isBookmarked:!1},{title:"Chartjs",route:{name:"charts-chartjs"},icon:"PieChartIcon",isBookmarked:!1},{title:"Chat",route:{name:"apps-chat"},icon:"MessageSquareIcon",isBookmarked:!1},{title:"Checkbox",route:{name:"forms-element-checkbox"},icon:"CheckSquareIcon",isBookmarked:!1},{title:"Checkout",route:{name:"apps-e-commerce-checkout"},icon:"DollarSignIcon",isBookmarked:!1},{title:"Clipboard",route:{name:"extensions-clipboard"},icon:"ClipboardIcon",isBookmarked:!1},{title:"Collapse",route:{name:"components-collapse"},icon:"PlusIcon",isBookmarked:!1},{title:"Colors",route:{name:"ui-colors"},icon:"DropletIcon",isBookmarked:!1},{title:"Coming Soon",route:{name:"misc-coming-soon"},icon:"ClockIcon",isBookmarked:!1},{title:"Context Menu",route:{name:"extensions-context-menu"},icon:"MoreVerticalIcon",isBookmarked:!1},{title:"Dashboard Analytics",route:{name:"dashboard-analytics"},icon:"ActivityIcon",isBookmarked:!1},{title:"Dashboard ECommerce",route:{name:"dashboard-ecommerce"},icon:"ShoppingCartIcon",isBookmarked:!1},{title:"Date Time Picker",route:{name:"extensions-date-time-picker"},icon:"ClockIcon",isBookmarked:!1},{title:"Drag & Drop",route:{name:"extensions-drag-and-drop"},icon:"CopyIcon",isBookmarked:!1},{title:"Dropdown",route:{name:"components-dropdown"},icon:"MoreHorizontalIcon",isBookmarked:!1},{title:"Echart",route:{name:"charts-echart"},icon:"PieChartIcon",isBookmarked:!1},{title:"Email",route:{name:"apps-email"},icon:"MailIcon",isBookmarked:!1},{title:"Embed",route:{name:"components-embed"},icon:"TvIcon",isBookmarked:!1},{title:"Error 404",route:{name:"error-404"},icon:"AlertTriangleIcon",isBookmarked:!1},{title:"Error",route:{name:"misc-error"},icon:"AlertTriangleIcon",isBookmarked:!1},{title:"FAQ",route:{name:"pages-faq"},icon:"HelpCircleIcon",isBookmarked:!1},{title:"Feather",route:{name:"ui-feather"},icon:"FeatherIcon",isBookmarked:!1},{title:"File Input",route:{name:"forms-element-file-input"},icon:"FileIcon",isBookmarked:!1},{title:"Forgot Password V1",route:{name:"auth-forgot-password-v1"},icon:"KeyIcon",isBookmarked:!1},{title:"Forgot Password V2",route:{name:"auth-forgot-password-v2"},icon:"KeyIcon",isBookmarked:!1},{title:"Form Datepicker",route:{name:"forms-element-datepicker"},icon:"ClockIcon",isBookmarked:!1},{title:"Form Layout",route:{name:"form-layout"},icon:"GridIcon",isBookmarked:!1},{title:"Form Rating",route:{name:"forms-element-rating"},icon:"StarIcon",isBookmarked:!1},{title:"Form Repeater",route:{name:"form-repeater"},icon:"StarIcon",isBookmarked:!1},{title:"Form Tag",route:{name:"forms-element-tag"},icon:"TagIcon",isBookmarked:!1},{title:"Form Timepicker",route:{name:"forms-element-timepicker"},icon:"ClockIcon",isBookmarked:!1},{title:"Form Validation",route:{name:"form-validation"},icon:"CheckCircleIcon",isBookmarked:!1},{title:"Form Wizard",route:{name:"form-wizard"},icon:"GitCommitIcon",isBookmarked:!1},{title:"Good Table",route:{name:"table-good-table"},icon:"GridIcon",isBookmarked:!1},{title:"I18n",route:{name:"extensions-i18n"},icon:"GlobeIcon",isBookmarked:!1},{title:"Image",route:{name:"components-image"},icon:"ImageIcon",isBookmarked:!1},{title:"Input Group",route:{name:"forms-element-input-group"},icon:"TypeIcon",isBookmarked:!1},{title:"Input Mask",route:{name:"forms-element-input-mask"},icon:"TypeIcon",isBookmarked:!1},{title:"Input",route:{name:"forms-element-input"},icon:"TypeIcon",isBookmarked:!1},{title:"Invoice Add",route:{name:"apps-invoice-add"},icon:"FileTextIcon",isBookmarked:!1},{title:"Invoice Edit",route:{name:"apps-invoice-edit",params:{id:4987}},icon:"FileTextIcon",isBookmarked:!1},{title:"Invoice List",route:{name:"apps-invoice-list"},icon:"FileTextIcon",isBookmarked:!1},{title:"Invoice Preview",route:{name:"apps-invoice-preview",params:{id:4987}},icon:"FileTextIcon",isBookmarked:!1},{title:"Knowledge Base Category",route:{name:"pages-knowledge-base-category"},icon:"InfoIcon",isBookmarked:!1},{title:"Knowledge Base Question",route:{name:"pages-knowledge-base-question"},icon:"InfoIcon",isBookmarked:!1},{title:"Knowledge Base",route:{name:"pages-knowledge-base"},icon:"InfoIcon",isBookmarked:!1},{title:"Leaflet",route:{name:"maps-leaflet"},icon:"MapPinIcon",isBookmarked:!1},{title:"List Group",route:{name:"components-list-group"},icon:"ListIcon",isBookmarked:!1},{title:"Login V1",route:{name:"auth-login-v1"},icon:"LogInIcon",isBookmarked:!1},{title:"Login V2",route:{name:"auth-login-v2"},icon:"LogInIcon",isBookmarked:!1},{title:"Media Objects",route:{name:"components-media"},icon:"ImageIcon",isBookmarked:!1},{title:"Modal",route:{name:"components-modal"},icon:"CopyIcon",isBookmarked:!1},{title:"Nav",route:{name:"components-nav"},icon:"CreditCardIcon",isBookmarked:!1},{title:"Not Authorized",route:{name:"misc-not-authorized"},icon:"XOctagonIcon",isBookmarked:!1},{title:"Overlay",route:{name:"components-overlay"},icon:"CopyIcon",isBookmarked:!1},{title:"Pagination Nav",route:{name:"components-pagination-nav"},icon:"HashIcon",isBookmarked:!1},{title:"Pagination",route:{name:"components-pagination"},icon:"HashIcon",isBookmarked:!1},{title:"Pill Badge",route:{name:"components-pill-badge"},icon:"TagIcon",isBookmarked:!1},{title:"Pill",route:{name:"components-pill"},icon:"TagIcon",isBookmarked:!1},{title:"Popover",route:{name:"components-popover"},icon:"TagIcon",isBookmarked:!1},{title:"Pricing",route:{name:"pages-pricing"},icon:"DollarSignIcon",isBookmarked:!1},{title:"Product Details",route:{name:"apps-e-commerce-product-details",params:{slug:"apple-watch-series-5-27"}},icon:"BoxIcon",isBookmarked:!1},{title:"Profile",route:{name:"pages-profile"},icon:"UserIcon",isBookmarked:!1},{title:"Progress",route:{name:"components-progress"},icon:"ChevronsRightIcon",isBookmarked:!1},{title:"Quill Editor",route:{name:"extensions-quill-editor"},icon:"TypeIcon",isBookmarked:!1},{title:"Radio",route:{name:"forms-element-radio"},icon:"DiscIcon",isBookmarked:!1},{title:"Register V1",route:{name:"auth-register-v1"},icon:"UserPlusIcon",isBookmarked:!1},{title:"Register V2",route:{name:"auth-register-v2"},icon:"UserPlusIcon",isBookmarked:!1},{title:"Reset Password V1",route:{name:"auth-reset-password-v1"},icon:"KeyIcon",isBookmarked:!1},{title:"Reset Password V2",route:{name:"auth-reset-password-v2"},icon:"KeyIcon",isBookmarked:!1},{title:"Select",route:{name:"forms-element-select"},icon:"AlignCenterIcon",isBookmarked:!1},{title:"Shop",route:{name:"apps-e-commerce-shop"},icon:"ArchiveIcon",isBookmarked:!1},{title:"Sidebar",route:{name:"components-sidebar"},icon:"SidebarIcon",isBookmarked:!1},{title:"Slider",route:{name:"extensions-slider"},icon:"GitCommitIcon",isBookmarked:!1},{title:"Spinbutton",route:{name:"forms-element-spinbutton"},icon:"TypeIcon",isBookmarked:!1},{title:"Spinner",route:{name:"components-spinner"},icon:"LoaderIcon",isBookmarked:!1},{title:"Statistics Cards",route:{name:"card-statistic"},icon:"CreditCardIcon",isBookmarked:!1},{title:"Sweet Alert",route:{name:"extensions-sweet-alert"},icon:"BellIcon",isBookmarked:!1},{title:"Swiper",route:{name:"extensions-swiper"},icon:"ImageIcon",isBookmarked:!1},{title:"Switch",route:{name:"forms-element-switch"},icon:"ToggleRightIcon",isBookmarked:!1},{title:"Tab",route:{name:"components-tab"},icon:"CreditCardIcon",isBookmarked:!1},{title:"Textarea",route:{name:"forms-element-textarea"},icon:"TypeIcon",isBookmarked:!1},{title:"Time",route:{name:"components-time"},icon:"ClockIcon",isBookmarked:!1},{title:"Timeline",route:{name:"components-timeline"},icon:"GitCommitIcon",isBookmarked:!1},{title:"Toastification",route:{name:"extensions-toastification"},icon:"BellIcon",isBookmarked:!1},{title:"Toasts",route:{name:"components-toasts"},icon:"BellIcon",isBookmarked:!1},{title:"todos.menu",route:{name:"apps-todo"},icon:"CheckSquareIcon",isBookmarked:!0,permission:"todos.index"},{title:"patients.menu",route:{name:"apps-patients-list"},icon:"HeartIcon",isBookmarked:!0,permission:"patients.index"},{title:"Tooltip",route:{name:"components-tooltip"},icon:"CopyIcon",isBookmarked:!1},{title:"Tour",route:{name:"extensions-tour"},icon:"GlobeIcon",isBookmarked:!1},{title:"Typography",route:{name:"ui-typography"},icon:"TypeIcon",isBookmarked:!1},{title:"Under Maintenance",route:{name:"misc-under-maintenance"},icon:"MonitorIcon",isBookmarked:!1},{title:"Users Edit",route:{name:"apps-users-edit",params:{id:21}},icon:"UserIcon",isBookmarked:!1},{title:"Users List",route:{name:"apps-users-list"},icon:"UserIcon",isBookmarked:!1},{title:"Users View",route:{name:"apps-users-view",params:{id:21}},icon:"UserIcon",isBookmarked:!1},{title:"Vue Select",route:{name:"extensions-vue-select"},icon:"AlignCenterIcon",isBookmarked:!1},{title:"Wishlist",route:{name:"apps-e-commerce-wishlist"},icon:"HeartIcon",isBookmarked:!1}]},files:{key:"file_name",data:[{file_name:"Joe's CV",from:"Stacy Watson",icon:n("Z0BQ"),size:"1.7 mb"},{file_name:"Passport Image",from:"Ben Sinitiere",icon:n("RxWR"),size:" 52 kb"},{file_name:"Questions",from:"Charleen Patti",icon:n("Z0BQ"),size:"1.5 gb"},{file_name:"Parenting Guide",from:"Doyle Blatteau",icon:n("Z0BQ"),size:"2.3 mb"},{file_name:"Class Notes",from:"Gwen Greenlow",icon:n("Z0BQ"),size:" 30 kb"},{file_name:"Class Attendance",from:"Tom Alred",icon:n("RXR3"),size:"52 mb"},{file_name:"Company Salary",from:"Nellie Dezan",icon:n("RXR3"),size:"29 mb"},{file_name:"Company Logo",from:"Steve Sheldon",icon:n("RxWR"),size:"1.3 mb"},{file_name:"Crime Rates",from:"Sherlock Holmes",icon:n("RXR3"),size:"37 kb"},{file_name:"Ulysses",from:"Theresia Wrenne",icon:n("RVqs"),size:"7.2 mb"},{file_name:"War and Peace",from:"Goldie Highnote",icon:n("RVqs"),size:"10.5 mb"},{file_name:"Vedas",from:"Ajay Patel",icon:n("RVqs"),size:"8.3 mb"},{file_name:"The Trial",from:"Sirena Linkert",icon:n("RVqs"),size:"1.5 mb"}]},appointments:{key:"name",data:[{full_name:"",email:"",date:"",custom_date:"",observation:"",docto:"",state:"",rut:"",document_type:""}]},contacts:{key:"name",data:[{img:n("u0ju"),name:"Rena Brant",email:"nephrod@preany.co.uk",time:"21/05/2019"},{img:n("vj79"),name:"Mariano Packard",email:"seek@sparaxis.org",time:"14/01/2018"},{img:n("V/Tw"),name:"Risa Montufar",email:"vagary@unblist.org",time:"10/08/2019"},{img:n("ZhGK"),name:"Maragaret Cimo",email:"designed@insanely.net",time:"01/12/2019"},{img:n("9x99"),name:"Jona Prattis",email:"unwieldable@unblist.org",time:"21/05/2019"},{img:n("/akj"),name:"Edmond Chicon",email:"museist@anaphyte.co.uk",time:"15/11/2019"},{img:n("2AM2"),name:"Abbey Darden",email:"astema@defectively.co.uk",time:"07/05/2019"},{img:n("x4YM"),name:"Seema Moallankamp",email:"fernando@storkish.co.uk",time:"13/08/2017"},{img:n("vj79"),name:"Charleen Warmington",email:"furphy@cannibal.net",time:"11/08/1891"},{img:n("2AM2"),name:"Geri Linch",email:"insignia@markab.org",time:"18/01/2015"},{img:n("vzk/"),name:"Shellie Muster",email:"maxillary@equalize.co.uk",time:"26/07/2019"},{img:n("nJt4"),name:"Jesenia Vanbramer",email:"hypotony@phonetist.net",time:"12/09/2017"},{img:n("vzk/"),name:"Mardell Channey",email:"peseta@myrica.com",time:"11/11/2019"}]},reportes:{key:"title",data:[{title:"Reporte de Citas Médicas",route:{name:"reports-appointments"},icon:"CalendarIcon",isBookmarked:!1},{title:"Reporte de Pacientes",route:{name:"reports-patients"},icon:"HeartIcon",isBookmarked:!1},{title:"Reporte de Gastos",route:{name:"reports-expenses"},icon:"TrendingDownIcon",isBookmarked:!1},{title:"Reporte de Pagos",route:{name:"reports-payments"},icon:"TrendingUpIcon",isBookmarked:!1},{title:"Reporte de Medicamentos",route:{name:"reports-medicines"},icon:"PackageIcon",isBookmarked:!1},{title:"Reporte de Presupuestos",route:{name:"reports-budgets"},icon:"PieChartIcon",isBookmarked:!1}]}}},wfFb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("FNk8");var r=n("7Ql6"),i=n("tvh2");function s(e,t){var n=Object(r.ref)(!0),s=Object(r.ref)("xl"),o=Object(r.computed)((function(){return i.a.state.verticalMenu.isVerticalMenuCollapsed})),a=Object(r.computed)((function(){var r=[];return"xl"===s.value?(r.push("vertical-menu-modern"),r.push(o.value?"menu-collapsed":"menu-expanded")):(r.push("vertical-overlay-menu"),r.push(n.value?"menu-open":"menu-hide")),r.push("navbar-".concat(e.value)),"sticky"===t.value&&r.push("footer-fixed"),"static"===t.value&&r.push("footer-static"),"hidden"===t.value&&r.push("footer-hidden"),r}));Object(r.watch)(s,(function(e){n.value="xl"===e}));var c=Object(r.computed)((function(){return"xl"!==s.value&&n.value?"show":null})),u=Object(r.computed)((function(){return"sticky"===e.value?"fixed-top":"static"===e.value?"navbar-static-top":"hidden"===e.value?"d-none":"floating-nav"})),l=Object(r.computed)((function(){return"static"===t.value?"footer-static":"hidden"===t.value?"d-none":""}));return{isVerticalMenuActive:n,toggleVerticalMenuActive:function(){n.value=!n.value},isVerticalMenuCollapsed:o,layoutClasses:a,overlayClasses:c,navbarTypeClass:u,footerTypeClass:l,resizeHandler:function(){window.innerWidth>=1200?s.value="xl":window.innerWidth>=992?s.value="lg":window.innerWidth>=768?s.value="md":window.innerWidth>=576?s.value="sm":s.value="xs"}}}},x3S0:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return o}));n("toAj"),n("07d7"),n("JfAA"),n("rB9j"),n("EnZy"),n("FZtP"),n("+2oP"),n("FNk8"),n("oVuX"),n("2B1R"),n("UxlC"),n("u6Gj");var r=function(e){return e>999?"".concat((e/1e3).toFixed(1),"k"):e},i=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if(!e)return"";var n=e.toString(),r=n.split(t),i=[];return r.forEach((function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);i.push(t)})),i.join(" ")},o=function(e){return e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()})).join(""):""}},x4YM:function(e,t){e.exports="/images/_/_/_/_/saas-dental/resources/js/src/assets/images/portrait/small/avatar-s-10.jpg"},xRNQ:function(e,t,n){var r=n("I+eb"),i=n("Gi26"),s=n("2bX/"),o=n("DVFp"),a=n("VpIT"),c=n("C0Od"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!s(e))throw TypeError(o(e)+" is not a symbol");if(i(u,e))return u[e]}})},z39Y:function(e,t,n){"use strict";n("6DYs")}}]);